2025-08-10 18:05:32.635 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 18:05:33.374 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 18:05:51.829 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 18:05:52.611 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 18:05:52.730 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `Fashion_Site`;
2025-08-10 18:05:52.911 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:52.934 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 18:05:52.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-08-10 18:05:52.959 +03:00 [INF] Applying migration '20250810150535_init'.
2025-08-10 18:05:53.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-08-10 18:05:53.239 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoles` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoles` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.259 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Categories` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `DisplayOrder` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Categories` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.272 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Collections` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NULL,
    `DisplayOrder` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Collections` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.291 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `PaymentProviders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `ApiEndpoint` varchar(100) CHARACTER SET utf8mb4 NOT NULL,
    `PublicKey` varchar(500) CHARACTER SET utf8mb4 NULL,
    `PrivateKey` varchar(200) CHARACTER SET utf8mb4 NULL,
    `Provider` int NOT NULL,
    `Hmac` longtext CHARACTER SET utf8mb4 NULL,
    `IframeId` longtext CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_PaymentProviders` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.310 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Warehouses` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Address` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `Phone` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Email` varchar(100) CHARACTER SET utf8mb4 NULL,
    `Description` varchar(500) CHARACTER SET utf8mb4 NULL,
    `IsActive` tinyint(1) NOT NULL,
    `ManagerName` longtext CHARACTER SET utf8mb4 NULL,
    `ManagerPhone` longtext CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Warehouses` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.352 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetRoleClaims` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `RoleId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ClaimType` longtext CHARACTER SET utf8mb4 NULL,
    `ClaimValue` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetRoleClaims` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_AspNetRoleClaims_AspNetRoles_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `AspNetRoles` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.386 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Discount` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `DiscountPercent` decimal(18,2) NOT NULL,
    `StartDate` datetime(6) NOT NULL,
    `EndDate` datetime(6) NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CategoryId` int NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Discount` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Discount_Categories_CategoryId` FOREIGN KEY (`CategoryId`) REFERENCES `Categories` (`Id`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.420 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `SubCategories` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `CategoryId` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_SubCategories` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_SubCategories_Categories_CategoryId` FOREIGN KEY (`CategoryId`) REFERENCES `Categories` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.454 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `PaymentMethods` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Method` int NOT NULL,
    `PaymentProviderId` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `IntegrationId` longtext CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_PaymentMethods` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_PaymentMethods_PaymentProviders_PaymentProviderId` FOREIGN KEY (`PaymentProviderId`) REFERENCES `PaymentProviders` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:53.502 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Products` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Description` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `SubCategoryId` int NOT NULL,
    `Quantity` int NOT NULL,
    `DiscountId` int NULL,
    `Price` decimal(18,2) NOT NULL,
    `fitType` int NOT NULL,
    `Gender` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Products` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Products_Discount_DiscountId` FOREIGN KEY (`DiscountId`) REFERENCES `Discount` (`Id`) ON DELETE SET NULL,
    CONSTRAINT `FK_Products_SubCategories_SubCategoryId` FOREIGN KEY (`SubCategoryId`) REFERENCES `SubCategories` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:55.058 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Images` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Url` longtext CHARACTER SET utf8mb4 NOT NULL,
    `AltText` longtext CHARACTER SET utf8mb4 NULL,
    `Title` longtext CHARACTER SET utf8mb4 NULL,
    `Width` int NULL,
    `Height` int NULL,
    `FileSize` bigint NULL,
    `UploadDate` datetime(6) NOT NULL,
    `CustomerId` longtext CHARACTER SET utf8mb4 NULL,
    `Folder` longtext CHARACTER SET utf8mb4 NULL,
    `IsMain` tinyint(1) NOT NULL,
    `FileType` longtext CHARACTER SET utf8mb4 NULL,
    `CategoryId` int NULL,
    `SubCategoryId` int NULL,
    `ProductId` int NULL,
    `CollectionId` int NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Images` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Images_Categories_CategoryId` FOREIGN KEY (`CategoryId`) REFERENCES `Categories` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Images_Collections_CollectionId` FOREIGN KEY (`CollectionId`) REFERENCES `Collections` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Images_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_Images_SubCategories_SubCategoryId` FOREIGN KEY (`SubCategoryId`) REFERENCES `SubCategories` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:55.101 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductCollections` (
    `ProductId` int NOT NULL,
    `CollectionId` int NOT NULL,
    `Id` int NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_ProductCollections` PRIMARY KEY (`ProductId`, `CollectionId`),
    CONSTRAINT `FK_ProductCollections_Collections_CollectionId` FOREIGN KEY (`CollectionId`) REFERENCES `Collections` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ProductCollections_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:55.156 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductInventory` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `ProductId` int NOT NULL,
    `WarehouseId` int NOT NULL,
    `Quantity` int NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_ProductInventory` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_ProductInventory_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ProductInventory_Warehouses_WarehouseId` FOREIGN KEY (`WarehouseId`) REFERENCES `Warehouses` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:55.189 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ProductVariants` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Color` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Size` int NULL,
    `Waist` int NULL,
    `Length` int NULL,
    `Quantity` int NOT NULL,
    `ProductId` int NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_ProductVariants` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_ProductVariants_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:55.214 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUsers` (
    `Id` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Discriminator` varchar(13) CHARACTER SET utf8mb4 NOT NULL,
    `Name` longtext CHARACTER SET utf8mb4 NULL,
    `Age` int NULL,
    `ProfilePicture` longtext CHARACTER SET utf8mb4 NULL,
    `CreateAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    `LastVisit` datetime(6) NULL,
    `ImageId` int NULL,
    `ImageId1` int NULL,
    `UserName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedUserName` varchar(256) CHARACTER SET utf8mb4 NULL,
    `Email` varchar(256) CHARACTER SET utf8mb4 NULL,
    `NormalizedEmail` varchar(256) CHARACTER SET utf8mb4 NULL,
    `EmailConfirmed` tinyint(1) NOT NULL,
    `PasswordHash` longtext CHARACTER SET utf8mb4 NULL,
    `SecurityStamp` longtext CHARACTER SET utf8mb4 NULL,
    `ConcurrencyStamp` longtext CHARACTER SET utf8mb4 NULL,
    `PhoneNumber` longtext CHARACTER SET utf8mb4 NULL,
    `PhoneNumberConfirmed` tinyint(1) NOT NULL,
    `TwoFactorEnabled` tinyint(1) NOT NULL,
    `LockoutEnd` datetime(6) NULL,
    `LockoutEnabled` tinyint(1) NOT NULL,
    `AccessFailedCount` int NOT NULL,
    CONSTRAINT `PK_AspNetUsers` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_AspNetUsers_Images_ImageId1` FOREIGN KEY (`ImageId1`) REFERENCES `Images` (`Id`)
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:57.878 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `adminOperationsLogs` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `AdminId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `OperationType` int NOT NULL,
    `ItemId` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Timestamp` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_adminOperationsLogs` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_adminOperationsLogs_AspNetUsers_AdminId` FOREIGN KEY (`AdminId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:57.913 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserClaims` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ClaimType` longtext CHARACTER SET utf8mb4 NULL,
    `ClaimValue` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetUserClaims` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_AspNetUserClaims_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:57.944 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserLogins` (
    `LoginProvider` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ProviderKey` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `ProviderDisplayName` longtext CHARACTER SET utf8mb4 NULL,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_AspNetUserLogins` PRIMARY KEY (`LoginProvider`, `ProviderKey`),
    CONSTRAINT `FK_AspNetUserLogins_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:57.977 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserRoles` (
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `RoleId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_AspNetUserRoles` PRIMARY KEY (`UserId`, `RoleId`),
    CONSTRAINT `FK_AspNetUserRoles_AspNetRoles_RoleId` FOREIGN KEY (`RoleId`) REFERENCES `AspNetRoles` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_AspNetUserRoles_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:05:57.991 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `AspNetUserTokens` (
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `LoginProvider` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Name` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Value` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_AspNetUserTokens` PRIMARY KEY (`UserId`, `LoginProvider`, `Name`),
    CONSTRAINT `FK_AspNetUserTokens_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:00.433 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Cart` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` longtext CHARACTER SET utf8mb4 NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `CheckoutDate` datetime(6) NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Cart` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Cart_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:00.483 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CustomerAddresses` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `PhoneNumber` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `Country` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `State` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `City` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `StreetAddress` varchar(200) CHARACTER SET utf8mb4 NOT NULL,
    `PostalCode` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `AddressType` varchar(20) CHARACTER SET utf8mb4 NOT NULL,
    `IsDefault` tinyint(1) NOT NULL,
    `AdditionalNotes` varchar(500) CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_CustomerAddresses` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_CustomerAddresses_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:00.523 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Reviews` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `ProductId` int NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `Rating` int NOT NULL,
    `Comment` varchar(1000) CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_Reviews` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Reviews_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Reviews_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:00.554 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `userOperationsLogs` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `UserId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `OperationType` int NOT NULL,
    `ItemId` int NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Timestamp` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_userOperationsLogs` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_userOperationsLogs_AspNetUsers_UserId` FOREIGN KEY (`UserId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:00.590 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `WishlistItems` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `ProductId` int NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_WishlistItems` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_WishlistItems_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_WishlistItems_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:02.820 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CartItems` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CartId` int NOT NULL,
    `ProductId` int NOT NULL,
    `ProductVariantId` int NULL,
    `Quantity` int NOT NULL,
    `UnitPrice` decimal(18,2) NOT NULL,
    `AddedAt` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_CartItems` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_CartItems_Cart_CartId` FOREIGN KEY (`CartId`) REFERENCES `Cart` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_CartItems_ProductVariants_ProductVariantId` FOREIGN KEY (`ProductVariantId`) REFERENCES `ProductVariants` (`Id`) ON DELETE SET NULL,
    CONSTRAINT `FK_CartItems_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:02.855 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Orders` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `CustomerAddressId` int NOT NULL,
    `OrderNumber` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Status` int NOT NULL,
    `Subtotal` decimal(18,2) NOT NULL,
    `TaxAmount` decimal(18,2) NOT NULL,
    `ShippingCost` decimal(18,2) NOT NULL,
    `DiscountAmount` decimal(18,2) NOT NULL,
    `Total` decimal(18,2) NOT NULL,
    `Notes` varchar(500) CHARACTER SET utf8mb4 NULL,
    `ShippedAt` datetime(6) NULL,
    `DeliveredAt` datetime(6) NULL,
    `CancelledAt` datetime(6) NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Orders` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Orders_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_Orders_CustomerAddresses_CustomerAddressId` FOREIGN KEY (`CustomerAddressId`) REFERENCES `CustomerAddresses` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:02.883 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Items` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `ProductId` int NOT NULL,
    `Quantity` int NOT NULL,
    `AddedAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_Items` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Items_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Items_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:02.914 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OrderItem` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `ProductId` int NOT NULL,
    `ProductVariantId` int NOT NULL,
    `Quantity` int NOT NULL,
    `UnitPrice` decimal(18,2) NOT NULL,
    `TotalPrice` decimal(18,2) NOT NULL,
    `OrderedAt` datetime(6) NOT NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_OrderItem` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_OrderItem_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_OrderItem_ProductVariants_ProductVariantId` FOREIGN KEY (`ProductVariantId`) REFERENCES `ProductVariants` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_OrderItem_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:02.946 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Payments` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `PaymentMethodId` int NOT NULL,
    `PaymentProviderId` int NOT NULL,
    `Amount` decimal(18,2) NOT NULL,
    `PaymentDate` datetime(6) NOT NULL,
    `OrderId` int NOT NULL,
    `Status` int NOT NULL,
    `TransactionId` varchar(100) CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_Payments` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_Payments_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_Payments_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_Payments_PaymentMethods_PaymentMethodId` FOREIGN KEY (`PaymentMethodId`) REFERENCES `PaymentMethods` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_Payments_PaymentProviders_PaymentProviderId` FOREIGN KEY (`PaymentProviderId`) REFERENCES `PaymentProviders` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:05.347 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ReturnRequests` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `OrderId` int NOT NULL,
    `CustomerId` varchar(255) CHARACTER SET utf8mb4 NOT NULL,
    `RequestDate` datetime(6) NOT NULL,
    `Status` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Reason` longtext CHARACTER SET utf8mb4 NOT NULL,
    `AdminComment` longtext CHARACTER SET utf8mb4 NULL,
    CONSTRAINT `PK_ReturnRequests` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_ReturnRequests_AspNetUsers_CustomerId` FOREIGN KEY (`CustomerId`) REFERENCES `AspNetUsers` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ReturnRequests_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:05.377 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `PaymentWebhooks` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `TransactionId` bigint NOT NULL,
    `OrderId` int NOT NULL,
    `PaymentId` int NULL,
    `PaymentMethod` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `Success` tinyint(1) NOT NULL,
    `Status` varchar(50) CHARACTER SET utf8mb4 NOT NULL,
    `AmountCents` decimal(18,2) NOT NULL,
    `Currency` varchar(10) CHARACTER SET utf8mb4 NOT NULL,
    `SourceSubType` varchar(50) CHARACTER SET utf8mb4 NULL,
    `SourceIssuer` varchar(100) CHARACTER SET utf8mb4 NULL,
    `CardLast4` varchar(20) CHARACTER SET utf8mb4 NULL,
    `PaymentProvider` varchar(50) CHARACTER SET utf8mb4 NULL,
    `ProviderOrderId` varchar(100) CHARACTER SET utf8mb4 NULL,
    `RawData` varchar(500) CHARACTER SET utf8mb4 NULL,
    `HmacVerified` tinyint(1) NOT NULL,
    `ErrorMessage` varchar(500) CHARACTER SET utf8mb4 NULL,
    `AuthorizationCode` varchar(100) CHARACTER SET utf8mb4 NULL,
    `ReceiptNumber` varchar(100) CHARACTER SET utf8mb4 NULL,
    `Is3DSecure` tinyint(1) NULL,
    `IsCapture` tinyint(1) NULL,
    `IsVoided` tinyint(1) NULL,
    `IsRefunded` tinyint(1) NULL,
    `IntegrationId` varchar(50) CHARACTER SET utf8mb4 NULL,
    `ProfileId` varchar(50) CHARACTER SET utf8mb4 NULL,
    `ProcessedAt` datetime(6) NULL,
    `RetryCount` int NOT NULL,
    `WebhookUniqueKey` varchar(100) CHARACTER SET utf8mb4 NULL,
    `CreatedAt` datetime(6) NULL,
    `ModifiedAt` datetime(6) NULL,
    `DeletedAt` datetime(6) NULL,
    CONSTRAINT `PK_PaymentWebhooks` PRIMARY KEY (`Id`),
    CONSTRAINT `FK_PaymentWebhooks_Orders_OrderId` FOREIGN KEY (`OrderId`) REFERENCES `Orders` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_PaymentWebhooks_Payments_PaymentId` FOREIGN KEY (`PaymentId`) REFERENCES `Payments` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:05.408 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `ReturnRequestProducts` (
    `ReturnRequestId` int NOT NULL,
    `ProductId` int NOT NULL,
    `Quantity` int NOT NULL,
    CONSTRAINT `PK_ReturnRequestProducts` PRIMARY KEY (`ReturnRequestId`, `ProductId`),
    CONSTRAINT `FK_ReturnRequestProducts_Products_ProductId` FOREIGN KEY (`ProductId`) REFERENCES `Products` (`Id`) ON DELETE RESTRICT,
    CONSTRAINT `FK_ReturnRequestProducts_ReturnRequests_ReturnRequestId` FOREIGN KEY (`ReturnRequestId`) REFERENCES `ReturnRequests` (`Id`) ON DELETE RESTRICT
) CHARACTER SET=utf8mb4;
2025-08-10 18:06:07.881 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_adminOperationsLogs_AdminId` ON `adminOperationsLogs` (`AdminId`);
2025-08-10 18:06:07.906 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetRoleClaims_RoleId` ON `AspNetRoleClaims` (`RoleId`);
2025-08-10 18:06:07.927 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `RoleNameIndex` ON `AspNetRoles` (`NormalizedName`);
2025-08-10 18:06:07.955 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserClaims_UserId` ON `AspNetUserClaims` (`UserId`);
2025-08-10 18:06:07.977 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserLogins_UserId` ON `AspNetUserLogins` (`UserId`);
2025-08-10 18:06:08.007 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUserRoles_RoleId` ON `AspNetUserRoles` (`RoleId`);
2025-08-10 18:06:08.026 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `EmailIndex` ON `AspNetUsers` (`NormalizedEmail`);
2025-08-10 18:06:08.047 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_AspNetUsers_ImageId1` ON `AspNetUsers` (`ImageId1`);
2025-08-10 18:06:08.062 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `UserNameIndex` ON `AspNetUsers` (`NormalizedUserName`);
2025-08-10 18:06:08.083 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Cart_CustomerId` ON `Cart` (`CustomerId`);
2025-08-10 18:06:08.102 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CartItems_CartId` ON `CartItems` (`CartId`);
2025-08-10 18:06:08.121 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CartItems_ProductId` ON `CartItems` (`ProductId`);
2025-08-10 18:06:08.135 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CartItems_ProductVariantId` ON `CartItems` (`ProductVariantId`);
2025-08-10 18:06:08.152 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CustomerAddresses_CustomerId` ON `CustomerAddresses` (`CustomerId`);
2025-08-10 18:06:08.173 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Discount_CategoryId` ON `Discount` (`CategoryId`);
2025-08-10 18:06:08.193 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_CategoryId` ON `Images` (`CategoryId`);
2025-08-10 18:06:08.208 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_CollectionId` ON `Images` (`CollectionId`);
2025-08-10 18:06:08.223 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_ProductId` ON `Images` (`ProductId`);
2025-08-10 18:06:08.239 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Images_SubCategoryId` ON `Images` (`SubCategoryId`);
2025-08-10 18:06:08.256 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Items_OrderId` ON `Items` (`OrderId`);
2025-08-10 18:06:08.271 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Items_ProductId` ON `Items` (`ProductId`);
2025-08-10 18:06:08.287 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderItem_OrderId` ON `OrderItem` (`OrderId`);
2025-08-10 18:06:08.302 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderItem_ProductId` ON `OrderItem` (`ProductId`);
2025-08-10 18:06:10.246 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_OrderItem_ProductVariantId` ON `OrderItem` (`ProductVariantId`);
2025-08-10 18:06:10.272 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Orders_CustomerAddressId` ON `Orders` (`CustomerAddressId`);
2025-08-10 18:06:10.292 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Orders_CustomerId` ON `Orders` (`CustomerId`);
2025-08-10 18:06:10.324 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_PaymentMethods_PaymentProviderId` ON `PaymentMethods` (`PaymentProviderId`);
2025-08-10 18:06:10.346 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Payments_CustomerId` ON `Payments` (`CustomerId`);
2025-08-10 18:06:10.363 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_Payments_OrderId` ON `Payments` (`OrderId`);
2025-08-10 18:06:10.396 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Payments_PaymentMethodId` ON `Payments` (`PaymentMethodId`);
2025-08-10 18:06:10.430 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Payments_PaymentProviderId` ON `Payments` (`PaymentProviderId`);
2025-08-10 18:06:10.460 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_PaymentWebhooks_OrderId` ON `PaymentWebhooks` (`OrderId`);
2025-08-10 18:06:10.478 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_PaymentWebhooks_PaymentId` ON `PaymentWebhooks` (`PaymentId`);
2025-08-10 18:06:10.500 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductCollections_CollectionId` ON `ProductCollections` (`CollectionId`);
2025-08-10 18:06:10.535 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductInventory_ProductId` ON `ProductInventory` (`ProductId`);
2025-08-10 18:06:10.553 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductInventory_WarehouseId` ON `ProductInventory` (`WarehouseId`);
2025-08-10 18:06:10.573 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Products_DiscountId` ON `Products` (`DiscountId`);
2025-08-10 18:06:10.587 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Products_SubCategoryId` ON `Products` (`SubCategoryId`);
2025-08-10 18:06:10.604 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ProductVariants_ProductId` ON `ProductVariants` (`ProductId`);
2025-08-10 18:06:10.621 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ReturnRequestProducts_ProductId` ON `ReturnRequestProducts` (`ProductId`);
2025-08-10 18:06:10.637 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ReturnRequests_CustomerId` ON `ReturnRequests` (`CustomerId`);
2025-08-10 18:06:10.654 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_ReturnRequests_OrderId` ON `ReturnRequests` (`OrderId`);
2025-08-10 18:06:10.674 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Reviews_CustomerId` ON `Reviews` (`CustomerId`);
2025-08-10 18:06:10.693 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Reviews_ProductId` ON `Reviews` (`ProductId`);
2025-08-10 18:06:10.710 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_SubCategories_CategoryId` ON `SubCategories` (`CategoryId`);
2025-08-10 18:06:10.737 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_userOperationsLogs_UserId` ON `userOperationsLogs` (`UserId`);
2025-08-10 18:06:11.843 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_WishlistItems_CustomerId` ON `WishlistItems` (`CustomerId`);
2025-08-10 18:06:11.860 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_WishlistItems_ProductId` ON `WishlistItems` (`ProductId`);
2025-08-10 18:06:11.869 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250810150535_init', '8.0.13');
2025-08-10 18:14:49.468 +03:00 [INF] Start installing Hangfire SQL objects...
2025-08-10 18:14:49.852 +03:00 [INF] Hangfire SQL objects installed.
2025-08-10 18:14:51.048 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 18:14:51.422 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 18:14:51.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 18:14:51.468 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-08-10 18:14:51.484 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-10 18:14:51.497 +03:00 [INF] Starting data seeding...
2025-08-10 18:14:51.528 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-10 18:14:51.946 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 18:14:51.970 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 18:14:52.147 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetRoles` (`Id`, `ConcurrencyStamp`, `Name`, `NormalizedName`)
VALUES (@p0, @p1, @p2, @p3);
2025-08-10 18:14:52.162 +03:00 [INF] Role 'Admin' created.
2025-08-10 18:14:52.168 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 18:14:52.176 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 18:14:52.186 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetRoles` (`Id`, `ConcurrencyStamp`, `Name`, `NormalizedName`)
VALUES (@p0, @p1, @p2, @p3);
2025-08-10 18:14:52.190 +03:00 [INF] Role 'User' created.
2025-08-10 18:14:52.215 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 18:14:52.220 +03:00 [INF] Admin user not found. Creating...
2025-08-10 18:14:52.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-10 18:14:52.340 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 18:14:52.606 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (Size = 13), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTimeOffset), @p14='?' (Size = 4000), @p15='?' (Size = 256), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
INSERT INTO `AspNetUsers` (`Id`, `AccessFailedCount`, `Age`, `ConcurrencyStamp`, `CreateAt`, `DeletedAt`, `Discriminator`, `Email`, `EmailConfirmed`, `ImageId`, `ImageId1`, `LastVisit`, `LockoutEnabled`, `LockoutEnd`, `Name`, `NormalizedEmail`, `NormalizedUserName`, `PasswordHash`, `PhoneNumber`, `PhoneNumberConfirmed`, `ProfilePicture`, `SecurityStamp`, `TwoFactorEnabled`, `UserName`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-08-10 18:14:52.625 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-08-10 18:14:52.675 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255), @__p_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`UserId`, `a`.`RoleId`
FROM `AspNetUserRoles` AS `a`
WHERE (`a`.`UserId` = @__p_0) AND (`a`.`RoleId` = @__p_1)
LIMIT 1
2025-08-10 18:14:52.687 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedRoleName_0
LIMIT 2
2025-08-10 18:14:52.704 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-08-10 18:14:52.711 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 18:14:52.760 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (Size = 255), @p24='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p25='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime), @p12='?' (DbType = Boolean), @p13='?' (DbType = DateTimeOffset), @p14='?' (Size = 4000), @p15='?' (Size = 256), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `AspNetUserRoles` (`RoleId`, `UserId`)
VALUES (@p0, @p1);
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p2, `Age` = @p3, `ConcurrencyStamp` = @p4, `CreateAt` = @p5, `DeletedAt` = @p6, `Email` = @p7, `EmailConfirmed` = @p8, `ImageId` = @p9, `ImageId1` = @p10, `LastVisit` = @p11, `LockoutEnabled` = @p12, `LockoutEnd` = @p13, `Name` = @p14, `NormalizedEmail` = @p15, `NormalizedUserName` = @p16, `PasswordHash` = @p17, `PhoneNumber` = @p18, `PhoneNumberConfirmed` = @p19, `ProfilePicture` = @p20, `SecurityStamp` = @p21, `TwoFactorEnabled` = @p22, `UserName` = @p23
WHERE `Id` = @p24 AND `ConcurrencyStamp` = @p25;
SELECT ROW_COUNT();
2025-08-10 18:14:52.777 +03:00 [INF] Admin user created and assigned to 'Admin' role.
2025-08-10 18:14:52.790 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__adminEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Email` = @__adminEmail_0)
LIMIT 1
2025-08-10 18:14:52.798 +03:00 [INF] Execute GetAll for entity PaymentProvider
2025-08-10 18:14:52.816 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Name_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `PaymentProviders` AS `p`
    WHERE `p`.`Name` = @__dto_Name_0)
2025-08-10 18:14:52.826 +03:00 [INF] Starting CreatePaymentProvider for user b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:14:52.832 +03:00 [INF] Creating payment provider: Paymob
2025-08-10 18:14:52.835 +03:00 [INF] Executing CreateAsync for entity PaymentProvider
2025-08-10 18:14:52.883 +03:00 [INF] PaymentProvider added successfully (pending save)
2025-08-10 18:14:52.918 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (Size = 50), @p7='?' (Size = 200), @p8='?' (DbType = Int32), @p9='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PaymentProviders` (`ApiEndpoint`, `CreatedAt`, `DeletedAt`, `Hmac`, `IframeId`, `ModifiedAt`, `Name`, `PrivateKey`, `Provider`, `PublicKey`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `PaymentProviders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:14:52.944 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:14:52.946 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:14:52.990 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:14:53.050 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:14:53.099 +03:00 [INF] Payment provider created successfully with ID 1
2025-08-10 18:14:53.104 +03:00 [INF] Payment provider 'Paymob' ensured.
2025-08-10 18:14:53.108 +03:00 [INF] Execute GetAll for entity PaymentMethod
2025-08-10 18:14:53.132 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Name_0='?' (Size = 20), @__dto_PaymentProviderid_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `PaymentMethods` AS `p`
    WHERE (`p`.`Name` = @__dto_Name_0) AND (`p`.`PaymentProviderId` = @__dto_PaymentProviderid_1))
2025-08-10 18:14:53.142 +03:00 [INF] Starting CreatePaymentMethod for user b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:14:53.149 +03:00 [INF] Creating payment method: Visa
2025-08-10 18:14:53.152 +03:00 [INF] Executing CreateAsync for entity PaymentMethod
2025-08-10 18:14:53.187 +03:00 [INF] PaymentMethod added successfully (pending save)
2025-08-10 18:14:53.206 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (Size = 20), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `PaymentMethods` (`CreatedAt`, `DeletedAt`, `IntegrationId`, `IsActive`, `Method`, `ModifiedAt`, `Name`, `PaymentProviderId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `PaymentMethods`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:14:53.216 +03:00 [INF] Payment method created successfully with ID 1
2025-08-10 18:14:53.218 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:14:53.219 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:14:53.223 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:14:53.225 +03:00 [INF] Admin operation logged for payment method 1
2025-08-10 18:14:53.232 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:14:53.667 +03:00 [INF] Payment method 'Visa' ensured.
2025-08-10 18:14:53.669 +03:00 [INF] Data seeding completed successfully.
2025-08-10 18:14:54.413 +03:00 [INF] Now listening on: http://localhost:5069
2025-08-10 18:14:54.514 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-08-10 18:14:54.546 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-08-10 18:14:54.559 +03:00 [INF] Using the following options for SQL Server job storage:
2025-08-10 18:14:54.562 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-08-10 18:14:54.563 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-10 18:14:54.592 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-10 18:14:54.596 +03:00 [INF] Hosting environment: Development
2025-08-10 18:14:54.638 +03:00 [INF] Server mrrobot:19412:9e88667a successfully announced in 44.2002 ms
2025-08-10 18:14:54.646 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-08-10 18:14:54.674 +03:00 [INF] Server mrrobot:19412:9e88667a is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-10 18:14:54.881 +03:00 [INF] Removing cache by tag: Paymentmethodcache
2025-08-10 18:14:54.891 +03:00 [WRN] No cache entries found for tag: Paymentmethodcache
2025-08-10 18:14:54.911 +03:00 [INF] Server mrrobot:19412:9e88667a all the dispatchers started
2025-08-10 18:14:55.883 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-10 18:14:56.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 312.5868ms
2025-08-10 18:14:56.278 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-10 18:14:56.278 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-10 18:14:56.308 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 18:14:56.421 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 142.2346ms
2025-08-10 18:14:56.452 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 143.8025ms
2025-08-10 18:14:56.511 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 232.2065ms
2025-08-10 18:14:56.691 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 18:14:56.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 269.5913ms
2025-08-10 18:15:34.931 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-08-10 18:15:34.945 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-10 18:15:36.463 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidIssuerException: IDX10205: Issuer validation failed. Issuer: 'this_by the greates omargamal'. Did not match: validationParameters.ValidIssuer: 'this_by the greatest omargamal' or validationParameters.ValidIssuers: 'null' or validationParameters.ConfigurationManager.CurrentConfiguration.Issuer: 'Null'. For more details, see https://aka.ms/IdentityModel/issuer-validation. 
   at Microsoft.IdentityModel.Tokens.Validators.ValidateIssuerAsync(String issuer, SecurityToken securityToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-10 18:15:36.474 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10205: Issuer validation failed. Issuer: 'this_by the greates omargamal'. Did not match: validationParameters.ValidIssuer: 'this_by the greatest omargamal' or validationParameters.ValidIssuers: 'null' or validationParameters.ConfigurationManager.CurrentConfiguration.Issuer: 'Null'. For more details, see https://aka.ms/IdentityModel/issuer-validation. 
2025-08-10 18:15:36.478 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:15:36.523 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:15:36.540 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 401 null application/json 1608.8313ms
2025-08-10 18:15:52.060 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-08-10 18:15:52.075 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:15:52.091 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-10 18:15:52.133 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-08-10 18:15:52.474 +03:00 [INF] In LoginAsync Method 
2025-08-10 18:15:52.488 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 18:15:52.592 +03:00 [INF] 🔐 Generating Access Token for User ID: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:15:52.599 +03:00 [INF] 🔐 Generating Access Token for User ID: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:15:52.656 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-08-10 18:15:52.685 +03:00 [INF] ✅ Access Token generated successfully for User ID: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:15:52.689 +03:00 [INF] 🔑 Generating Refresh Token for User ID: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:15:52.732 +03:00 [INF] ✅ RefreshToken generated successfully for User ID: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:15:52.764 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:15:52.788 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 644.3399ms
2025-08-10 18:15:52.793 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-08-10 18:15:52.799 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1403 application/json; charset=utf-8 738.5796ms
2025-08-10 18:15:54.888 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 1 of 10 will be performed in 00:00:43.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Deserialize(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 18:16:15.357 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/PaymentMethod?page=1&pageSize=10 - null null
2025-08-10 18:16:15.376 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:16:15.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:16:15.398 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.PaymentMethodController.GetAll (E-Commerce)'
2025-08-10 18:16:15.412 +03:00 [INF] Route matched with {action = "GetAll", controller = "PaymentMethod"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.Services.PaymentMethodDto]]]] GetAll(System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.PaymentMethodController (E-Commerce).
2025-08-10 18:16:15.429 +03:00 [INF] Admin requested GetAll PaymentMethods | isActive: , isDeleted: , Page: 1, PageSize: 10
2025-08-10 18:16:15.440 +03:00 [INF] Getting cache for key: paymentmethods___page1_size10
2025-08-10 18:16:15.445 +03:00 [WRN] Cache miss for key: paymentmethods___page1_size10
2025-08-10 18:16:15.448 +03:00 [INF] Execute GetAll for entity PaymentMethod
2025-08-10 18:16:15.492 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `PaymentMethods` AS `p`
2025-08-10 18:16:15.571 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Name`, `p`.`IsActive`, `p`.`PaymentProviderId`, `p`.`Method`
FROM `PaymentMethods` AS `p`
ORDER BY `p`.`Id`
LIMIT @__p_1 OFFSET @__p_0
2025-08-10 18:16:15.598 +03:00 [INF] Fetched payment methods from DB and cached result.
2025-08-10 18:16:15.601 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.Services.PaymentMethodDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 18:16:15.607 +03:00 [INF] Executed action E_Commerce.Controllers.PaymentMethodController.GetAll (E-Commerce) in 191.2121ms
2025-08-10 18:16:15.611 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.PaymentMethodController.GetAll (E-Commerce)'
2025-08-10 18:16:15.617 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/PaymentMethod?page=1&pageSize=10 - 200 281 application/json; charset=utf-8 260.0646ms
2025-08-10 18:16:24.952 +03:00 [INF] Setting cache for key: paymentmethods___page1_size10
2025-08-10 18:16:25.036 +03:00 [INF] Cache set successfully for key: paymentmethods___page1_size10 with tags: [Paymentmethodcache]
2025-08-10 18:16:54.826 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Cart/items - application/json 62
2025-08-10 18:16:54.837 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:16:54.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:16:54.855 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartController.AddItemToCart (E-Commerce)'
2025-08-10 18:16:54.863 +03:00 [INF] Route matched with {action = "AddItemToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Boolean]]] AddItemToCart(E_Commerce.DtoModels.CartDtos.CreateCartItemDto) on controller E_Commerce.Controllers.CartController (E-Commerce).
2025-08-10 18:16:54.880 +03:00 [INF] Executing AddItemToCart for product ID: 1
2025-08-10 18:16:54.894 +03:00 [INF] Adding item to cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305, product: 1
2025-08-10 18:16:54.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-08-10 18:16:54.920 +03:00 [INF] Execute GetAll for entity Product
2025-08-10 18:16:54.959 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__itemDto_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`, `d`.`Id`, `d`.`CategoryId`, `d`.`CreatedAt`, `d`.`DeletedAt`, `d`.`Description`, `d`.`DiscountPercent`, `d`.`EndDate`, `d`.`IsActive`, `d`.`ModifiedAt`, `d`.`Name`, `d`.`StartDate`
FROM `Products` AS `p`
LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
WHERE ((`p`.`Id` = @__itemDto_ProductId_0) AND `p`.`DeletedAt` IS NULL) AND `p`.`IsActive`
LIMIT 1
2025-08-10 18:16:54.977 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 18:16:54.984 +03:00 [INF] Executed action E_Commerce.Controllers.CartController.AddItemToCart (E-Commerce) in 114.8982ms
2025-08-10 18:16:54.989 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartController.AddItemToCart (E-Commerce)'
2025-08-10 18:16:54.998 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Cart/items - 404 227 application/json; charset=utf-8 171.3149ms
2025-08-10 18:17:17.860 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Products - application/json 127
2025-08-10 18:17:17.867 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:17:17.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:17:17.878 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.CreateProduct (E-Commerce)'
2025-08-10 18:17:17.894 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.ProductDtos.ProductDto]]] CreateProduct(E_Commerce.DtoModels.ProductDtos.CreateProductDto) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-08-10 18:17:17.933 +03:00 [INF] Executing CreateProduct
2025-08-10 18:17:17.942 +03:00 [INF] Creating new product: T
iwYTGK
2025-08-10 18:17:17.965 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__id_0) AND `s`.`DeletedAt` IS NULL)
2025-08-10 18:17:17.973 +03:00 [WRN] CreateProductAsync: Subcategory not found: 1
2025-08-10 18:17:17.977 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.ProductDtos.ProductDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:17:17.985 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.CreateProduct (E-Commerce) in 84.9739ms
2025-08-10 18:17:17.990 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.CreateProduct (E-Commerce)'
2025-08-10 18:17:17.993 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Products - 404 200 application/json; charset=utf-8 132.1604ms
2025-08-10 18:17:25.203 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 2 of 10 will be performed in 00:00:38.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Deserialize(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 18:17:25.244 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 3 of 10 will be performed in 00:01:04.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Deserialize(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 18:17:44.497 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/categories - multipart/form-data; boundary=--------------------------133540992804615841113952 408
2025-08-10 18:17:44.504 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:17:44.509 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:17:44.517 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CategoriesController.CreateAsync (E-Commerce)'
2025-08-10 18:17:44.525 +03:00 [INF] Route matched with {action = "CreateAsync", controller = "Categories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CategoryDtos.CategoryDto]]] CreateAsync(E_Commerce.DtoModels.CategoryDtos.CreateCategotyDto) on controller E_Commerce.Controllers.CategoriesController (E-Commerce).
2025-08-10 18:17:44.550 +03:00 [INF] Executing CreateAsync
2025-08-10 18:17:44.558 +03:00 [INF] Execute CreateAsync
2025-08-10 18:17:44.563 +03:00 [INF] Executing IsExsistsByNameAsync for name: firstcate
2025-08-10 18:17:44.572 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Categories` AS `c`
    WHERE `c`.`Name` = @__name_0)
2025-08-10 18:17:44.579 +03:00 [INF] Category with name: firstcate does not exist
2025-08-10 18:17:44.582 +03:00 [INF] Executing CreateAsync for entity Category
2025-08-10 18:17:44.609 +03:00 [INF] Category added successfully (pending save)
2025-08-10 18:17:44.621 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Categories` (`CreatedAt`, `DeletedAt`, `Description`, `DisplayOrder`, `IsActive`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `Categories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:17:44.629 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:17:44.632 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:17:44.634 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:17:44.666 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:17:44.681 +03:00 [INF] Executing GetByIdAsync for entity Category with ID: 1
2025-08-10 18:17:44.693 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-08-10 18:17:44.705 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CategoryDtos.CategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:17:44.715 +03:00 [INF] Executed action E_Commerce.Controllers.CategoriesController.CreateAsync (E-Commerce) in 186.513ms
2025-08-10 18:17:44.721 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CategoriesController.CreateAsync (E-Commerce)'
2025-08-10 18:17:44.725 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/categories - 201 447 application/json; charset=utf-8 227.5969ms
2025-08-10 18:17:45.039 +03:00 [INF] Removing cache by tags: [category, categorywithdata]
2025-08-10 18:17:45.043 +03:00 [WRN] No cache entries found for tags: [category, categorywithdata]
2025-08-10 18:17:53.765 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/subcategories - multipart/form-data; boundary=--------------------------941951199196944295307576 419
2025-08-10 18:17:53.770 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:17:53.775 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:17:53.779 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.Create (E-Commerce)'
2025-08-10 18:17:53.785 +03:00 [INF] Route matched with {action = "Create", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.SubCategorydto.SubCategoryDto]]] Create(E_Commerce.DtoModels.SubCategorydto.CreateSubCategoryDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-08-10 18:17:53.796 +03:00 [INF] Executing Create
2025-08-10 18:17:53.800 +03:00 [INF] Execute CreateAsync
2025-08-10 18:17:53.807 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:17:53.813 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.SubCategorydto.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:17:53.817 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.Create (E-Commerce) in 27.791ms
2025-08-10 18:17:53.819 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.Create (E-Commerce)'
2025-08-10 18:17:53.823 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/subcategories - 404 295 application/json; charset=utf-8 58.9007ms
2025-08-10 18:17:59.435 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/subcategories - multipart/form-data; boundary=--------------------------684721842993695577828500 419
2025-08-10 18:17:59.442 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:17:59.446 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:17:59.454 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.SubCategoryController.Create (E-Commerce)'
2025-08-10 18:17:59.457 +03:00 [INF] Route matched with {action = "Create", controller = "SubCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.SubCategorydto.SubCategoryDto]]] Create(E_Commerce.DtoModels.SubCategorydto.CreateSubCategoryDto) on controller E_Commerce.Controllers.SubCategoryController (E-Commerce).
2025-08-10 18:17:59.464 +03:00 [INF] Executing Create
2025-08-10 18:17:59.468 +03:00 [INF] Execute CreateAsync
2025-08-10 18:17:59.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Categories` AS `c`
    WHERE (`c`.`Id` = @__id_0) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:17:59.481 +03:00 [INF] Executing IsExsistByNameAsync for name: first subcategory
2025-08-10 18:17:59.489 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `SubCategories` AS `s`
    WHERE `s`.`Name` = @__name_0)
2025-08-10 18:17:59.495 +03:00 [INF] Category with name: first subcategory does not exist
2025-08-10 18:17:59.498 +03:00 [INF] Executing CreateAsync for entity SubCategory
2025-08-10 18:17:59.532 +03:00 [INF] SubCategory added successfully (pending save)
2025-08-10 18:17:59.543 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 50), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `SubCategories` (`CategoryId`, `CreatedAt`, `DeletedAt`, `Description`, `IsActive`, `ModifiedAt`, `Name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `SubCategories`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:17:59.550 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:17:59.551 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:17:59.554 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:17:59.577 +03:00 [INF] Successfully mapped subcategory to DTO
2025-08-10 18:17:59.579 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.SubCategorydto.SubCategoryDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:17:59.583 +03:00 [INF] Executed action E_Commerce.Controllers.SubCategoryController.Create (E-Commerce) in 121.0773ms
2025-08-10 18:17:59.587 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.SubCategoryController.Create (E-Commerce)'
2025-08-10 18:17:59.589 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/subcategories - 201 365 application/json; charset=utf-8 154.5266ms
2025-08-10 18:18:05.061 +03:00 [INF] Removing cache by tags: [subcategorydata, categorywithdata, subcategory]
2025-08-10 18:18:05.067 +03:00 [WRN] No cache entries found for tags: [subcategorydata, categorywithdata, subcategory]
2025-08-10 18:18:16.282 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Products - application/json 127
2025-08-10 18:18:16.288 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:18:16.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:18:16.300 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.CreateProduct (E-Commerce)'
2025-08-10 18:18:16.302 +03:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.ProductDtos.ProductDto]]] CreateProduct(E_Commerce.DtoModels.ProductDtos.CreateProductDto) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-08-10 18:18:16.309 +03:00 [INF] Executing CreateProduct
2025-08-10 18:18:16.313 +03:00 [INF] Creating new product: T
iwYTGK
2025-08-10 18:18:16.316 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `SubCategories` AS `s`
    WHERE (`s`.`Id` = @__id_0) AND `s`.`DeletedAt` IS NULL)
2025-08-10 18:18:16.326 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Products` AS `p`
    WHERE `p`.`Name` = @__name_0)
2025-08-10 18:18:16.334 +03:00 [INF] Executing CreateAsync for entity Product
2025-08-10 18:18:16.392 +03:00 [INF] Product added successfully (pending save)
2025-08-10 18:18:16.394 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:18:16.395 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:18:16.396 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:18:16.426 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 50), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?' (Size = 20), @p8='?' (DbType = Decimal), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 255), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Products` (`CreatedAt`, `DeletedAt`, `Description`, `DiscountId`, `Gender`, `IsActive`, `ModifiedAt`, `Name`, `Price`, `Quantity`, `SubCategoryId`, `fitType`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `Id`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:18:16.484 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.ProductDtos.ProductDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:18:16.494 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.CreateProduct (E-Commerce) in 187.7522ms
2025-08-10 18:18:16.496 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.CreateProduct (E-Commerce)'
2025-08-10 18:18:16.498 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Products - 201 446 application/json; charset=utf-8 215.7143ms
2025-08-10 18:18:25.117 +03:00 [INF] Removing cache by tags: [product_search, categorywithdata, productwithvariantdata, CollectionWithProduct, cart]
2025-08-10 18:18:25.130 +03:00 [WRN] No cache entries found for tags: [product_search, categorywithdata, productwithvariantdata, CollectionWithProduct, cart]
2025-08-10 18:18:31.073 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Products/1/images - multipart/form-data; boundary=--------------------------697782526071751225433843 341526
2025-08-10 18:18:31.078 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:18:31.085 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:18:31.093 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.AddProductImages (E-Commerce)'
2025-08-10 18:18:31.102 +03:00 [INF] Route matched with {action = "AddProductImages", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ImagesDtos.ImageDto]]]] AddProductImages(Int32, System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-08-10 18:18:31.161 +03:00 [INF] Adding images to product: 1
2025-08-10 18:18:31.166 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Products` AS `p`
    WHERE (`p`.`Id` = @__id_0) AND `p`.`DeletedAt` IS NULL)
2025-08-10 18:18:31.176 +03:00 [INF] 📥 Saving 1 images to ProductPhotos
2025-08-10 18:18:31.180 +03:00 [INF] 📥 Saving image to ProductPhotos
2025-08-10 18:18:31.197 +03:00 [INF] Executing CreateAsync for entity Image
2025-08-10 18:18:31.249 +03:00 [INF] Image added successfully (pending save)
2025-08-10 18:18:31.270 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int64), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime), @p16='?' (Size = 4000), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Images` (`AltText`, `CategoryId`, `CollectionId`, `CreatedAt`, `CustomerId`, `DeletedAt`, `FileSize`, `FileType`, `Folder`, `Height`, `IsMain`, `ModifiedAt`, `ProductId`, `SubCategoryId`, `Title`, `UploadDate`, `Url`, `Width`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `Id`
FROM `Images`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:18:31.287 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:18:31.289 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:18:31.292 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:18:31.294 +03:00 [INF] ✅ Image saved: /ProductPhotos/955c1a69-f095-4af6-abc9-81870e84891a.jpg
2025-08-10 18:18:31.299 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:18:31.302 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:18:31.306 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:18:31.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime), @p8='?' (Size = 255), @p9='?' (DbType = DateTime), @p10='?' (DbType = DateTime), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:18:31.342 +03:00 [INF] Successfully added 1 images to product 1
2025-08-10 18:18:31.346 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ImagesDtos.ImageDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 18:18:31.351 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.AddProductImages (E-Commerce) in 242.785ms
2025-08-10 18:18:31.357 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.AddProductImages (E-Commerce)'
2025-08-10 18:18:31.361 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Products/1/images - 201 234 application/json; charset=utf-8 288.1091ms
2025-08-10 18:18:35.102 +03:00 [INF] Removing cache by tags: [product_search, categorywithdata, productwithvariantdata]
2025-08-10 18:18:35.108 +03:00 [WRN] No cache entries found for tags: [product_search, categorywithdata, productwithvariantdata]
2025-08-10 18:18:42.185 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5069/api/Products/1/activate - null 0
2025-08-10 18:18:42.228 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:18:42.233 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:18:42.311 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.ActiveProduct (E-Commerce)'
2025-08-10 18:18:42.317 +03:00 [INF] Route matched with {action = "ActiveProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Boolean]]] ActiveProduct(Int32) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-08-10 18:18:42.329 +03:00 [INF] Execute GetAll for entity Product
2025-08-10 18:18:42.346 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`IsActive`, `p`.`DeletedAt` IS NOT NULL AS `isdeleted`, EXISTS (
    SELECT 1
    FROM `Images` AS `i`
    WHERE (`p`.`Id` = `i`.`ProductId`) AND `i`.`DeletedAt` IS NULL) AS `HasImages`, EXISTS (
    SELECT 1
    FROM `ProductVariants` AS `p0`
    WHERE (`p`.`Id` = `p0`.`ProductId`) AND (`p0`.`IsActive` AND (`p0`.`DeletedAt` IS NULL))) AS `HasActiveVariants`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1
2025-08-10 18:18:42.352 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 18:18:42.358 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.ActiveProduct (E-Commerce) in 39.4545ms
2025-08-10 18:18:42.360 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.ActiveProduct (E-Commerce)'
2025-08-10 18:18:42.362 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5069/api/Products/1/activate - 400 223 application/json; charset=utf-8 177.6202ms
2025-08-10 18:19:03.566 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Products/1/Variants - application/json 87
2025-08-10 18:19:03.572 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:19:03.578 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:19:03.583 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductVariantController.CreateVariant (E-Commerce)'
2025-08-10 18:19:03.594 +03:00 [INF] Route matched with {action = "CreateVariant", controller = "ProductVariant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.ProductDtos.ProductVariantDto]]] CreateVariant(Int32, E_Commerce.DtoModels.ProductDtos.CreateProductVariantDto) on controller E_Commerce.Controllers.ProductVariantController (E-Commerce).
2025-08-10 18:19:03.622 +03:00 [INF] Adding variant to product: 1
2025-08-10 18:19:03.626 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Products` AS `p`
    WHERE (`p`.`Id` = @__id_0) AND `p`.`DeletedAt` IS NULL)
2025-08-10 18:19:03.634 +03:00 [INF] Checking if variant with color=string, size=XXL, waist=61, length=166 already exists for product 1
2025-08-10 18:19:03.644 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `ProductVariants` AS `p`
    WHERE `p`.`ProductId` = @__productid_0)
2025-08-10 18:19:03.650 +03:00 [INF] Executing CreateAsync for entity ProductVariant
2025-08-10 18:19:03.682 +03:00 [INF] ProductVariant added successfully (pending save)
2025-08-10 18:19:03.684 +03:00 [INF] Updating product 1 quantity after adding variant
2025-08-10 18:19:03.719 +03:00 [INF] Recording admin operation for adding variant to product 1 by user b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:19:03.719 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DiscountId`, `t`.`Gender`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t`.`Price`, `t`.`Quantity`, `t`.`SubCategoryId`, `t`.`fitType`, `p0`.`Id`, `p0`.`Color`, `p0`.`CreatedAt`, `p0`.`DeletedAt`, `p0`.`IsActive`, `p0`.`Length`, `p0`.`ModifiedAt`, `p0`.`ProductId`, `p0`.`Quantity`, `p0`.`Size`, `p0`.`Waist`
FROM (
    SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`
    FROM `Products` AS `p`
    WHERE (`p`.`Id` = @__productid_0) AND `p`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `ProductVariants` AS `p0` ON `t`.`Id` = `p0`.`ProductId`
ORDER BY `t`.`Id`
2025-08-10 18:19:03.722 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:19:03.727 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:19:03.729 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:19:03.730 +03:00 [INF] Committing transaction for adding variant to product 1
2025-08-10 18:19:03.757 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p11='?' (DbType = Int32), @p10='?' (DbType = Int32), @p12='?' (Size = 255), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = DateTime), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ProductVariants` (`Color`, `CreatedAt`, `DeletedAt`, `IsActive`, `Length`, `ModifiedAt`, `ProductId`, `Quantity`, `Size`, `Waist`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `ProductVariants`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

UPDATE `Products` SET `Quantity` = @p10
WHERE `Id` = @p11;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:19:03.767 +03:00 [INF] Successfully added variant to product 1
2025-08-10 18:19:03.769 +03:00 [INF] Removing product caches after adding variant to product 1
2025-08-10 18:19:03.793 +03:00 [INF] Successfully completed adding variant (ID: 1) to product 1
2025-08-10 18:19:03.795 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.ProductDtos.ProductVariantDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:19:03.803 +03:00 [INF] Executed action E_Commerce.Controllers.ProductVariantController.CreateVariant (E-Commerce) in 202.3759ms
2025-08-10 18:19:03.809 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductVariantController.CreateVariant (E-Commerce)'
2025-08-10 18:19:03.811 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Products/1/Variants - 201 306 application/json; charset=utf-8 244.5423ms
2025-08-10 18:19:05.153 +03:00 [INF] Removing cache by tags: [productwithvariantdata, product_search, variantdata]
2025-08-10 18:19:05.160 +03:00 [WRN] No cache entries found for tags: [productwithvariantdata, product_search, variantdata]
2025-08-10 18:19:11.846 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5069/api/Products/1/activate - null 0
2025-08-10 18:19:11.851 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:19:11.854 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:19:11.859 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.ActiveProduct (E-Commerce)'
2025-08-10 18:19:11.860 +03:00 [INF] Route matched with {action = "ActiveProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Boolean]]] ActiveProduct(Int32) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-08-10 18:19:11.867 +03:00 [INF] Execute GetAll for entity Product
2025-08-10 18:19:11.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`IsActive`, `p`.`DeletedAt` IS NOT NULL AS `isdeleted`, EXISTS (
    SELECT 1
    FROM `Images` AS `i`
    WHERE (`p`.`Id` = `i`.`ProductId`) AND `i`.`DeletedAt` IS NULL) AS `HasImages`, EXISTS (
    SELECT 1
    FROM `ProductVariants` AS `p0`
    WHERE (`p`.`Id` = `p0`.`ProductId`) AND (`p0`.`IsActive` AND (`p0`.`DeletedAt` IS NULL))) AS `HasActiveVariants`
FROM `Products` AS `p`
WHERE `p`.`Id` = @__productId_0
LIMIT 1
2025-08-10 18:19:11.883 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__productid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`
FROM `Products` AS `p`
WHERE ((`p`.`Id` = @__productid_0) AND `p`.`DeletedAt` IS NULL) AND NOT (`p`.`IsActive`)
LIMIT 1
2025-08-10 18:19:11.887 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:19:11.889 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:19:11.890 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:19:11.901 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `IsActive` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:19:11.923 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 18:19:11.928 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.ActiveProduct (E-Commerce) in 62.9082ms
2025-08-10 18:19:11.932 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.ActiveProduct (E-Commerce)'
2025-08-10 18:19:11.934 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5069/api/Products/1/activate - 200 133 application/json; charset=utf-8 87.5747ms
2025-08-10 18:19:15.161 +03:00 [INF] Removing cache by tags: [product_search, categorywithdata, productwithvariantdata, CollectionWithProduct, cart]
2025-08-10 18:19:15.167 +03:00 [WRN] No cache entries found for tags: [product_search, categorywithdata, productwithvariantdata, CollectionWithProduct, cart]
2025-08-10 18:19:15.208 +03:00 [INF] Execution Worker recovered from the Faulted state after 00:00:10.0075869 and is in the Running state now
2025-08-10 18:19:33.815 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Cart/items - application/json 62
2025-08-10 18:19:33.823 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:19:33.828 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:19:33.833 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartController.AddItemToCart (E-Commerce)'
2025-08-10 18:19:33.835 +03:00 [INF] Route matched with {action = "AddItemToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Boolean]]] AddItemToCart(E_Commerce.DtoModels.CartDtos.CreateCartItemDto) on controller E_Commerce.Controllers.CartController (E-Commerce).
2025-08-10 18:19:33.840 +03:00 [INF] Executing AddItemToCart for product ID: 1
2025-08-10 18:19:33.843 +03:00 [INF] Adding item to cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305, product: 1
2025-08-10 18:19:33.848 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-08-10 18:19:33.852 +03:00 [INF] Execute GetAll for entity Product
2025-08-10 18:19:33.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__itemDto_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`, `d`.`Id`, `d`.`CategoryId`, `d`.`CreatedAt`, `d`.`DeletedAt`, `d`.`Description`, `d`.`DiscountPercent`, `d`.`EndDate`, `d`.`IsActive`, `d`.`ModifiedAt`, `d`.`Name`, `d`.`StartDate`
FROM `Products` AS `p`
LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
WHERE ((`p`.`Id` = @__itemDto_ProductId_0) AND `p`.`DeletedAt` IS NULL) AND `p`.`IsActive`
LIMIT 1
2025-08-10 18:19:33.867 +03:00 [INF] Executing GetByIdAsync for entity ProductVariant with ID: 1
2025-08-10 18:19:33.880 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Color`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`IsActive`, `p`.`Length`, `p`.`ModifiedAt`, `p`.`ProductId`, `p`.`Quantity`, `p`.`Size`, `p`.`Waist`
FROM `ProductVariants` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-08-10 18:19:33.892 +03:00 [INF] Retrieving cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:19:33.949 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CheckoutDate`, `t`.`CreatedAt`, `t`.`CustomerId`, `t`.`DeletedAt`, `t`.`ModifiedAt`, `t`.`UserId`, `t0`.`Id`, `t0`.`AddedAt`, `t0`.`CartId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`ModifiedAt`, `t0`.`ProductId`, `t0`.`ProductVariantId`, `t0`.`Quantity`, `t0`.`UnitPrice`
FROM (
    SELECT `c`.`Id`, `c`.`CheckoutDate`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`UserId`
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userId_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c0`.`Id`, `c0`.`AddedAt`, `c0`.`CartId`, `c0`.`CreatedAt`, `c0`.`DeletedAt`, `c0`.`ModifiedAt`, `c0`.`ProductId`, `c0`.`ProductVariantId`, `c0`.`Quantity`, `c0`.`UnitPrice`
    FROM `CartItems` AS `c0`
    WHERE `c0`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CartId`
ORDER BY `t`.`Id`
2025-08-10 18:19:33.957 +03:00 [INF] Executing CreateAsync for entity Cart
2025-08-10 18:19:33.976 +03:00 [INF] Cart added successfully (pending save)
2025-08-10 18:19:33.985 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Cart` (`CheckoutDate`, `CreatedAt`, `CustomerId`, `DeletedAt`, `ModifiedAt`, `UserId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `Id`
FROM `Cart`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:19:33.992 +03:00 [INF] Executing CreateAsync for entity CartItem
2025-08-10 18:19:34.018 +03:00 [INF] CartItem added successfully (pending save)
2025-08-10 18:19:34.020 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:19:34.023 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:19:34.025 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:19:34.036 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Decimal), @p9='?' (Size = 255), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `CartItems` (`AddedAt`, `CartId`, `CreatedAt`, `DeletedAt`, `ModifiedAt`, `ProductId`, `ProductVariantId`, `Quantity`, `UnitPrice`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `Id`
FROM `CartItems`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:19:34.048 +03:00 [INF] Removing cache for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:19:34.052 +03:00 [INF] Cache removed successfully for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:19:34.053 +03:00 [INF] Item added to cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305, product: 1
2025-08-10 18:19:34.055 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 18:19:34.058 +03:00 [INF] Executed action E_Commerce.Controllers.CartController.AddItemToCart (E-Commerce) in 219.7706ms
2025-08-10 18:19:34.063 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartController.AddItemToCart (E-Commerce)'
2025-08-10 18:19:34.065 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Cart/items - 200 134 application/json; charset=utf-8 250.2199ms
2025-08-10 18:19:40.422 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 4 of 10 will be performed in 00:03:08.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 18:20:08.300 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Order/create-from-cart - application/json 63
2025-08-10 18:20:08.307 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:20:08.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:20:08.319 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce)'
2025-08-10 18:20:08.327 +03:00 [INF] Route matched with {action = "CreateOrderFromCart", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderWithPaymentDto]]] CreateOrderFromCart(E_Commerce.DtoModels.OrderDtos.CreateOrderDto) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-08-10 18:20:08.339 +03:00 [INF] Executing CreateOrderFromCart
2025-08-10 18:20:08.348 +03:00 [INF] Creating order from cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:08.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-08-10 18:20:08.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userid_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userid_0) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:08.371 +03:00 [INF] Checking if address 1 exists for customer: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:08.379 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__addressId_0='?' (DbType = Int32), @__customerId_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `CustomerAddresses` AS `c`
    WHERE ((`c`.`Id` = @__addressId_0) AND (`c`.`CustomerId` = @__customerId_1)) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:08.388 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderWithPaymentDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:20:08.394 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce) in 61.2454ms
2025-08-10 18:20:08.397 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce)'
2025-08-10 18:20:08.421 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Order/create-from-cart - 400 206 application/json; charset=utf-8 121.2085ms
2025-08-10 18:20:25.923 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/CustomerAddress - application/json 207
2025-08-10 18:20:25.933 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:20:25.944 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:20:25.949 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CustomerAddressController.CreateAddress (E-Commerce)'
2025-08-10 18:20:25.959 +03:00 [INF] Route matched with {action = "CreateAddress", controller = "CustomerAddress"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.CustomerAddressDtos.CustomerAddressDto]]] CreateAddress(E_Commerce.DtoModels.CustomerAddressDtos.CreateCustomerAddressDto) on controller E_Commerce.Controllers.CustomerAddressController (E-Commerce).
2025-08-10 18:20:25.980 +03:00 [INF] Executing CreateAddress
2025-08-10 18:20:25.984 +03:00 [INF] Creating new address for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:25.988 +03:00 [INF] Getting address count for customer: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:25.995 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `CustomerAddresses` AS `c`
WHERE (`c`.`CustomerId` = @__customerId_0) AND `c`.`DeletedAt` IS NULL
2025-08-10 18:20:26.007 +03:00 [INF] Executing CreateAsync for entity CustomerAddress
2025-08-10 18:20:26.035 +03:00 [INF] CustomerAddress added successfully (pending save)
2025-08-10 18:20:26.038 +03:00 [INF] Removing default from other addresses for customer: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:26.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__customerId_0='?' (Size = 255), @__excludeAddressId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`AdditionalNotes`, `c`.`AddressType`, `c`.`City`, `c`.`Country`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`IsDefault`, `c`.`ModifiedAt`, `c`.`PhoneNumber`, `c`.`PostalCode`, `c`.`State`, `c`.`StreetAddress`
FROM `CustomerAddresses` AS `c`
WHERE (((`c`.`CustomerId` = @__customerId_0) AND (`c`.`Id` <> @__excludeAddressId_1)) AND `c`.`IsDefault`) AND `c`.`DeletedAt` IS NULL
2025-08-10 18:20:26.051 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:20:26.053 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:20:26.054 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:20:26.065 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 20), @p2='?' (Size = 50), @p3='?' (Size = 50), @p4='?' (DbType = DateTime), @p5='?' (Size = 255), @p6='?' (DbType = DateTime), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?' (Size = 20), @p10='?' (Size = 20), @p11='?' (Size = 50), @p12='?' (Size = 200), @p13='?' (Size = 255), @p14='?' (DbType = DateTime), @p15='?' (DbType = DateTime), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = DateTime), @p19='?' (DbType = Int32), @p20='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `CustomerAddresses` (`AdditionalNotes`, `AddressType`, `City`, `Country`, `CreatedAt`, `CustomerId`, `DeletedAt`, `IsDefault`, `ModifiedAt`, `PhoneNumber`, `PostalCode`, `State`, `StreetAddress`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT `Id`
FROM `CustomerAddresses`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:20:26.073 +03:00 [INF] Removing cache by tag: customer_address
2025-08-10 18:20:26.076 +03:00 [WRN] No cache entries found for tag: customer_address
2025-08-10 18:20:26.083 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.CustomerAddressDtos.CustomerAddressDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:20:26.090 +03:00 [INF] Executed action E_Commerce.Controllers.CustomerAddressController.CreateAddress (E-Commerce) in 122.0472ms
2025-08-10 18:20:26.096 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CustomerAddressController.CreateAddress (E-Commerce)'
2025-08-10 18:20:26.098 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/CustomerAddress - 201 577 application/json; charset=utf-8 174.9217ms
2025-08-10 18:20:32.656 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Order/create-from-cart - application/json 63
2025-08-10 18:20:32.663 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:20:32.668 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:20:32.674 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce)'
2025-08-10 18:20:32.676 +03:00 [INF] Route matched with {action = "CreateOrderFromCart", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderWithPaymentDto]]] CreateOrderFromCart(E_Commerce.DtoModels.OrderDtos.CreateOrderDto) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-08-10 18:20:32.682 +03:00 [INF] Executing CreateOrderFromCart
2025-08-10 18:20:32.686 +03:00 [INF] Creating order from cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:32.692 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-08-10 18:20:32.699 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userid_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userid_0) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:32.704 +03:00 [INF] Checking if address 1 exists for customer: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:32.706 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__addressId_0='?' (DbType = Int32), @__customerId_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `CustomerAddresses` AS `c`
    WHERE ((`c`.`Id` = @__addressId_0) AND (`c`.`CustomerId` = @__customerId_1)) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:32.718 +03:00 [INF] Getting cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:32.720 +03:00 [INF] Getting cache for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:32.723 +03:00 [WRN] Cache miss for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:32.732 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userid_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userid_0) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:32.735 +03:00 [INF] Execute GetAll for entity Cart
2025-08-10 18:20:32.842 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`UserId`, `t`.`c`, `t`.`CheckoutDate`, `t`.`CreatedAt`, `t0`.`Id`, `t0`.`ProductId`, `t0`.`Quantity`, `t0`.`AddedAt`, `t0`.`Id0`, `t0`.`Name`, `t0`.`Price`, `t0`.`FinalPrice`, `t0`.`DiscountName`, `t0`.`DiscountPrecentage`, `t0`.`MainImageUrl`, `t0`.`IsActive`, `t0`.`Color`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`ModifiedAt`, `t0`.`Size`, `t0`.`Waist`, `t0`.`Length`, `t0`.`Quantity0`, `t0`.`UnitPrice`, `t0`.`Id1`, `t0`.`Id2`
FROM (
    SELECT `c`.`Id`, `c`.`UserId`, (
        SELECT COUNT(*)
        FROM `CartItems` AS `c0`
        WHERE `c`.`Id` = `c0`.`CartId`) AS `c`, `c`.`CheckoutDate`, `c`.`CreatedAt`
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userId_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`Id`, `c1`.`ProductId`, `c1`.`Quantity`, `c1`.`AddedAt`, `p`.`Id` AS `Id0`, `p`.`Name`, `p`.`Price`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `p`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `p`.`Price`)
        ELSE `p`.`Price`
    END AS `FinalPrice`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`Name`
        ELSE NULL
    END AS `DiscountName`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
        ELSE 0.0
    END AS `DiscountPrecentage`, (
        SELECT `i`.`Url`
        FROM `Images` AS `i`
        WHERE (`p`.`Id` = `i`.`ProductId`) AND (`i`.`IsMain` AND (`i`.`DeletedAt` IS NULL))
        LIMIT 1) AS `MainImageUrl`, `p`.`IsActive`, `p0`.`Color`, `p0`.`CreatedAt`, `p0`.`DeletedAt`, `p0`.`ModifiedAt`, `p0`.`Size`, `p0`.`Waist`, `p0`.`Length`, `p0`.`Quantity` AS `Quantity0`, `c1`.`UnitPrice`, `d`.`Id` AS `Id1`, `p0`.`Id` AS `Id2`, `c1`.`CartId`
    FROM `CartItems` AS `c1`
    INNER JOIN `Products` AS `p` ON `c1`.`ProductId` = `p`.`Id`
    LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
    LEFT JOIN `ProductVariants` AS `p0` ON `c1`.`ProductVariantId` = `p0`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`CartId`
ORDER BY `t`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2025-08-10 18:20:32.856 +03:00 [INF] Setting cache for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:32.888 +03:00 [INF] Cache set successfully for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305 with tags: [cart]
2025-08-10 18:20:32.893 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderWithPaymentDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:20:32.896 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce) in 216.1769ms
2025-08-10 18:20:32.898 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce)'
2025-08-10 18:20:32.900 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Order/create-from-cart - 400 218 application/json; charset=utf-8 244.5138ms
2025-08-10 18:20:45.588 +03:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5069/api/Cart/CheckOut - null 0
2025-08-10 18:20:45.594 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:20:45.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:20:45.669 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.CartController.CheckOut (E-Commerce)'
2025-08-10 18:20:45.674 +03:00 [INF] Route matched with {action = "CheckOut", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Boolean]]] CheckOut() on controller E_Commerce.Controllers.CartController (E-Commerce).
2025-08-10 18:20:45.680 +03:00 [INF] Executing CheckOut
2025-08-10 18:20:45.684 +03:00 [INF] Checkout of cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:45.685 +03:00 [INF] Retrieving cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:45.726 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CheckoutDate`, `t`.`CreatedAt`, `t`.`CustomerId`, `t`.`DeletedAt`, `t`.`ModifiedAt`, `t`.`UserId`, `t0`.`Id`, `t0`.`AddedAt`, `t0`.`CartId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`ModifiedAt`, `t0`.`ProductId`, `t0`.`ProductVariantId`, `t0`.`Quantity`, `t0`.`UnitPrice`
FROM (
    SELECT `c`.`Id`, `c`.`CheckoutDate`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`UserId`
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userId_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c0`.`Id`, `c0`.`AddedAt`, `c0`.`CartId`, `c0`.`CreatedAt`, `c0`.`DeletedAt`, `c0`.`ModifiedAt`, `c0`.`ProductId`, `c0`.`ProductVariantId`, `c0`.`Quantity`, `c0`.`UnitPrice`
    FROM `CartItems` AS `c0`
    WHERE `c0`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CartId`
ORDER BY `t`.`Id`
2025-08-10 18:20:45.739 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Cart` SET `CheckoutDate` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();
2025-08-10 18:20:45.745 +03:00 [INF] Removing cache by tag: cart
2025-08-10 18:20:45.751 +03:00 [INF] Removed 1 cache entries for tag: cart
2025-08-10 18:20:45.758 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-10 18:20:45.760 +03:00 [INF] Executed action E_Commerce.Controllers.CartController.CheckOut (E-Commerce) in 83.5279ms
2025-08-10 18:20:45.768 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.CartController.CheckOut (E-Commerce)'
2025-08-10 18:20:45.770 +03:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5069/api/Cart/CheckOut - 200 122 application/json; charset=utf-8 181.956ms
2025-08-10 18:20:50.770 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Order/create-from-cart - application/json 63
2025-08-10 18:20:50.777 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 18:20:50.781 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-08-10 18:20:50.786 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce)'
2025-08-10 18:20:50.787 +03:00 [INF] Route matched with {action = "CreateOrderFromCart", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderWithPaymentDto]]] CreateOrderFromCart(E_Commerce.DtoModels.OrderDtos.CreateOrderDto) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-08-10 18:20:50.801 +03:00 [INF] Executing CreateOrderFromCart
2025-08-10 18:20:50.803 +03:00 [INF] Creating order from cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:50.807 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-08-10 18:20:50.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userid_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userid_0) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:50.817 +03:00 [INF] Checking if address 1 exists for customer: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:50.819 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__addressId_0='?' (DbType = Int32), @__customerId_1='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `CustomerAddresses` AS `c`
    WHERE ((`c`.`Id` = @__addressId_0) AND (`c`.`CustomerId` = @__customerId_1)) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:50.824 +03:00 [INF] Getting cart for user: b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:50.825 +03:00 [INF] Getting cache for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:50.827 +03:00 [WRN] Cache miss for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:50.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userid_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userid_0) AND `c`.`DeletedAt` IS NULL)
2025-08-10 18:20:50.884 +03:00 [INF] Execute GetAll for entity Cart
2025-08-10 18:20:50.928 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`UserId`, `t`.`c`, `t`.`CheckoutDate`, `t`.`CreatedAt`, `t0`.`Id`, `t0`.`ProductId`, `t0`.`Quantity`, `t0`.`AddedAt`, `t0`.`Id0`, `t0`.`Name`, `t0`.`Price`, `t0`.`FinalPrice`, `t0`.`DiscountName`, `t0`.`DiscountPrecentage`, `t0`.`MainImageUrl`, `t0`.`IsActive`, `t0`.`Color`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`ModifiedAt`, `t0`.`Size`, `t0`.`Waist`, `t0`.`Length`, `t0`.`Quantity0`, `t0`.`UnitPrice`, `t0`.`Id1`, `t0`.`Id2`
FROM (
    SELECT `c`.`Id`, `c`.`UserId`, (
        SELECT COUNT(*)
        FROM `CartItems` AS `c0`
        WHERE `c`.`Id` = `c0`.`CartId`) AS `c`, `c`.`CheckoutDate`, `c`.`CreatedAt`
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userId_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c1`.`Id`, `c1`.`ProductId`, `c1`.`Quantity`, `c1`.`AddedAt`, `p`.`Id` AS `Id0`, `p`.`Name`, `p`.`Price`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `p`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `p`.`Price`)
        ELSE `p`.`Price`
    END AS `FinalPrice`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`Name`
        ELSE NULL
    END AS `DiscountName`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
        ELSE 0.0
    END AS `DiscountPrecentage`, (
        SELECT `i`.`Url`
        FROM `Images` AS `i`
        WHERE (`p`.`Id` = `i`.`ProductId`) AND (`i`.`IsMain` AND (`i`.`DeletedAt` IS NULL))
        LIMIT 1) AS `MainImageUrl`, `p`.`IsActive`, `p0`.`Color`, `p0`.`CreatedAt`, `p0`.`DeletedAt`, `p0`.`ModifiedAt`, `p0`.`Size`, `p0`.`Waist`, `p0`.`Length`, `p0`.`Quantity` AS `Quantity0`, `c1`.`UnitPrice`, `d`.`Id` AS `Id1`, `p0`.`Id` AS `Id2`, `c1`.`CartId`
    FROM `CartItems` AS `c1`
    INNER JOIN `Products` AS `p` ON `c1`.`ProductId` = `p`.`Id`
    LEFT JOIN `Discount` AS `d` ON `p`.`DiscountId` = `d`.`Id`
    LEFT JOIN `ProductVariants` AS `p0` ON `c1`.`ProductVariantId` = `p0`.`Id`
) AS `t0` ON `t`.`Id` = `t0`.`CartId`
ORDER BY `t`.`Id`, `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`
2025-08-10 18:20:50.934 +03:00 [INF] Setting cache for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:50.936 +03:00 [INF] Cache set successfully for key: cart_user_b499dbb4-ef25-4602-96b7-3ff624eeb305 with tags: [cart]
2025-08-10 18:20:50.946 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Orders` AS `o`
    WHERE `o`.`OrderNumber` = @__orderNumber_0)
2025-08-10 18:20:50.951 +03:00 [INF] Executing CreateAsync for entity Order
2025-08-10 18:20:51.002 +03:00 [INF] Order added successfully (pending save)
2025-08-10 18:20:51.021 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (Size = 255), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Decimal), @p7='?' (DbType = DateTime), @p8='?' (Size = 500), @p9='?' (Size = 50), @p10='?' (DbType = DateTime), @p11='?' (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal), @p14='?' (DbType = Decimal), @p15='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Orders` (`CancelledAt`, `CreatedAt`, `CustomerAddressId`, `CustomerId`, `DeletedAt`, `DeliveredAt`, `DiscountAmount`, `ModifiedAt`, `Notes`, `OrderNumber`, `ShippedAt`, `ShippingCost`, `Status`, `Subtotal`, `TaxAmount`, `Total`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `Id`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:20:51.034 +03:00 [INF] Executing CreateRangeAsync for entity OrderItem
2025-08-10 18:20:51.058 +03:00 [INF] 1 OrderItem entities added successfully (pending save)
2025-08-10 18:20:51.061 +03:00 [INF] Clearing cart: 1
2025-08-10 18:20:51.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`AddedAt`, `c`.`CartId`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`ProductId`, `c`.`ProductVariantId`, `c`.`Quantity`, `c`.`UnitPrice`
FROM `CartItems` AS `c`
WHERE `c`.`CartId` = @__cartId_0
2025-08-10 18:20:51.075 +03:00 [INF] Cart 1 cleared successfully
2025-08-10 18:20:51.077 +03:00 [INF] Removing cache by tag: cart
2025-08-10 18:20:51.079 +03:00 [INF] Removed 1 cache entries for tag: cart
2025-08-10 18:20:51.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Decimal), @p10='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM `CartItems`
WHERE `Id` = @p0;
SELECT ROW_COUNT();

INSERT INTO `OrderItem` (`CreatedAt`, `DeletedAt`, `ModifiedAt`, `OrderId`, `OrderedAt`, `ProductId`, `ProductVariantId`, `Quantity`, `TotalPrice`, `UnitPrice`)
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `Id`
FROM `OrderItem`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:20:51.115 +03:00 [INF] Execute AddUserOpreationAsync
2025-08-10 18:20:51.118 +03:00 [INF] Executing CreateAsync for entity UserOperationsLog
2025-08-10 18:20:51.137 +03:00 [INF] UserOperationsLog added successfully (pending save)
2025-08-10 18:20:51.144 +03:00 [INF] Starting CreatePaymentMethod for user b499dbb4-ef25-4602-96b7-3ff624eeb305
2025-08-10 18:20:51.149 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Orders` AS `o`
    WHERE (`o`.`Id` = @__id_0) AND `o`.`DeletedAt` IS NULL)
2025-08-10 18:20:51.156 +03:00 [INF] Getting payment method ID for enum "Visa"
2025-08-10 18:20:51.157 +03:00 [INF] Execute GetAll for entity PaymentMethod
2025-08-10 18:20:51.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__methodEnum_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`
FROM `PaymentMethods` AS `p`
WHERE ((`p`.`Method` = @__methodEnum_0) AND `p`.`IsActive`) AND `p`.`DeletedAt` IS NULL
LIMIT 1
2025-08-10 18:20:51.172 +03:00 [INF] Found payment method ID 1 for enum "Visa"
2025-08-10 18:20:51.176 +03:00 [INF] Executing GetByIdAsync for entity PaymentMethod with ID: 1
2025-08-10 18:20:51.184 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`IntegrationId`, `p`.`IsActive`, `p`.`Method`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`PaymentProviderId`
FROM `PaymentMethods` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-08-10 18:20:51.200 +03:00 [INF] Execute GetAll for entity PaymentProvider
2025-08-10 18:20:51.206 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PublicKey`
FROM `PaymentProviders` AS `p`
WHERE `p`.`Provider` = 1
LIMIT 1
2025-08-10 18:20:51.212 +03:00 [INF] Executing GetTokenAsync
2025-08-10 18:20:52.068 +03:00 [INF] Successfully retrieved PayMob token
2025-08-10 18:20:52.071 +03:00 [INF] Getting address by ID: 1
2025-08-10 18:20:52.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__addressId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`AdditionalNotes`, `c`.`AddressType`, `c`.`City`, `c`.`Country`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`IsDefault`, `c`.`ModifiedAt`, `c`.`PhoneNumber`, `c`.`PostalCode`, `c`.`State`, `c`.`StreetAddress`, `t`.`Id`, `t`.`AccessFailedCount`, `t`.`ConcurrencyStamp`, `t`.`Discriminator`, `t`.`Email`, `t`.`EmailConfirmed`, `t`.`LockoutEnabled`, `t`.`LockoutEnd`, `t`.`NormalizedEmail`, `t`.`NormalizedUserName`, `t`.`PasswordHash`, `t`.`PhoneNumber`, `t`.`PhoneNumberConfirmed`, `t`.`SecurityStamp`, `t`.`TwoFactorEnabled`, `t`.`UserName`, `t`.`Age`, `t`.`CreateAt`, `t`.`DeletedAt`, `t`.`ImageId`, `t`.`ImageId1`, `t`.`LastVisit`, `t`.`Name`, `t`.`ProfilePicture`
FROM `CustomerAddresses` AS `c`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t` ON `c`.`CustomerId` = `t`.`Id`
WHERE (`c`.`Id` = @__addressId_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-08-10 18:20:52.597 +03:00 [INF] Successfully created PayMob order: 368658783 for local order: 1
2025-08-10 18:20:52.599 +03:00 [INF] Execute GetAll for entity PaymentMethod
2025-08-10 18:20:52.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_PaymentMethod_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`IntegrationId`
FROM `PaymentMethods` AS `p`
INNER JOIN `PaymentProviders` AS `p0` ON `p`.`PaymentProviderId` = `p0`.`Id`
WHERE ((`p`.`Method` = @__dto_PaymentMethod_0) AND `p`.`IsActive`) AND (`p0`.`Provider` = 1)
LIMIT 1
2025-08-10 18:20:52.610 +03:00 [INF] Using integration ID: 5221967 for payment method: "Visa"
2025-08-10 18:20:52.615 +03:00 [INF] Starting GeneratePaymentKeyAsync for Order ID: 368658783, Amount: 40000
2025-08-10 18:20:53.126 +03:00 [INF] Request sent to Paymob payment_keys endpoint
2025-08-10 18:20:53.128 +03:00 [INF] Received response from Paymob payment_keys endpoint
2025-08-10 18:20:53.131 +03:00 [INF] Payment key generated successfully for Order ID: 368658783
2025-08-10 18:20:53.133 +03:00 [INF] Successfully generated payment key for order: 1
2025-08-10 18:20:53.135 +03:00 [INF] Payment Key generated successfully for Paymob order: 368658783
2025-08-10 18:20:53.136 +03:00 [INF] Execute GetAll for entity PaymentProvider
2025-08-10 18:20:53.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`IframeId`
FROM `PaymentProviders` AS `p`
WHERE `p`.`Provider` = 1
LIMIT 1
2025-08-10 18:20:53.147 +03:00 [INF] Executing CreateAsync for entity Payment
2025-08-10 18:20:53.181 +03:00 [INF] Payment added successfully (pending save)
2025-08-10 18:20:53.212 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime), @p2='?' (Size = 255), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (DbType = DateTime), @p12='?' (DbType = DateTime), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime), @p18='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Payments` (`Amount`, `CreatedAt`, `CustomerId`, `DeletedAt`, `ModifiedAt`, `OrderId`, `PaymentDate`, `PaymentMethodId`, `PaymentProviderId`, `Status`, `TransactionId`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `Id`
FROM `Payments`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();

INSERT INTO `userOperationsLogs` (`CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`, `UserId`)
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `Id`
FROM `userOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:20:53.223 +03:00 [INF] Payment created successfully with ID 1
2025-08-10 18:20:53.226 +03:00 [INF] Execute AddAdminOpreationAsync
2025-08-10 18:20:53.229 +03:00 [INF] Executing CreateAsync for entity AdminOperationsLog
2025-08-10 18:20:53.231 +03:00 [INF] AdminOperationsLog added successfully (pending save)
2025-08-10 18:20:53.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 255), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `adminOperationsLogs` (`AdminId`, `CreatedAt`, `DeletedAt`, `Description`, `ItemId`, `ModifiedAt`, `OperationType`, `Timestamp`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `Id`
FROM `adminOperationsLogs`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
2025-08-10 18:20:53.244 +03:00 [INF] Execute GetAll for entity Order
2025-08-10 18:20:53.354 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__createdOrder_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`Id`, `t0`.`CreatedAt`, `t0`.`ModifiedAt`, `t0`.`OrderNumber`, `t0`.`Status`, `t0`.`Subtotal`, `t0`.`TaxAmount`, `t0`.`ShippingCost`, `t0`.`DiscountAmount`, `t0`.`Total`, `t0`.`Notes`, `t0`.`ShippedAt`, `t0`.`DeliveredAt`, `t0`.`CancelledAt`, `t0`.`c`, `t0`.`Id0`, `t0`.`Name`, `t0`.`Email`, `t0`.`PhoneNumber`, `t0`.`Id1`, `t0`.`Id2`, `t0`.`Id3`, `t1`.`Id`, `t1`.`CreatedAt`, `t1`.`ModifiedAt`, `t1`.`Quantity`, `t1`.`UnitPrice`, `t1`.`TotalPrice`, `t1`.`OrderedAt`, `t1`.`Id0`, `t1`.`Name`, `t1`.`Price`, `t1`.`IsActive`, `t1`.`FinalPrice`, `t1`.`DiscountPrecentage`, `t1`.`MainImageUrl`, `t1`.`Id1`, `t1`.`Color`, `t1`.`CreatedAt0`, `t1`.`ModifiedAt0`, `t1`.`Size`, `t1`.`DeletedAt`, `t1`.`Length`, `t1`.`Waist`, `t1`.`Id2`, `t1`.`Id3`, `t0`.`c0`, `t0`.`CreatedAt0`, `t0`.`ModifiedAt0`, `t0`.`CustomerId`, `t0`.`PaymentMethodId`, `t0`.`c1`, `t0`.`CreatedAt1`, `t0`.`ModifiedAt1`, `t0`.`Name0`, `t0`.`PaymentProviderId`, `t0`.`c2`, `t0`.`CreatedAt2`, `t0`.`ModifiedAt2`, `t0`.`Name1`, `t0`.`Amount`, `t0`.`PaymentDate`, `t0`.`OrderId`, `t0`.`DeletedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`ModifiedAt`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Subtotal`, `o`.`TaxAmount`, `o`.`ShippingCost`, `o`.`DiscountAmount`, `o`.`Total`, `o`.`Notes`, `o`.`ShippedAt`, `o`.`DeliveredAt`, `o`.`CancelledAt`, FALSE AS `c`, `t`.`Id` AS `Id0`, `t`.`Name`, `t`.`Email`, `t`.`PhoneNumber`, `p`.`Id` IS NULL AS `c0`, `p`.`Id` AS `Id1`, `p`.`CreatedAt` AS `CreatedAt0`, `p`.`ModifiedAt` AS `ModifiedAt0`, `p`.`CustomerId`, `p`.`PaymentMethodId`, `p0`.`Id` IS NULL AS `c1`, `p0`.`Id` AS `Id2`, `p0`.`CreatedAt` AS `CreatedAt1`, `p0`.`ModifiedAt` AS `ModifiedAt1`, `p0`.`Name` AS `Name0`, `p`.`PaymentProviderId`, `p1`.`Id` IS NULL AS `c2`, `p1`.`Id` AS `Id3`, `p1`.`CreatedAt` AS `CreatedAt2`, `p1`.`ModifiedAt` AS `ModifiedAt2`, `p1`.`Name` AS `Name1`, `p`.`Amount`, `p`.`PaymentDate`, `p`.`OrderId`, `p`.`DeletedAt`
    FROM `Orders` AS `o`
    INNER JOIN (
        SELECT `a`.`Id`, `a`.`Email`, `a`.`PhoneNumber`, `a`.`Name`
        FROM `AspNetUsers` AS `a`
        WHERE `a`.`Discriminator` = 'Customer'
    ) AS `t` ON `o`.`CustomerId` = `t`.`Id`
    LEFT JOIN `Payments` AS `p` ON `o`.`Id` = `p`.`OrderId`
    LEFT JOIN `PaymentMethods` AS `p0` ON `p`.`PaymentMethodId` = `p0`.`Id`
    LEFT JOIN `PaymentProviders` AS `p1` ON `p`.`PaymentProviderId` = `p1`.`Id`
    WHERE `o`.`Id` = @__createdOrder_Id_0
    LIMIT 1
) AS `t0`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`CreatedAt`, `o0`.`ModifiedAt`, `o0`.`Quantity`, `o0`.`UnitPrice`, `o0`.`TotalPrice`, `o0`.`OrderedAt`, `p2`.`Id` AS `Id0`, `p2`.`Name`, `p2`.`Price`, `p2`.`IsActive`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN ROUND(`p2`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `p2`.`Price`))
        ELSE `p2`.`Price`
    END AS `FinalPrice`, CASE
        WHEN (`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
        ELSE 0.0
    END AS `DiscountPrecentage`, COALESCE((
        SELECT `i`.`Url`
        FROM `Images` AS `i`
        WHERE (`p2`.`Id` = `i`.`ProductId`) AND `i`.`DeletedAt` IS NULL
        LIMIT 1), '') AS `MainImageUrl`, `o0`.`ProductVariantId` AS `Id1`, `p3`.`Color`, COALESCE(`p3`.`CreatedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `CreatedAt0`, COALESCE(`p3`.`ModifiedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `ModifiedAt0`, `p3`.`Size`, `p3`.`DeletedAt`, COALESCE(`p3`.`Length`, 0) AS `Length`, COALESCE(`p3`.`Waist`, 0) AS `Waist`, `d`.`Id` AS `Id2`, `p3`.`Id` AS `Id3`, `o0`.`OrderId`
    FROM `OrderItem` AS `o0`
    INNER JOIN `Products` AS `p2` ON `o0`.`ProductId` = `p2`.`Id`
    LEFT JOIN `Discount` AS `d` ON `p2`.`DiscountId` = `d`.`Id`
    INNER JOIN `ProductVariants` AS `p3` ON `o0`.`ProductVariantId` = `p3`.`Id`
) AS `t1` ON `t0`.`Id` = `t1`.`OrderId`
ORDER BY `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`, `t0`.`Id2`, `t0`.`Id3`, `t1`.`Id`, `t1`.`Id0`, `t1`.`Id2`
2025-08-10 18:20:53.368 +03:00 [INF] Removing cache by tag: order
2025-08-10 18:20:53.371 +03:00 [INF] Removed 3 cache entries for tag: order
2025-08-10 18:20:53.373 +03:00 [INF] Executing ObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderWithPaymentDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-10 18:20:53.397 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce) in 2605.8492ms
2025-08-10 18:20:53.399 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.CreateOrderFromCart (E-Commerce)'
2025-08-10 18:20:53.401 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Order/create-from-cart - 201 3039 application/json; charset=utf-8 2630.8875ms
2025-08-10 18:23:55.872 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 5 of 10 will be performed in 00:06:21.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 18:30:11.424 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 6 of 10 will be performed in 00:12:52.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 18:42:57.466 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 7 of 10 will be performed in 00:24:39.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 19:08:44.788 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 8 of 10 will be performed in 00:40:48.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 19:15:09.846 +03:00 [INF] DB tables already exist. Exit install
2025-08-10 19:15:11.332 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 19:15:11.643 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:15:11.658 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:15:11.689 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-08-10 19:15:11.706 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-10 19:15:11.716 +03:00 [INF] Starting data seeding...
2025-08-10 19:15:11.740 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-10 19:15:12.090 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:15:12.152 +03:00 [INF] Role 'Admin' already exists.
2025-08-10 19:15:12.165 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:15:12.171 +03:00 [INF] Role 'User' already exists.
2025-08-10 19:15:12.202 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 19:15:12.296 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-08-10 19:15:12.297 +03:00 [INF] Data seeding completed successfully.
2025-08-10 19:15:13.772 +03:00 [INF] Now listening on: http://localhost:5069
2025-08-10 19:15:13.887 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-08-10 19:15:13.906 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-08-10 19:15:13.908 +03:00 [INF] Using the following options for SQL Server job storage:
2025-08-10 19:15:13.909 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-08-10 19:15:13.911 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-10 19:15:13.923 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-10 19:15:13.924 +03:00 [INF] Hosting environment: Development
2025-08-10 19:15:13.925 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-08-10 19:15:13.943 +03:00 [INF] Server mrrobot:18092:5d6f9954 successfully announced in 13.8624 ms
2025-08-10 19:15:13.949 +03:00 [INF] Server mrrobot:18092:5d6f9954 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-10 19:15:14.023 +03:00 [INF] Server mrrobot:18092:5d6f9954 all the dispatchers started
2025-08-10 19:15:14.185 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-10 19:15:14.498 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 313.1844ms
2025-08-10 19:15:14.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-10 19:15:14.557 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-10 19:15:14.571 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:15:14.575 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 18.8315ms
2025-08-10 19:15:14.603 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 32.0296ms
2025-08-10 19:15:14.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.242ms
2025-08-10 19:15:14.742 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:15:15.076 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 333.7584ms
2025-08-10 19:17:05.442 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:17:05.683 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 240.4437ms
2025-08-10 19:17:05.929 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/favicon.ico - null null
2025-08-10 19:17:05.940 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-10 19:17:07.305 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 19:17:07.326 +03:00 [INF] No cached response available for this request.
2025-08-10 19:17:07.332 +03:00 [INF] The response could not be cached for this request.
2025-08-10 19:17:07.334 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/favicon.ico - 404 0 null 1404.8445ms
2025-08-10 19:17:07.341 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5069/favicon.ico, Response status code: 404
2025-08-10 19:20:05.242 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:20:05.280 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 38.4427ms
2025-08-10 19:20:05.425 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:20:05.601 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.1556ms
2025-08-10 19:20:13.980 +03:00 [INF] 1 servers were removed due to timeout
2025-08-10 19:21:13.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-10 19:21:13.171 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 14.3212ms
2025-08-10 19:21:13.210 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-10 19:21:13.215 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-10 19:21:13.216 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 6.0423ms
2025-08-10 19:21:13.232 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:21:13.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.3451ms
2025-08-10 19:21:13.243 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4909ms
2025-08-10 19:21:13.375 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:21:13.461 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.4629ms
2025-08-10 19:21:36.914 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2025-08-10 19:21:36.918 +03:00 [INF] Server mrrobot:18092:5d6f9954 caught stopping signal...
2025-08-10 19:21:36.921 +03:00 [INF] Server mrrobot:18092:5d6f9954 caught stopped signal...
2025-08-10 19:21:36.927 +03:00 [INF] Server mrrobot:18092:5d6f9954 All dispatchers stopped
2025-08-10 19:21:36.927 +03:00 [WRN] Server mrrobot:18092:5d6f9954 caught shutdown signal...
2025-08-10 19:21:36.938 +03:00 [INF] Server mrrobot:18092:5d6f9954 successfully reported itself as stopped in 6.457 ms
2025-08-10 19:21:36.939 +03:00 [INF] Server mrrobot:18092:5d6f9954 has been stopped in total 18.4012 ms
2025-08-10 19:21:40.059 +03:00 [INF] DB tables already exist. Exit install
2025-08-10 19:21:41.140 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 19:21:41.412 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:21:41.427 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:21:41.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-08-10 19:21:41.470 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-10 19:21:41.480 +03:00 [INF] Starting data seeding...
2025-08-10 19:21:41.506 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-10 19:21:41.806 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:21:41.860 +03:00 [INF] Role 'Admin' already exists.
2025-08-10 19:21:41.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:21:41.877 +03:00 [INF] Role 'User' already exists.
2025-08-10 19:21:41.897 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 19:21:41.984 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-08-10 19:21:41.987 +03:00 [INF] Data seeding completed successfully.
2025-08-10 19:21:42.375 +03:00 [INF] Now listening on: http://localhost:5069
2025-08-10 19:21:42.494 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-08-10 19:21:42.532 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-08-10 19:21:42.535 +03:00 [INF] Using the following options for SQL Server job storage:
2025-08-10 19:21:42.536 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-08-10 19:21:42.541 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-10 19:21:42.563 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-10 19:21:42.582 +03:00 [INF] Hosting environment: Development
2025-08-10 19:21:42.586 +03:00 [INF] Server mrrobot:20216:acb1f733 successfully announced in 13.0537 ms
2025-08-10 19:21:42.588 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-08-10 19:21:42.593 +03:00 [INF] Server mrrobot:20216:acb1f733 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-10 19:21:42.672 +03:00 [INF] Server mrrobot:20216:acb1f733 all the dispatchers started
2025-08-10 19:21:42.763 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-10 19:21:42.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 173.1228ms
2025-08-10 19:21:42.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-10 19:21:42.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-10 19:21:42.953 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:21:42.960 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 10.7259ms
2025-08-10 19:21:42.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 22.1431ms
2025-08-10 19:21:43.008 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.1616ms
2025-08-10 19:21:43.119 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:21:43.294 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 175.585ms
2025-08-10 19:23:13.743 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2025-08-10 19:23:13.750 +03:00 [INF] Server mrrobot:20216:acb1f733 caught stopping signal...
2025-08-10 19:23:13.755 +03:00 [INF] Server mrrobot:20216:acb1f733 caught stopped signal...
2025-08-10 19:23:13.762 +03:00 [INF] Server mrrobot:20216:acb1f733 All dispatchers stopped
2025-08-10 19:23:13.762 +03:00 [WRN] Server mrrobot:20216:acb1f733 caught shutdown signal...
2025-08-10 19:23:13.772 +03:00 [INF] Server mrrobot:20216:acb1f733 successfully reported itself as stopped in 6.9168 ms
2025-08-10 19:23:13.776 +03:00 [INF] Server mrrobot:20216:acb1f733 has been stopped in total 21.8184 ms
2025-08-10 19:23:21.002 +03:00 [INF] DB tables already exist. Exit install
2025-08-10 19:23:22.333 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 19:23:22.716 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:23:22.732 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:23:22.757 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-08-10 19:23:22.777 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-10 19:23:22.788 +03:00 [INF] Starting data seeding...
2025-08-10 19:23:22.818 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-10 19:23:23.201 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:23:23.264 +03:00 [INF] Role 'Admin' already exists.
2025-08-10 19:23:23.275 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:23:23.280 +03:00 [INF] Role 'User' already exists.
2025-08-10 19:23:23.316 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 19:23:23.421 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-08-10 19:23:23.432 +03:00 [INF] Data seeding completed successfully.
2025-08-10 19:23:23.844 +03:00 [INF] Now listening on: http://localhost:5069
2025-08-10 19:23:23.969 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-08-10 19:23:23.999 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-08-10 19:23:24.000 +03:00 [INF] Using the following options for SQL Server job storage:
2025-08-10 19:23:24.002 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-08-10 19:23:24.004 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-10 19:23:24.017 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-10 19:23:24.031 +03:00 [INF] Hosting environment: Development
2025-08-10 19:23:24.053 +03:00 [INF] Server mrrobot:20888:a88a0bd8 successfully announced in 26.8256 ms
2025-08-10 19:23:24.055 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-08-10 19:23:24.064 +03:00 [INF] Server mrrobot:20888:a88a0bd8 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-10 19:23:24.158 +03:00 [INF] Server mrrobot:20888:a88a0bd8 all the dispatchers started
2025-08-10 19:23:24.284 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-10 19:23:24.471 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 186.5879ms
2025-08-10 19:23:24.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-10 19:23:24.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-10 19:23:24.499 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 8.597ms
2025-08-10 19:23:24.551 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:23:24.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 7.4533ms
2025-08-10 19:23:24.569 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.453ms
2025-08-10 19:23:24.942 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:23:25.208 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 267.0573ms
2025-08-10 19:23:38.551 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:23:39.132 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 581.3388ms
2025-08-10 19:23:49.233 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-10 19:23:49.254 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 20.6664ms
2025-08-10 19:23:49.313 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:23:49.318 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-10 19:23:49.319 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-10 19:23:49.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 17.1134ms
2025-08-10 19:23:49.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 11.6176ms
2025-08-10 19:23:49.352 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.21ms
2025-08-10 19:23:49.633 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:23:49.789 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.3014ms
2025-08-10 19:26:26.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:26:26.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 66.6204ms
2025-08-10 19:26:26.325 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:26:26.450 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.2066ms
2025-08-10 19:26:41.358 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/index.html - null null
2025-08-10 19:26:41.373 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/index.html - 200 null text/html;charset=utf-8 15.2362ms
2025-08-10 19:26:41.514 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/swagger-ui.css - null null
2025-08-10 19:26:41.516 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/index.css - null null
2025-08-10 19:26:41.542 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-08-10 19:26:41.545 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-10 19:26:41.547 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/index.css - 200 202 text/css 30.2582ms
2025-08-10 19:26:41.551 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/swagger-ui.css - 200 154948 text/css 37.1466ms
2025-08-10 19:26:41.581 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/swagger-ui-standalone-preset.js - null null
2025-08-10 19:26:41.583 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/swagger-ui-bundle.js - null null
2025-08-10 19:26:41.583 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/index.js - null null
2025-08-10 19:26:41.585 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:26:41.585 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/_vs/browserLink - null null
2025-08-10 19:26:41.602 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-10 19:26:41.609 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/index.js - 200 null application/javascript;charset=utf-8 25.9573ms
2025-08-10 19:26:41.617 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 32.2354ms
2025-08-10 19:26:41.626 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 44.8952ms
2025-08-10 19:26:41.627 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.7494ms
2025-08-10 19:26:46.058 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-10 19:26:46.062 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 4478.8956ms
2025-08-10 19:26:48.188 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/v1/swagger.json - null null
2025-08-10 19:26:48.226 +03:00 [INF] Request starting HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/favicon-32x32.png - null null
2025-08-10 19:26:48.236 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-08-10 19:26:48.238 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/favicon-32x32.png - 200 628 image/png 11.2933ms
2025-08-10 19:26:48.261 +03:00 [INF] Request finished HTTP/1.1 GET http://e34dbd8fbe85.ngrok-free.app/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.8415ms
2025-08-10 19:37:20.805 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2025-08-10 19:37:20.809 +03:00 [INF] Server mrrobot:20888:a88a0bd8 caught stopping signal...
2025-08-10 19:37:20.812 +03:00 [INF] Server mrrobot:20888:a88a0bd8 caught stopped signal...
2025-08-10 19:37:20.820 +03:00 [INF] Server mrrobot:20888:a88a0bd8 All dispatchers stopped
2025-08-10 19:37:20.820 +03:00 [WRN] Server mrrobot:20888:a88a0bd8 caught shutdown signal...
2025-08-10 19:37:20.837 +03:00 [INF] Server mrrobot:20888:a88a0bd8 successfully reported itself as stopped in 9.7902 ms
2025-08-10 19:37:20.839 +03:00 [INF] Server mrrobot:20888:a88a0bd8 has been stopped in total 26.9529 ms
2025-08-10 19:40:35.329 +03:00 [INF] DB tables already exist. Exit install
2025-08-10 19:40:36.456 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-10 19:40:36.753 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:40:36.766 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-08-10 19:40:36.797 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-08-10 19:40:36.815 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-10 19:40:36.824 +03:00 [INF] Starting data seeding...
2025-08-10 19:40:36.847 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-10 19:40:37.203 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:40:37.261 +03:00 [INF] Role 'Admin' already exists.
2025-08-10 19:40:37.272 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-08-10 19:40:37.276 +03:00 [INF] Role 'User' already exists.
2025-08-10 19:40:37.311 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`, `a`.`ProfilePicture`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-08-10 19:40:37.398 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-08-10 19:40:37.399 +03:00 [INF] Data seeding completed successfully.
2025-08-10 19:40:37.827 +03:00 [INF] Now listening on: http://localhost:5069
2025-08-10 19:40:37.956 +03:00 [ERR] Index was outside the bounds of the array.
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Hangfire.MySql.MySqlStorage.<>c.<ToString>b__14_1(String[] x)
   at System.Linq.Enumerable.ArraySelectIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at Hangfire.MySql.MySqlStorage.ToString()
2025-08-10 19:40:37.975 +03:00 [INF] Starting Hangfire Server using job storage: '<Connection string can not be parsed>'
2025-08-10 19:40:37.983 +03:00 [INF] Using the following options for SQL Server job storage:
2025-08-10 19:40:37.985 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-08-10 19:40:37.988 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-08-10 19:40:37.999 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-10 19:40:38.000 +03:00 [INF] Hosting environment: Development
2025-08-10 19:40:38.002 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-08-10 19:40:38.018 +03:00 [INF] Server mrrobot:19992:aa22cddb successfully announced in 13.3768 ms
2025-08-10 19:40:38.026 +03:00 [INF] Server mrrobot:19992:aa22cddb is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-08-10 19:40:38.334 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-08-10 19:40:38.415 +03:00 [INF] Server mrrobot:19992:aa22cddb all the dispatchers started
2025-08-10 19:40:38.795 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 410.036ms
2025-08-10 19:40:38.795 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:40:38.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-08-10 19:40:38.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-08-10 19:40:38.844 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 48.7136ms
2025-08-10 19:40:38.829 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 33.8103ms
2025-08-10 19:40:38.900 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 104.7311ms
2025-08-10 19:40:39.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-08-10 19:40:39.297 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 215.0412ms
2025-08-10 19:40:42.397 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/ - null null
2025-08-10 19:40:42.416 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-10 19:40:42.504 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-08-10 19:40:42.512 +03:00 [INF] No cached response available for this request.
2025-08-10 19:40:42.517 +03:00 [INF] The response could not be cached for this request.
2025-08-10 19:40:42.520 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/ - 404 0 null 122.3727ms
2025-08-10 19:40:42.529 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://03e73257db81.ngrok-free.app/, Response status code: 404
2025-08-10 19:40:52.677 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.html - null null
2025-08-10 19:40:52.684 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.html - 200 null text/html;charset=utf-8 7.579ms
2025-08-10 19:40:52.835 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/swagger-ui.css - null null
2025-08-10 19:40:52.863 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/swagger-ui-standalone-preset.js - null null
2025-08-10 19:40:52.863 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.css - null null
2025-08-10 19:40:52.864 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-10 19:40:52.865 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.js - null null
2025-08-10 19:40:52.872 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/swagger-ui-bundle.js - null null
2025-08-10 19:40:52.878 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-08-10 19:40:52.881 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/swagger-ui.css - 200 154948 text/css 45.3957ms
2025-08-10 19:40:52.884 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.js - 200 null application/javascript;charset=utf-8 19.1448ms
2025-08-10 19:40:52.895 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-10 19:40:52.899 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.css - 200 202 text/css 35.812ms
2025-08-10 19:40:52.907 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_vs/browserLink - null null
2025-08-10 19:40:52.917 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:40:52.918 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 55.4503ms
2025-08-10 19:40:52.946 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 29.5025ms
2025-08-10 19:40:52.947 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.3429ms
2025-08-10 19:40:57.353 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-10 19:40:57.373 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 4501.2642ms
2025-08-10 19:40:59.449 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/v1/swagger.json - null null
2025-08-10 19:40:59.483 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/favicon-32x32.png - null null
2025-08-10 19:40:59.487 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-08-10 19:40:59.492 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/favicon-32x32.png - 200 628 image/png 9.2548ms
2025-08-10 19:40:59.663 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.7873ms
2025-08-10 19:49:09.375 +03:00 [WRN] Failed to process the job '2': an exception occurred. Retry attempt 9 of 10 will be performed in 01:09:34.
Newtonsoft.Json.JsonSerializationException: Error converting value "b499dbb4-ef25-4602-96b7-3ff624eeb305" to type 'StackExchange.Redis.RedisValue'. Path '', line 1, position 38.
 ---> System.InvalidCastException: Invalid cast from 'System.String' to 'StackExchange.Redis.RedisValue'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Deserialize(JsonReader reader, Type objectType)
   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)
   at Hangfire.Common.SerializationHelper.Deserialize(String value, Type type, SerializationOption option) in C:\projects\hangfire-525\src\Hangfire.Core\Common\SerializationHelper.cs:line 177
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 366
--- End of stack trace from previous location ---
   at Hangfire.Storage.InvocationData.DeserializeArgument(String argument, Type type) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 400
   at Hangfire.Storage.InvocationData.DeserializeArguments(MethodInfo methodInfo, String[] arguments) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 300
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 107
2025-08-10 19:52:31.719 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.html - null null
2025-08-10 19:52:31.753 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.html - 200 null text/html;charset=utf-8 33.2985ms
2025-08-10 19:52:31.900 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:52:31.904 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 3.9006ms
2025-08-10 19:52:31.915 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.js - null null
2025-08-10 19:52:31.920 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.js - 200 null application/javascript;charset=utf-8 4.6115ms
2025-08-10 19:52:31.962 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_vs/browserLink - null null
2025-08-10 19:52:31.973 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.477ms
2025-08-10 19:52:32.740 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/v1/swagger.json - null null
2025-08-10 19:52:33.240 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 500.3285ms
2025-08-10 19:53:20.133 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.html - null null
2025-08-10 19:53:20.173 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.html - 200 null text/html;charset=utf-8 39.7789ms
2025-08-10 19:53:20.370 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.js - null null
2025-08-10 19:53:20.371 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - null null
2025-08-10 19:53:20.404 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/index.js - 200 null application/javascript;charset=utf-8 33.8455ms
2025-08-10 19:53:20.406 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_vs/browserLink - null null
2025-08-10 19:53:20.409 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 37.4929ms
2025-08-10 19:53:20.436 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.2112ms
2025-08-10 19:53:21.167 +03:00 [INF] Request starting HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/v1/swagger.json - null null
2025-08-10 19:53:21.247 +03:00 [INF] Request finished HTTP/1.1 GET http://03e73257db81.ngrok-free.app/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.7739ms
