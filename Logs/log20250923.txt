2025-09-23 03:23:28.803 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 03:23:30.624 +03:00 [INF] Executed DbCommand (141ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 03:23:31.362 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 03:23:31.614 +03:00 [INF] Executed DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 03:23:31.678 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 03:23:31.714 +03:00 [INF] Starting data seeding...
2025-09-23 03:23:31.794 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 03:23:32.633 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 03:23:33.298 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 03:23:33.383 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 03:23:33.542 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 03:23:33.558 +03:00 [INF] Role 'User' already exists.
2025-09-23 03:23:33.760 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 03:23:33.884 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 03:23:33.885 +03:00 [INF] Data seeding completed successfully.
2025-09-23 03:23:35.982 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 03:23:36.091 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 03:23:36.097 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 03:23:36.112 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 03:23:36.119 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 03:23:36.181 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 03:23:36.188 +03:00 [INF] Hosting environment: Development
2025-09-23 03:23:36.194 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 03:23:36.345 +03:00 [INF] Server mrrobot:23844:e99e5915 successfully announced in 153.1665 ms
2025-09-23 03:23:36.416 +03:00 [INF] Server mrrobot:23844:e99e5915 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 03:23:37.655 +03:00 [INF] Server mrrobot:23844:e99e5915 all the dispatchers started
2025-09-23 03:23:41.794 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 03:23:42.098 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 306.4338ms
2025-09-23 03:23:42.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 03:23:42.203 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 27.0535ms
2025-09-23 03:23:42.230 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 03:23:42.238 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.1671ms
2025-09-23 03:23:42.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 03:23:42.422 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 158.1156ms
2025-09-23 03:23:43.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 03:23:43.382 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 238.3375ms
2025-09-23 03:23:49.118 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`Description`, `c`.`DisplayOrder`, `c`.`IsActive`, `c`.`ModifiedAt`, `c`.`Name`
FROM `Categories` AS `c`
WHERE `c`.`DeletedAt` IS NOT NULL
2025-09-23 03:23:58.316 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5 - null null
2025-09-23 03:23:58.326 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 03:24:00.628 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:24:00.880 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 03:24:00.906 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5 - 401 null application/json 2590.1475ms
2025-09-23 03:24:07.043 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 03:24:07.056 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:24:07.200 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 03:24:07.206 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 401 null application/json 162.9875ms
2025-09-23 03:24:13.157 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 03:24:13.218 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:24:13.230 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 03:24:13.265 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 03:24:13.628 +03:00 [INF] In LoginAsync Method 
2025-09-23 03:24:13.772 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 03:24:13.911 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:24:13.919 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:24:14.075 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 03:24:14.225 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 03:24:14.525 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 03:24:14.758 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 03:24:14.800 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:24:14.806 +03:00 [INF] üîë Generating Refresh Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:24:15.038 +03:00 [INF] ‚úÖ RefreshToken generated and stored for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:24:15.080 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 03:24:15.103 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 1755.783ms
2025-09-23 03:24:15.111 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 03:24:15.116 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1251 application/json; charset=utf-8 1958.7402ms
2025-09-23 03:24:35.260 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5 - null null
2025-09-23 03:24:35.278 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:24:35.427 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 03:24:35.443 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 03:24:35.455 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 03:24:35.478 +03:00 [INF] Executing GetOrders: role: Admin, userId: , deleted: , page: 1, size: 5, status: 
2025-09-23 03:24:35.485 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: null
2025-09-23 03:24:35.493 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:all
2025-09-23 03:24:35.728 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:all
2025-09-23 03:24:35.732 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 03:24:35.954 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_1 OFFSET @__p_0
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 03:24:36.868 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 03:24:36.879 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 1418.5407ms
2025-09-23 03:24:36.915 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 03:24:36.930 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5 - 200 921 application/json; charset=utf-8 1670.7216ms
2025-09-23 03:24:40.887 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:all
2025-09-23 03:24:41.156 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:5_status:all with tags: [order]
2025-09-23 03:24:59.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920205512-9414 - null null
2025-09-23 03:24:59.880 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:25:00.038 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 03:25:00.068 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 03:25:00.077 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 03:25:00.091 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250920205512-9414
2025-09-23 03:25:00.097 +03:00 [INF] Getting order by number: ORD-20250920205512-9414 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 03:25:00.100 +03:00 [INF] Getting cache for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:25:00.316 +03:00 [WRN] Cache miss for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:25:00.341 +03:00 [INF] Checking if order ORD-20250920205512-9414 exists for user
2025-09-23 03:25:00.494 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__ordernumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Orders` AS `o`
    WHERE (`o`.`OrderNumber` = @__ordernumber_0) AND `o`.`DeletedAt` IS NULL)
2025-09-23 03:25:00.518 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 03:25:00.732 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 03:25:00.976 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[@__8__locals1_orderNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`Id`, `t0`.`CreatedAt`, `t0`.`ModifiedAt`, `t0`.`OrderNumber`, `t0`.`Status`, `t0`.`Subtotal`, `t0`.`TaxAmount`, `t0`.`ShippingCost`, `t0`.`DiscountAmount`, `t0`.`Total`, `t0`.`Notes`, `t0`.`DeletedAt`, `t0`.`ShippedAt`, `t0`.`DeliveredAt`, `t0`.`CancelledAt`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `p`.`Amount`, `p`.`CreatedAt`, `p`.`CustomerId`, `p`.`DeletedAt`, `p`.`ModifiedAt`, `p`.`OrderId`, `p`.`PaymentDate`, `p`.`PaymentMethodId`, `p`.`PaymentProviderId`, `p`.`ProviderOrderId`, `p`.`RowVersion`, `p`.`Status`, `p`.`TransactionId`, `p0`.`Status`, `p0`.`Amount`, `p0`.`CreatedAt`, `p0`.`Id`, `p0`.`PaymentDate`, `p0`.`PaymentMethodId`, `p0`.`PaymentProviderId`, `t0`.`c`, `t0`.`Name`, `t0`.`Email`, `t0`.`PhoneNumber`, `t0`.`AdditionalNotes`, `t0`.`AddressType`, `t0`.`City`, `t0`.`Country`, `t0`.`CreatedAt0`, `t0`.`CustomerId`, `t0`.`StreetAddress`, `t0`.`State`, `t0`.`PhoneNumber0`, `t0`.`IsDefault`, `t0`.`ModifiedAt0`, `t0`.`PostalCode`, `t1`.`Id`, `t1`.`CreatedAt`, `t1`.`ModifiedAt`, `t1`.`Quantity`, `t1`.`UnitPrice`, `t1`.`TotalPrice`, `t1`.`OrderedAt`, `t1`.`Id0`, `t1`.`Name`, `t1`.`Price`, `t1`.`IsActive`, `t1`.`FinalPrice`, `t1`.`DiscountPrecentage`, `t1`.`MainImageUrl`, `t1`.`Id1`, `t1`.`Color`, `t1`.`CreatedAt0`, `t1`.`ModifiedAt0`, `t1`.`Size`, `t1`.`DeletedAt`, `t1`.`Length`, `t1`.`Waist`, `t1`.`Id2`, `t1`.`Id3`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`ModifiedAt`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Subtotal`, `o`.`TaxAmount`, `o`.`ShippingCost`, `o`.`DiscountAmount`, `o`.`Total`, `o`.`Notes`, `o`.`DeletedAt`, `o`.`ShippedAt`, `o`.`DeliveredAt`, `o`.`CancelledAt`, FALSE AS `c`, `t`.`Id` AS `Id0`, `t`.`Name`, `t`.`Email`, `t`.`PhoneNumber`, `c`.`Id` AS `Id1`, `c`.`AdditionalNotes`, `c`.`AddressType`, `c`.`City`, `c`.`Country`, `c`.`CreatedAt` AS `CreatedAt0`, `c`.`CustomerId`, `c`.`StreetAddress`, `c`.`State`, `c`.`PhoneNumber` AS `PhoneNumber0`, `c`.`IsDefault`, `c`.`ModifiedAt` AS `ModifiedAt0`, `c`.`PostalCode`
    FROM `Orders` AS `o`
    INNER JOIN (
        SELECT `a`.`Id`, `a`.`Email`, `a`.`PhoneNumber`, `a`.`Name`
        FROM `AspNetUsers` AS `a`
        WHERE `a`.`Discriminator` = 'Customer'
    ) AS `t` ON `o`.`CustomerId` = `t`.`Id`
    INNER JOIN `CustomerAddresses` AS `c` ON `o`.`CustomerAddressId` = `c`.`Id`
    WHERE `o`.`OrderNumber` = @__8__locals1_orderNumber_0
    LIMIT 1
) AS `t0`
LEFT JOIN `Payments` AS `p` ON `t0`.`Id` = `p`.`OrderId`
LEFT JOIN `Payments` AS `p0` ON `t0`.`Id` = `p0`.`OrderId`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`CreatedAt`, `o0`.`ModifiedAt`, `o0`.`Quantity`, `o0`.`UnitPrice`, `o0`.`TotalPrice`, `o0`.`OrderedAt`, `p1`.`Id` AS `Id0`, `p1`.`Name`, `p1`.`Price`, `p1`.`IsActive`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN ROUND(`p1`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `p1`.`Price`))
        ELSE `p1`.`Price`
    END AS `FinalPrice`, CASE
        WHEN (`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
        ELSE 0.0
    END AS `DiscountPrecentage`, COALESCE((
        SELECT `i`.`Url`
        FROM `Images` AS `i`
        WHERE (`p1`.`Id` = `i`.`ProductId`) AND `i`.`DeletedAt` IS NULL
        LIMIT 1), '') AS `MainImageUrl`, `o0`.`ProductVariantId` AS `Id1`, `p2`.`Color`, COALESCE(`p2`.`CreatedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `CreatedAt0`, COALESCE(`p2`.`ModifiedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `ModifiedAt0`, `p2`.`Size`, `p2`.`DeletedAt`, COALESCE(`p2`.`Length`, 0) AS `Length`, COALESCE(`p2`.`Waist`, 0) AS `Waist`, `d`.`Id` AS `Id2`, `p2`.`Id` AS `Id3`, `o0`.`OrderId`
    FROM `OrderItem` AS `o0`
    INNER JOIN `Products` AS `p1` ON `o0`.`ProductId` = `p1`.`Id`
    LEFT JOIN `Discount` AS `d` ON `p1`.`DiscountId` = `d`.`Id`
    INNER JOIN `ProductVariants` AS `p2` ON `o0`.`ProductVariantId` = `p2`.`Id`
) AS `t1` ON `t0`.`Id` = `t1`.`OrderId`
ORDER BY `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `p0`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t1`.`Id2`
2025-09-23 03:25:01.933 +03:00 [INF] Order ORD-20250920205512-9414 retrieved successfully for user ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:25:01.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 03:25:01.963 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 1882.4025ms
2025-09-23 03:25:01.975 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 03:25:01.982 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920205512-9414 - 200 2119 application/json; charset=utf-8 2185.085ms
2025-09-23 03:25:04.401 +03:00 [INF] Setting cache for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:25:04.762 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:09.765 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 03:26:10.003 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 03:26:12.747 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 03:26:12.972 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 03:26:13.176 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 03:26:13.370 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 03:26:13.396 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 03:26:13.468 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 03:26:13.470 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 03:26:13.480 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 03:26:13.480 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 03:26:13.609 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 03:26:13.690 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 03:26:13.696 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 03:26:13.699 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 03:26:13.704 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 03:26:15.903 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 03:26:16.131 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 03:26:16.190 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 03:26:16.421 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 03:26:19.505 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:200_status:all
2025-09-23 03:26:19.781 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:200_status:all with tags: [order]
2025-09-23 03:26:22.707 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:50_status:all
2025-09-23 03:26:22.896 +03:00 [INF] Setting cache for key: order:id:172_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:22.955 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:50_status:all with tags: [order]
2025-09-23 03:26:23.129 +03:00 [INF] Cache set successfully for key: order:id:172_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:23.167 +03:00 [INF] Setting cache for key: order:id:171_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:23.391 +03:00 [INF] Cache set successfully for key: order:id:171_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:23.772 +03:00 [INF] Setting cache for key: order:id:176_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:23.843 +03:00 [INF] Setting cache for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:23.852 +03:00 [INF] Setting cache for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:23.998 +03:00 [INF] Cache set successfully for key: order:id:176_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:24.072 +03:00 [INF] Cache set successfully for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:24.079 +03:00 [INF] Cache set successfully for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:25.203 +03:00 [INF] Setting cache for key: order:id:173_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:25.429 +03:00 [INF] Cache set successfully for key: order:id:173_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:25.751 +03:00 [INF] Setting cache for key: order:id:180_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:25.858 +03:00 [INF] Setting cache for key: order:id:135_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:25.983 +03:00 [INF] Cache set successfully for key: order:id:180_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:26.119 +03:00 [INF] Cache set successfully for key: order:id:135_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:26.120 +03:00 [INF] Setting cache for key: order:id:142_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:26.344 +03:00 [INF] Cache set successfully for key: order:id:142_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:26.696 +03:00 [INF] Setting cache for key: order:id:136_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:26.754 +03:00 [INF] Setting cache for key: order:id:168_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:26.755 +03:00 [INF] Setting cache for key: order:id:148_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:26.922 +03:00 [INF] Cache set successfully for key: order:id:136_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:26.982 +03:00 [INF] Cache set successfully for key: order:id:168_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:26.986 +03:00 [INF] Cache set successfully for key: order:id:148_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:28.415 +03:00 [INF] Setting cache for key: order:id:141_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:28.459 +03:00 [INF] Setting cache for key: order:id:150_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:28.645 +03:00 [INF] Cache set successfully for key: order:id:141_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:28.683 +03:00 [INF] Cache set successfully for key: order:id:150_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:30.877 +03:00 [INF] Setting cache for key: order:id:159_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:30.880 +03:00 [INF] Setting cache for key: order:id:152_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:26:31.108 +03:00 [INF] Cache set successfully for key: order:id:159_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:26:31.119 +03:00 [INF] Cache set successfully for key: order:id:152_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:51:29.368 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 03:51:31.004 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 03:51:31.690 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 03:51:31.858 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 03:51:31.891 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 03:51:31.911 +03:00 [INF] Starting data seeding...
2025-09-23 03:51:31.939 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 03:51:32.153 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 03:51:32.625 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 03:51:32.684 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 03:51:32.846 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 03:51:33.074 +03:00 [INF] Role 'User' already exists.
2025-09-23 03:51:33.234 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 03:51:33.330 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 03:51:33.384 +03:00 [INF] Data seeding completed successfully.
2025-09-23 03:51:34.795 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 03:51:35.065 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 03:51:35.108 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 03:51:35.110 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 03:51:35.124 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 03:51:35.156 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 03:51:35.188 +03:00 [INF] Hosting environment: Development
2025-09-23 03:51:35.322 +03:00 [INF] Server mrrobot:6380:eada551f successfully announced in 158.7337 ms
2025-09-23 03:51:35.742 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 03:51:37.031 +03:00 [INF] Server mrrobot:6380:eada551f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 03:51:38.579 +03:00 [INF] Server mrrobot:6380:eada551f all the dispatchers started
2025-09-23 03:52:03.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 03:52:04.858 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 1335.2418ms
2025-09-23 03:52:06.238 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 03:52:07.473 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 03:52:07.862 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:52:08.142 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 03:52:08.256 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 401 null application/json 2017.1063ms
2025-09-23 03:52:14.926 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 03:52:14.978 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:52:15.133 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 03:52:15.168 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 03:52:15.734 +03:00 [INF] In LoginAsync Method 
2025-09-23 03:52:16.241 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 03:52:16.420 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:52:16.442 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:52:16.611 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 03:52:16.765 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 03:52:17.123 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 03:52:17.406 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 03:52:17.448 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:52:17.462 +03:00 [INF] üîë Generating Refresh Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:52:17.632 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/swagger-ui.css - null null
2025-09-23 03:52:17.633 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.css - null null
2025-09-23 03:52:17.670 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-09-23 03:52:17.676 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-09-23 03:52:17.686 +03:00 [INF] ‚úÖ RefreshToken generated and stored for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 03:52:17.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.css - 200 202 text/css 59.4334ms
2025-09-23 03:52:17.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/swagger-ui.css - 200 154948 text/css 66.7526ms
2025-09-23 03:52:17.718 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/swagger-ui-bundle.js - null null
2025-09-23 03:52:17.737 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 03:52:17.760 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-09-23 03:52:17.768 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/swagger-ui-bundle.js - 200 1466324 text/javascript 50.1267ms
2025-09-23 03:52:17.769 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 2584.7539ms
2025-09-23 03:52:17.779 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 03:52:17.784 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1251 application/json; charset=utf-8 2858.3977ms
2025-09-23 03:52:17.799 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/swagger-ui-standalone-preset.js - null null
2025-09-23 03:52:17.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 03:52:17.817 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-09-23 03:52:17.821 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 19.5678ms
2025-09-23 03:52:17.823 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 23.7988ms
2025-09-23 03:52:18.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 03:52:18.262 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.326ms
2025-09-23 03:52:18.301 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 03:52:18.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.1042ms
2025-09-23 03:52:22.300 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 03:52:22.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/favicon-32x32.png - null null
2025-09-23 03:52:22.367 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-09-23 03:52:22.373 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/favicon-32x32.png - 200 628 image/png 21.1936ms
2025-09-23 03:52:22.470 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.5868ms
2025-09-23 03:52:31.760 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 03:52:31.854 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 03:52:31.857 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 03:52:31.922 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 03:52:32.098 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 03:52:32.104 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 03:52:32.108 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 03:52:32.234 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 03:52:32.257 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 03:52:32.440 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 03:52:32.443 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 03:52:32.473 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 03:52:32.710 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 03:52:32.734 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 03:52:35.002 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 03:52:35.002 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 03:52:35.425 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 03:52:35.440 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 03:52:41.419 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920205512-9414 - null null
2025-09-23 03:52:41.849 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 03:52:42.002 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 03:52:42.012 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 03:52:42.025 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 03:52:42.047 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250920205512-9414
2025-09-23 03:52:42.055 +03:00 [INF] Getting order by number: ORD-20250920205512-9414 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 03:52:42.066 +03:00 [INF] Getting cache for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:52:42.330 +03:00 [INF] Cache hit for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:52:42.409 +03:00 [INF] Cache hit for order number ORD-20250920205512-9414
2025-09-23 03:52:42.413 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 03:52:42.482 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 449.4491ms
2025-09-23 03:52:42.491 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 03:52:42.497 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920205512-9414 - 200 2117 application/json; charset=utf-8 1078.4241ms
2025-09-23 03:55:40.393 +03:00 [INF] Setting cache for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 03:55:40.638 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 03:55:40.822 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 03:55:41.208 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 04:04:26.822 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 04:04:32.683 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 04:04:33.821 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 04:04:34.108 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 04:04:34.156 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 04:04:34.262 +03:00 [INF] Starting data seeding...
2025-09-23 04:04:34.322 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 04:04:34.934 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 04:04:35.885 +03:00 [INF] Executed DbCommand (193ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 04:04:36.664 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 04:04:36.828 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 04:04:37.136 +03:00 [INF] Role 'User' already exists.
2025-09-23 04:04:37.449 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:04:38.385 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 04:04:38.818 +03:00 [INF] Data seeding completed successfully.
2025-09-23 04:04:58.257 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 04:05:00.078 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 04:05:00.754 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 04:05:00.926 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 04:05:01.027 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 04:05:01.118 +03:00 [INF] Starting data seeding...
2025-09-23 04:05:01.174 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 04:05:01.516 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 04:05:02.214 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 04:05:02.299 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 04:05:02.460 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 04:05:03.536 +03:00 [INF] Role 'User' already exists.
2025-09-23 04:05:03.968 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:05:04.091 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 04:05:04.104 +03:00 [INF] Data seeding completed successfully.
2025-09-23 04:05:05.485 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 04:05:05.626 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 04:05:05.824 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 04:05:06.285 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger - null null
2025-09-23 04:05:06.625 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 04:05:07.235 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 04:05:07.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger - 301 0 null 1149.4443ms
2025-09-23 04:05:08.184 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 04:05:08.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 04:05:08.234 +03:00 [INF] Hosting environment: Development
2025-09-23 04:05:08.354 +03:00 [INF] Server mrrobot:19992:57654944 successfully announced in 166.4713 ms
2025-09-23 04:05:08.401 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 04:05:08.583 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 379.8421ms
2025-09-23 04:05:08.642 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 04:05:08.664 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 04:05:09.135 +03:00 [INF] Server mrrobot:19992:57654944 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 04:05:09.268 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 04:05:09.305 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 662.9061ms
2025-09-23 04:05:09.487 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 822.5302ms
2025-09-23 04:05:09.603 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 335.0804ms
2025-09-23 04:05:10.104 +03:00 [INF] Server mrrobot:19992:57654944 all the dispatchers started
2025-09-23 04:05:10.149 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 04:05:10.414 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 264.3448ms
2025-09-23 04:06:31.410 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 04:06:31.756 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 04:06:32.251 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:06:33.242 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 04:06:33.655 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 401 null application/json 2244.9332ms
2025-09-23 04:06:40.947 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 04:06:40.971 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:06:40.981 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 04:06:41.027 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 04:06:42.208 +03:00 [INF] In LoginAsync Method 
2025-09-23 04:06:42.429 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:06:43.178 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:06:43.195 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:06:43.392 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 04:06:44.438 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:06:44.998 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 04:06:45.284 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 04:06:45.354 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:06:45.372 +03:00 [INF] üîë Generating Refresh Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:06:45.617 +03:00 [INF] ‚úÖ RefreshToken generated and stored for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:06:45.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 04:06:45.900 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 4827.4229ms
2025-09-23 04:06:46.369 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 04:06:46.375 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1251 application/json; charset=utf-8 5428.1608ms
2025-09-23 04:07:02.864 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920205512-9414 - null null
2025-09-23 04:07:03.060 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:07:03.212 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 04:07:03.223 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 04:07:03.245 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 04:07:03.311 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250920205512-9414
2025-09-23 04:07:03.337 +03:00 [INF] Getting order by number: ORD-20250920205512-9414 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 04:07:03.364 +03:00 [INF] Getting cache for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 04:07:03.622 +03:00 [INF] Cache hit for key: order:number:ORD-20250920205512-9414_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 04:07:03.688 +03:00 [INF] Cache hit for order number ORD-20250920205512-9414
2025-09-23 04:07:03.695 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 04:07:03.761 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 496.813ms
2025-09-23 04:07:03.775 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 04:07:03.782 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920205512-9414 - 200 2117 application/json; charset=utf-8 917.3677ms
2025-09-23 04:07:28.449 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920060933-5549 - null null
2025-09-23 04:07:28.481 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:07:28.665 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 04:07:28.692 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 04:07:28.699 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 04:07:28.747 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250920060933-5549
2025-09-23 04:07:28.761 +03:00 [INF] Getting order by number: ORD-20250920060933-5549 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 04:07:28.764 +03:00 [INF] Getting cache for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 04:07:29.074 +03:00 [WRN] Cache miss for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 04:07:29.082 +03:00 [INF] Checking if order ORD-20250920060933-5549 exists for user
2025-09-23 04:07:29.243 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__ordernumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Orders` AS `o`
    WHERE (`o`.`OrderNumber` = @__ordernumber_0) AND `o`.`DeletedAt` IS NULL)
2025-09-23 04:07:29.261 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 04:07:29.779 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 04:07:30.096 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__8__locals1_orderNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`Id`, `t0`.`CreatedAt`, `t0`.`ModifiedAt`, `t0`.`OrderNumber`, `t0`.`Status`, `t0`.`Subtotal`, `t0`.`TaxAmount`, `t0`.`ShippingCost`, `t0`.`DiscountAmount`, `t0`.`Total`, `t0`.`Notes`, `t0`.`DeletedAt`, `t0`.`ShippedAt`, `t0`.`DeliveredAt`, `t0`.`CancelledAt`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `p`.`Amount`, `p`.`CreatedAt`, `p`.`CustomerId`, `p`.`DeletedAt`, `p`.`ModifiedAt`, `p`.`OrderId`, `p`.`PaymentDate`, `p`.`PaymentMethodId`, `p`.`PaymentProviderId`, `p`.`ProviderOrderId`, `p`.`RowVersion`, `p`.`Status`, `p`.`TransactionId`, `t1`.`Status`, `t1`.`Amount`, `t1`.`CreatedAt`, `t1`.`Id`, `t1`.`PaymentDate`, `t1`.`PaymentMethodId`, `t1`.`PaymentProviderId`, `t1`.`PaymentMethod`, `t1`.`Id0`, `t0`.`c`, `t0`.`Name`, `t0`.`Email`, `t0`.`PhoneNumber`, `t0`.`AdditionalNotes`, `t0`.`AddressType`, `t0`.`City`, `t0`.`Country`, `t0`.`CreatedAt0`, `t0`.`CustomerId`, `t0`.`StreetAddress`, `t0`.`State`, `t0`.`PhoneNumber0`, `t0`.`IsDefault`, `t0`.`ModifiedAt0`, `t0`.`PostalCode`, `t2`.`Id`, `t2`.`CreatedAt`, `t2`.`ModifiedAt`, `t2`.`Quantity`, `t2`.`UnitPrice`, `t2`.`TotalPrice`, `t2`.`OrderedAt`, `t2`.`Id0`, `t2`.`Name`, `t2`.`Price`, `t2`.`IsActive`, `t2`.`FinalPrice`, `t2`.`DiscountPrecentage`, `t2`.`MainImageUrl`, `t2`.`Id1`, `t2`.`Color`, `t2`.`CreatedAt0`, `t2`.`ModifiedAt0`, `t2`.`Size`, `t2`.`DeletedAt`, `t2`.`Length`, `t2`.`Waist`, `t2`.`Id2`, `t2`.`Id3`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`ModifiedAt`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Subtotal`, `o`.`TaxAmount`, `o`.`ShippingCost`, `o`.`DiscountAmount`, `o`.`Total`, `o`.`Notes`, `o`.`DeletedAt`, `o`.`ShippedAt`, `o`.`DeliveredAt`, `o`.`CancelledAt`, FALSE AS `c`, `t`.`Id` AS `Id0`, `t`.`Name`, `t`.`Email`, `t`.`PhoneNumber`, `c`.`Id` AS `Id1`, `c`.`AdditionalNotes`, `c`.`AddressType`, `c`.`City`, `c`.`Country`, `c`.`CreatedAt` AS `CreatedAt0`, `c`.`CustomerId`, `c`.`StreetAddress`, `c`.`State`, `c`.`PhoneNumber` AS `PhoneNumber0`, `c`.`IsDefault`, `c`.`ModifiedAt` AS `ModifiedAt0`, `c`.`PostalCode`
    FROM `Orders` AS `o`
    INNER JOIN (
        SELECT `a`.`Id`, `a`.`Email`, `a`.`PhoneNumber`, `a`.`Name`
        FROM `AspNetUsers` AS `a`
        WHERE `a`.`Discriminator` = 'Customer'
    ) AS `t` ON `o`.`CustomerId` = `t`.`Id`
    INNER JOIN `CustomerAddresses` AS `c` ON `o`.`CustomerAddressId` = `c`.`Id`
    WHERE `o`.`OrderNumber` = @__8__locals1_orderNumber_0
    LIMIT 1
) AS `t0`
LEFT JOIN `Payments` AS `p` ON `t0`.`Id` = `p`.`OrderId`
LEFT JOIN (
    SELECT `p0`.`Status`, `p0`.`Amount`, `p0`.`CreatedAt`, `p0`.`Id`, `p0`.`PaymentDate`, `p0`.`PaymentMethodId`, `p0`.`PaymentProviderId`, `p1`.`Name` AS `PaymentMethod`, `p1`.`Id` AS `Id0`, `p0`.`OrderId`
    FROM `Payments` AS `p0`
    INNER JOIN `PaymentMethods` AS `p1` ON `p0`.`PaymentMethodId` = `p1`.`Id`
) AS `t1` ON `t0`.`Id` = `t1`.`OrderId`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`CreatedAt`, `o0`.`ModifiedAt`, `o0`.`Quantity`, `o0`.`UnitPrice`, `o0`.`TotalPrice`, `o0`.`OrderedAt`, `p2`.`Id` AS `Id0`, `p2`.`Name`, `p2`.`Price`, `p2`.`IsActive`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN ROUND(`p2`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `p2`.`Price`))
        ELSE `p2`.`Price`
    END AS `FinalPrice`, CASE
        WHEN (`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
        ELSE 0.0
    END AS `DiscountPrecentage`, COALESCE((
        SELECT `i`.`Url`
        FROM `Images` AS `i`
        WHERE (`p2`.`Id` = `i`.`ProductId`) AND `i`.`DeletedAt` IS NULL
        LIMIT 1), '') AS `MainImageUrl`, `o0`.`ProductVariantId` AS `Id1`, `p3`.`Color`, COALESCE(`p3`.`CreatedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `CreatedAt0`, COALESCE(`p3`.`ModifiedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `ModifiedAt0`, `p3`.`Size`, `p3`.`DeletedAt`, COALESCE(`p3`.`Length`, 0) AS `Length`, COALESCE(`p3`.`Waist`, 0) AS `Waist`, `d`.`Id` AS `Id2`, `p3`.`Id` AS `Id3`, `o0`.`OrderId`
    FROM `OrderItem` AS `o0`
    INNER JOIN `Products` AS `p2` ON `o0`.`ProductId` = `p2`.`Id`
    LEFT JOIN `Discount` AS `d` ON `p2`.`DiscountId` = `d`.`Id`
    INNER JOIN `ProductVariants` AS `p3` ON `o0`.`ProductVariantId` = `p3`.`Id`
) AS `t2` ON `t0`.`Id` = `t2`.`OrderId`
ORDER BY `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t2`.`Id`, `t2`.`Id0`, `t2`.`Id2`
2025-09-23 04:07:31.658 +03:00 [INF] Order ORD-20250920060933-5549 retrieved successfully for user ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:07:31.732 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 04:07:32.030 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 3321.4665ms
2025-09-23 04:07:32.149 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 04:07:32.162 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920060933-5549 - 200 2123 application/json; charset=utf-8 3712.7347ms
2025-09-23 04:08:18.947 +03:00 [INF] Setting cache for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 04:08:19.260 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 04:38:49.308 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 04:38:51.132 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 04:38:51.901 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 04:38:52.079 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 04:38:52.195 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 04:38:52.223 +03:00 [INF] Starting data seeding...
2025-09-23 04:38:52.283 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 04:38:52.737 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 04:38:53.187 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 04:38:53.244 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 04:38:53.389 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 04:38:53.397 +03:00 [INF] Role 'User' already exists.
2025-09-23 04:38:53.558 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:38:53.648 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 04:38:53.651 +03:00 [INF] Data seeding completed successfully.
2025-09-23 04:38:54.883 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 04:38:54.981 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 04:38:55.309 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 04:38:55.428 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 04:38:55.436 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 04:38:55.488 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 04:38:55.649 +03:00 [INF] Server mrrobot:12080:39425776 successfully announced in 152.8709 ms
2025-09-23 04:38:55.903 +03:00 [INF] Hosting environment: Development
2025-09-23 04:38:55.912 +03:00 [INF] Server mrrobot:12080:39425776 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 04:38:55.915 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 04:38:55.978 +03:00 [INF] Server mrrobot:12080:39425776 all the dispatchers started
2025-09-23 04:38:56.106 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 04:38:56.318 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 212.7753ms
2025-09-23 04:38:56.408 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 04:38:56.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 18.0988ms
2025-09-23 04:38:56.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 04:38:56.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.923ms
2025-09-23 04:38:56.497 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 04:38:56.535 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5659ms
2025-09-23 04:38:57.570 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 04:38:57.750 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 180.0219ms
2025-09-23 04:39:06.778 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 04:39:06.787 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 04:39:06.925 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:39:07.120 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 04:39:07.227 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 401 null application/json 449.0933ms
2025-09-23 04:39:15.145 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 04:39:15.161 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:39:15.169 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 04:39:15.192 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 04:39:15.665 +03:00 [INF] In LoginAsync Method 
2025-09-23 04:39:15.849 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:39:16.273 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:39:16.294 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:39:16.486 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 04:39:16.649 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:39:16.979 +03:00 [INF] Executed DbCommand (85ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 04:39:17.213 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 04:39:17.236 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:39:17.241 +03:00 [INF] üîë Generating Refresh Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:39:17.465 +03:00 [INF] ‚úÖ RefreshToken generated and stored for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:39:17.559 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 04:39:17.743 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 2536.0798ms
2025-09-23 04:39:17.922 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 04:39:17.931 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1251 application/json; charset=utf-8 2785.466ms
2025-09-23 04:47:06.294 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 04:47:06.309 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:47:06.313 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 04:47:06.316 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 04:47:06.327 +03:00 [INF] In LoginAsync Method 
2025-09-23 04:47:06.478 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:47:06.587 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:06.589 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:06.781 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 04:47:07.476 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:47:07.652 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 04:47:07.852 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 04:47:07.934 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:07.935 +03:00 [INF] üîë Generating Refresh Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:08.147 +03:00 [INF] ‚úÖ RefreshToken generated and stored for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:08.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 04:47:08.206 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 1885.2252ms
2025-09-23 04:47:08.265 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 04:47:08.272 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1251 application/json; charset=utf-8 1978.2685ms
2025-09-23 04:47:58.608 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Account/refresh-token - null null
2025-09-23 04:47:58.616 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:47:58.627 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-09-23 04:47:58.637 +03:00 [INF] Route matched with {action = "RefreshTokenAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] RefreshTokenAsync() on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 04:47:58.667 +03:00 [INF] In RefreshTokenAsync Method
2025-09-23 04:47:58.673 +03:00 [INF] üîÑ RefreshTokenAsync started with token: 6HH685FiX7BWMp6bprxELF4eSI3GnyTGX94jlzd6LbMZyzKoTcwaq-6PZU6lWoVcQQPsexVyozUH93mw0VFkSQ
2025-09-23 04:47:58.675 +03:00 [INF] üîç Validating refresh token: 6HH685FiX7BWMp6bprxELF4eSI3GnyTGX94jlzd6LbMZyzKoTcwaq-6PZU6lWoVcQQPsexVyozUH93mw0VFkSQ
2025-09-23 04:47:59.039 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userIdStored_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__userIdStored_0))
2025-09-23 04:47:59.070 +03:00 [INF] ‚úÖ Refresh token is valid for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:59.548 +03:00 [INF] üóëÔ∏è Successfully removed RefreshToken for token: 6HH685FiX7BWMp6bprxELF4eSI3GnyTGX94jlzd6LbMZyzKoTcwaq-6PZU6lWoVcQQPsexVyozUH93mw0VFkSQ
2025-09-23 04:47:59.560 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:59.726 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__p_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`Id` = @__p_0)
LIMIT 1
2025-09-23 04:47:59.736 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:47:59.885 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 04:48:00.035 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 04:48:00.187 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 04:48:00.339 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 04:48:00.348 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 04:48:00.351 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 04:48:00.357 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.RefreshTokenAsync (E-Commerce) in 1718.3054ms
2025-09-23 04:48:00.359 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-09-23 04:48:00.369 +03:00 [INF] The response could not be cached for this request.
2025-09-23 04:48:00.371 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Account/refresh-token - 200 1248 application/json; charset=utf-8 1763.1001ms
2025-09-23 04:48:10.215 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Account/refresh-token - null null
2025-09-23 04:48:10.240 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 04:48:10.242 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-09-23 04:48:10.246 +03:00 [INF] Route matched with {action = "RefreshTokenAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] RefreshTokenAsync() on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 04:48:10.255 +03:00 [INF] In RefreshTokenAsync Method
2025-09-23 04:48:10.256 +03:00 [INF] üîÑ RefreshTokenAsync started with token: 6HH685FiX7BWMp6bprxELF4eSI3GnyTGX94jlzd6LbMZyzKoTcwaq-6PZU6lWoVcQQPsexVyozUH93mw0VFkSQ
2025-09-23 04:48:10.258 +03:00 [INF] üîç Validating refresh token: 6HH685FiX7BWMp6bprxELF4eSI3GnyTGX94jlzd6LbMZyzKoTcwaq-6PZU6lWoVcQQPsexVyozUH93mw0VFkSQ
2025-09-23 04:48:10.475 +03:00 [WRN] ‚ùå Refresh token is invalid or expired
2025-09-23 04:48:10.491 +03:00 [WRN] Failed to refresh token. Removing refresh token.
2025-09-23 04:48:10.713 +03:00 [WRN] ‚ö†Ô∏è Failed to remove RefreshToken for token: 6HH685FiX7BWMp6bprxELF4eSI3GnyTGX94jlzd6LbMZyzKoTcwaq-6PZU6lWoVcQQPsexVyozUH93mw0VFkSQ
2025-09-23 04:48:11.587 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 04:48:11.611 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.RefreshTokenAsync (E-Commerce) in 1357.3166ms
2025-09-23 04:48:11.675 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.RefreshTokenAsync (E-Commerce)'
2025-09-23 04:48:11.693 +03:00 [INF] The response could not be cached for this request.
2025-09-23 04:48:11.718 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Account/refresh-token - 401 712 application/json; charset=utf-8 1503.2333ms
2025-09-23 05:00:09.691 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:09.973 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:13.913 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:14.067 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:14.129 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:14.283 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:00:17.170 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:17.414 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:17.653 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:17.736 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:00:17.745 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:00:17.852 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:18.223 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:18.224 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:18.245 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:18.446 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:00:18.471 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:18.485 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:18.488 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:18.488 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:21.071 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:00:21.461 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:00:41.629 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:41.854 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:41.929 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:41.939 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:41.945 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:42.243 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:42.306 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:42.321 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:42.322 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:42.489 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:44.678 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:44.900 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:44.971 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:45.105 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:45.115 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:45.116 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:45.243 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:00:45.279 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:45.403 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:00:45.411 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:00:45.411 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:45.501 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:48.182 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:48.192 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:48.462 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:00:48.466 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:48.572 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:48.681 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:48.713 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:48.805 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:00:48.854 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:48.894 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:48.928 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:00:49.073 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:51.340 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:51.359 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:51.556 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:51.607 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:51.692 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:51.778 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:51.860 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:51.956 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:51.960 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:52.003 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:52.106 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:52.170 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:52.242 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:52.461 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:52.647 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:52.793 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:00:52.957 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:00:53.117 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:00:54.363 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:54.556 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:54.576 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:54.763 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:00:54.771 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:00:54.844 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:54.940 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:00:54.981 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:00:55.060 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:00:55.166 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:00:55.558 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:55.852 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:00:55.903 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:56.104 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:00:57.327 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:00:57.549 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:07:58.526 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:07:58.750 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:08:00.670 +03:00 [INF] Setting cache for key: collection:3_active:True_deleted:False_IsAdmin:False
2025-09-23 05:08:00.892 +03:00 [INF] Cache set successfully for key: collection:3_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:08:03.212 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:08:04.220 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:09:32.880 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:200_status:all
2025-09-23 05:09:33.183 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:200_status:all with tags: [order]
2025-09-23 05:09:33.530 +03:00 [INF] Setting cache for key: order:id:176_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:33.672 +03:00 [INF] Setting cache for key: order:id:180_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:33.751 +03:00 [INF] Setting cache for key: order:id:177_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:33.800 +03:00 [INF] Cache set successfully for key: order:id:176_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:34.011 +03:00 [INF] Cache set successfully for key: order:id:180_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:34.029 +03:00 [INF] Cache set successfully for key: order:id:177_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:34.425 +03:00 [INF] Setting cache for key: order:id:179_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:34.654 +03:00 [INF] Cache set successfully for key: order:id:179_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:34.885 +03:00 [INF] Setting cache for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:34.979 +03:00 [INF] Setting cache for key: order:id:170_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:34.997 +03:00 [INF] Setting cache for key: order:id:174_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:35.108 +03:00 [INF] Cache set successfully for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:35.201 +03:00 [INF] Cache set successfully for key: order:id:170_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:35.217 +03:00 [INF] Cache set successfully for key: order:id:174_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:36.719 +03:00 [INF] Setting cache for key: order:id:178_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:36.790 +03:00 [INF] Setting cache for key: order:id:172_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:36.810 +03:00 [INF] Setting cache for key: order:id:173_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:36.937 +03:00 [INF] Setting cache for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:37.056 +03:00 [INF] Cache set successfully for key: order:id:178_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:37.074 +03:00 [INF] Cache set successfully for key: order:id:172_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:37.079 +03:00 [INF] Cache set successfully for key: order:id:173_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:37.235 +03:00 [INF] Cache set successfully for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:37.280 +03:00 [INF] Setting cache for key: order:id:167_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:37.339 +03:00 [INF] Setting cache for key: order:id:171_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:37.400 +03:00 [INF] Setting cache for key: order:id:159_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:37.639 +03:00 [INF] Cache set successfully for key: order:id:167_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:37.654 +03:00 [INF] Cache set successfully for key: order:id:171_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:37.663 +03:00 [INF] Cache set successfully for key: order:id:159_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:37.756 +03:00 [INF] Setting cache for key: order:id:157_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:37.937 +03:00 [INF] Setting cache for key: order:id:169_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:37.977 +03:00 [INF] Cache set successfully for key: order:id:157_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:38.172 +03:00 [INF] Cache set successfully for key: order:id:169_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:38.416 +03:00 [INF] Setting cache for key: order:id:133_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:38.667 +03:00 [INF] Setting cache for key: order:id:134_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 05:09:38.689 +03:00 [INF] Cache set successfully for key: order:id:133_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:09:38.885 +03:00 [INF] Cache set successfully for key: order:id:134_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 05:12:34.893 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:12:34.934 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:12:34.995 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:12:35.117 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:12:35.152 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:12:35.281 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:12:35.357 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:12:35.509 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:12:35.575 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:12:35.661 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:12:35.926 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:12:35.942 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:12:35.997 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:12:36.223 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:12:36.464 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:12:36.688 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:12:37.471 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:12:37.599 +03:00 [INF] Setting cache for key: collection:3_active:True_deleted:False_IsAdmin:False
2025-09-23 05:12:37.691 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:12:37.825 +03:00 [INF] Cache set successfully for key: collection:3_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:12:38.024 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:12:38.246 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:12:38.427 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:12:38.723 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:13:30.184 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:13:30.414 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:13:32.091 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:13:34.119 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:17:34.417 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:17:34.778 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:17:37.771 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:17:37.857 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:17:37.922 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:17:37.922 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:17:38.127 +03:00 [INF] Setting cache for key: collection:3_active:True_deleted:False_IsAdmin:False
2025-09-23 05:17:38.170 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:17:38.174 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:17:38.185 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:17:38.190 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:17:38.420 +03:00 [INF] Cache set successfully for key: collection:3_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:17:40.273 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:17:40.495 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:17:48.939 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:17:49.490 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:18:09.620 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:18:10.078 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:18:20.191 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:18:20.500 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:18:43.751 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:18:43.974 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:18:52.738 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:18:53.091 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:18:53.099 +03:00 [INF] Setting cache for key: product:4:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 05:18:53.107 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:18:53.107 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:18:53.280 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:18:53.763 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:18:53.927 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:18:54.419 +03:00 [INF] Setting cache for key: variant:6
2025-09-23 05:18:54.464 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:18:54.464 +03:00 [INF] Cache set successfully for key: product:4:variants:search:color::length::waist::size::active:True:deleted:False with tags: [product:4, variantdata]
2025-09-23 05:18:55.048 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:18:55.263 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:18:55.294 +03:00 [INF] Cache set successfully for key: variant:6 with tags: [product:4, variantdata]
2025-09-23 05:19:44.220 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:19:44.434 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:False with tags: [categorylist]
2025-09-23 05:19:44.765 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:19:44.984 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:19:45.720 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:19:45.733 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:19:45.933 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:19:45.949 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:19:45.998 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:19:46.217 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:19:46.722 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:19:46.973 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:20:07.841 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:20:07.861 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:20:08.060 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:False with tags: [categorylist]
2025-09-23 05:20:08.083 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:21:05.016 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:21:05.230 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:21:08.044 +03:00 [INF] Setting cache for key: subcategory:5_active:True_deleted:False_IsAdmin:False
2025-09-23 05:21:08.268 +03:00 [INF] Cache set successfully for key: subcategory:5_active:True_deleted:False_IsAdmin:False with tags: [subcategorywithdata]
2025-09-23 05:21:12.023 +03:00 [INF] Setting cache for key: variant:23
2025-09-23 05:21:12.237 +03:00 [INF] Cache set successfully for key: variant:23 with tags: [product:13, variantdata]
2025-09-23 05:22:02.815 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:22:03.043 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:26:54.941 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:26:55.126 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:26:55.294 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:26:55.348 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:26:55.611 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:26:55.827 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:26:56.026 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:26:56.242 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:26:56.445 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:26:56.859 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:26:58.627 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:26:58.716 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:26:58.762 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:26:58.843 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:26:58.884 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:26:58.935 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:26:58.974 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:26:59.101 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:00.670 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:27:00.894 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:27:01.499 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:27:01.567 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:01.572 +03:00 [INF] Setting cache for key: product:18:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 05:27:01.718 +03:00 [INF] Setting cache for key: variant:24
2025-09-23 05:27:01.772 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:01.892 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:27:01.923 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:27:01.929 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:01.957 +03:00 [INF] Cache set successfully for key: product:18:variants:search:color::length::waist::size::active:True:deleted:False with tags: [product:18, variantdata]
2025-09-23 05:27:02.022 +03:00 [INF] Cache set successfully for key: variant:24 with tags: [product:18, variantdata]
2025-09-23 05:27:02.085 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:02.293 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:02.556 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:02.771 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:40.725 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:27:40.866 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:27:40.953 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:27:41.113 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:27:43.441 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:43.660 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:46.043 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:27:46.251 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:46.259 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:27:46.334 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:46.442 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:27:46.497 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:46.553 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:46.672 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:27:49.150 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:27:49.404 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:28:09.978 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:28:09.978 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:28:09.992 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:28:10.209 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:28:10.209 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:28:10.209 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:28:10.979 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:28:11.343 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:28:48.546 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__productid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DiscountId`, `t`.`Gender`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t`.`Price`, `t`.`Quantity`, `t`.`RowVersion`, `t`.`SubCategoryId`, `t`.`fitType`, `p0`.`Id`, `p0`.`Color`, `p0`.`CreatedAt`, `p0`.`DeletedAt`, `p0`.`IsActive`, `p0`.`Length`, `p0`.`ModifiedAt`, `p0`.`ProductId`, `p0`.`Quantity`, `p0`.`RowVersion`, `p0`.`Size`, `p0`.`Waist`
FROM (
    SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`RowVersion`, `p`.`SubCategoryId`, `p`.`fitType`
    FROM `Products` AS `p`
    WHERE (`p`.`Id` = @__productid_0) AND `p`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `ProductVariants` AS `p0` ON `t`.`Id` = `p0`.`ProductId`
ORDER BY `t`.`Id`
2025-09-23 05:28:48.731 +03:00 [INF] Removing cache by tags: [variantlist, variantdata]
2025-09-23 05:28:48.871 +03:00 [INF] Removing cache by tags: [order]
2025-09-23 05:28:48.997 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Quantity` = @p0
WHERE `Id` = @p1 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p1;
2025-09-23 05:28:51.162 +03:00 [INF] Removed 8 cache entries for tags: [variantlist, variantdata]
2025-09-23 05:29:15.510 +03:00 [INF] Removed 118 cache entries for tags: [order]
2025-09-23 05:32:36.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Products?search=string&isActive=true&includeDeleted=true&page=1&pageSize=10 - null null
2025-09-23 05:32:36.564 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 05:32:36.569 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 05:32:36.589 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ProductDtos.ProductDto]]]] GetProducts(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-09-23 05:32:36.620 +03:00 [INF] Executing GetProducts
2025-09-23 05:32:36.646 +03:00 [INF] Getting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":"string","Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 05:32:36.874 +03:00 [WRN] Cache miss for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":"string","Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 05:32:37.062 +03:00 [INF] Execute GetAll for entity Product
2025-09-23 05:32:37.355 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__8__locals1_searchCriteria_SearchTerm_0_contains='?' (Size = 20), @__8__locals1_searchCriteria_SearchTerm_0_contains_1='?' (Size = 50), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`Quantity`, `t`.`Gender`, `t`.`SubCategoryId`, `t`.`Price`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t`.`fitType`, `t`.`IsActive`, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `t`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `t`.`Price`)
    ELSE `t`.`Price`
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`EndDate`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`Name`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
    ELSE 0.0
END, `d`.`Id`, `t0`.`Id`, `t0`.`Url`
FROM (
    SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`
    FROM `Products` AS `p`
    WHERE (`p`.`IsActive` AND (`p`.`DeletedAt` IS NULL)) AND ((`p`.`Name` LIKE @__8__locals1_searchCriteria_SearchTerm_0_contains) OR (`p`.`Description` LIKE @__8__locals1_searchCriteria_SearchTerm_0_contains_1))
    ORDER BY `p`.`Name`
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
LEFT JOIN `Discount` AS `d` ON `t`.`DiscountId` = `d`.`Id`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`ProductId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`ProductId`
ORDER BY `t`.`Name`, `t`.`Id`, `d`.`Id`
2025-09-23 05:32:38.226 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ProductDtos.ProductDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 05:32:38.238 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.GetProducts (E-Commerce) in 1637.6687ms
2025-09-23 05:32:38.241 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 05:32:38.243 +03:00 [INF] The response could not be cached for this request.
2025-09-23 05:32:38.244 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Products?search=string&isActive=true&includeDeleted=true&page=1&pageSize=10 - 200 658 application/json; charset=utf-8 1685.999ms
2025-09-23 05:33:11.770 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Products/1/Variants - null null
2025-09-23 05:33:11.813 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 05:33:11.814 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductVariantController.SearchVariants (E-Commerce)'
2025-09-23 05:33:11.825 +03:00 [INF] Route matched with {action = "SearchVariants", controller = "ProductVariant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ProductDtos.ProductVariantDto]]]] SearchVariants(Int32, System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[E_Commerce.Enums.VariantSize], System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean]) on controller E_Commerce.Controllers.ProductVariantController (E-Commerce).
2025-09-23 05:33:11.845 +03:00 [INF] Searching variants for product 1 with filters: color=, length=, waist=, size=, isActive=True, deletedOnly=False
2025-09-23 05:33:11.847 +03:00 [INF] Getting cache for key: product:1:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 05:33:12.061 +03:00 [WRN] Cache miss for key: product:1:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 05:33:12.066 +03:00 [INF] Execute GetAll for entity ProductVariant
2025-09-23 05:33:12.272 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__productId_0='?' (DbType = Int32), @__isActive_Value_1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Color`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`IsActive`, `p`.`Length`, `p`.`ModifiedAt`, `p`.`ProductId`, `p`.`Quantity`, `p`.`RowVersion`, `p`.`Size`, `p`.`Waist`
FROM `ProductVariants` AS `p`
WHERE ((`p`.`ProductId` = @__productId_0) AND (`p`.`IsActive` = @__isActive_Value_1)) AND `p`.`DeletedAt` IS NULL
2025-09-23 05:33:12.550 +03:00 [INF] Caching search results for product 1
2025-09-23 05:33:13.443 +03:00 [INF] Successfully retrieved 9 variants for product 1
2025-09-23 05:33:13.446 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ProductDtos.ProductVariantDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 05:33:13.454 +03:00 [INF] Executed action E_Commerce.Controllers.ProductVariantController.SearchVariants (E-Commerce) in 1624.7615ms
2025-09-23 05:33:13.466 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductVariantController.SearchVariants (E-Commerce)'
2025-09-23 05:33:13.479 +03:00 [INF] The response could not be cached for this request.
2025-09-23 05:33:13.494 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Products/1/Variants - 200 1770 application/json; charset=utf-8 1723.8108ms
2025-09-23 05:36:22.071 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:36:22.417 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:36:22.486 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:36:22.632 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:36:22.754 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:22.754 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:36:22.955 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:23.185 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:36:23.272 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:36:23.285 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:36:23.313 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:36:24.173 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:36:24.456 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:26.218 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:26.254 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:36:26.287 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:26.340 +03:00 [INF] Setting cache for key: product:18:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 05:36:26.581 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:36:27.109 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:36:27.329 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:36:27.416 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:36:27.446 +03:00 [INF] Cache set successfully for key: product:18:variants:search:color::length::waist::size::active:True:deleted:False with tags: [product:18, variantdata]
2025-09-23 05:36:30.333 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:36:30.664 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:30.752 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:30.752 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:36:30.820 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:36:30.888 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:36:30.969 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:36:31.036 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:36:33.616 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:36:33.837 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:37:04.565 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:04.701 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:04.791 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:37:05.130 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:05.170 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:05.187 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:37:08.265 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:37:08.547 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:37:10.201 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:10.244 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:10.249 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:10.417 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:10.460 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:10.465 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:11.456 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:37:11.850 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:37:28.236 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:37:28.451 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:37:28.632 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:28.632 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:28.766 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:28.865 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:28.867 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:28.991 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:31.303 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:37:31.602 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:37:39.483 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:37:39.785 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:37:41.949 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:42.026 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:42.165 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:42.241 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:42.391 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:42.607 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:44.199 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:37:44.454 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:37:54.180 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:37:54.571 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:54.634 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:54.706 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:37:54.804 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:54.972 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:56.282 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:37:56.336 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:37:56.497 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:37:56.557 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:37:56.627 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:56.842 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:56.889 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:37:57.103 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:37:58.770 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:37:59.096 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:38:05.335 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:38:05.558 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:38:05.803 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:38:06.099 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:40:09.159 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:40:09.426 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:41:02.011 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:41:02.494 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:41:02.672 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:41:02.709 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:41:03.324 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:41:03.471 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:41:03.911 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:41:03.961 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:41:04.921 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:41:05.488 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:42:13.382 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:42:14.443 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:42:16.173 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 05:42:16.417 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 05:42:18.579 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:42:18.795 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:42:19.273 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:42:19.482 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:42:19.523 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:42:19.942 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:42:19.952 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:42:19.965 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:42:56.770 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:42:56.809 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:42:56.815 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:42:56.982 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:42:57.025 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:42:57.036 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:43:02.094 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:43:02.264 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:43:02.602 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 05:43:02.619 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:43:02.869 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 05:43:03.213 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 05:43:03.894 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:43:03.981 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:43:03.992 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 05:43:04.228 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 05:43:04.231 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:43:04.602 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:43:06.241 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 05:43:06.310 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 05:43:06.349 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 05:43:06.455 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 05:43:06.528 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 05:43:06.575 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:39:00.443 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 16:39:02.547 +03:00 [INF] Executed DbCommand (110ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 16:39:03.469 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 16:39:03.681 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 16:39:03.752 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 16:39:03.770 +03:00 [INF] Starting data seeding...
2025-09-23 16:39:03.814 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 16:39:04.061 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 16:39:04.593 +03:00 [INF] Executed DbCommand (113ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 16:39:04.724 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 16:39:05.062 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 16:39:05.464 +03:00 [INF] Role 'User' already exists.
2025-09-23 16:39:06.035 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 16:39:06.533 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 16:39:06.684 +03:00 [INF] Data seeding completed successfully.
2025-09-23 16:39:08.745 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 16:39:09.159 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 16:39:09.190 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 16:39:09.197 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 16:39:09.278 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 16:39:09.338 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 16:39:09.607 +03:00 [INF] Server mrrobot:3488:413e9777 successfully announced in 225.253 ms
2025-09-23 16:39:09.951 +03:00 [INF] Hosting environment: Development
2025-09-23 16:39:10.004 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 16:39:10.006 +03:00 [INF] Server mrrobot:3488:413e9777 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 16:39:10.847 +03:00 [INF] Server mrrobot:3488:413e9777 all the dispatchers started
2025-09-23 16:39:11.197 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 16:39:11.633 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 425.3373ms
2025-09-23 16:39:11.656 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 16:39:11.730 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 16:39:11.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 16:39:11.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 97.2038ms
2025-09-23 16:39:11.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 96.4446ms
2025-09-23 16:39:11.911 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 180.9878ms
2025-09-23 16:39:12.047 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 16:39:12.285 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 238.7091ms
2025-09-23 16:39:15.485 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 16:39:15.495 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 16:39:15.598 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 16:39:15.610 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 16:39:15.645 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 16:39:15.970 +03:00 [INF] In LoginAsync Method 
2025-09-23 16:39:16.116 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 16:39:16.244 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 16:39:16.250 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 16:39:16.426 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 16:39:16.582 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 16:39:16.888 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 16:39:17.244 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 16:39:17.380 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 16:39:17.385 +03:00 [INF] üîë Generating Refresh Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 16:39:17.619 +03:00 [INF] ‚úÖ RefreshToken generated and stored for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 16:39:18.147 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 16:39:18.402 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 2740.079ms
2025-09-23 16:39:18.462 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 16:39:19.119 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1251 application/json; charset=utf-8 3633.8457ms
2025-09-23 16:39:39.049 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920060933-5549 - null null
2025-09-23 16:39:39.224 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 16:39:39.479 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 16:39:40.119 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 16:39:40.218 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 16:39:40.244 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250920060933-5549
2025-09-23 16:39:40.317 +03:00 [INF] Getting order by number: ORD-20250920060933-5549 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 16:39:40.323 +03:00 [INF] Getting cache for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:39:40.545 +03:00 [WRN] Cache miss for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:39:40.553 +03:00 [INF] Checking if order ORD-20250920060933-5549 exists for user
2025-09-23 16:39:40.700 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__ordernumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Orders` AS `o`
    WHERE (`o`.`OrderNumber` = @__ordernumber_0) AND `o`.`DeletedAt` IS NULL)
2025-09-23 16:39:40.707 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 16:39:40.883 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 16:39:41.062 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__8__locals1_orderNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`Id`, `t0`.`CreatedAt`, `t0`.`ModifiedAt`, `t0`.`OrderNumber`, `t0`.`Status`, `t0`.`Subtotal`, `t0`.`TaxAmount`, `t0`.`ShippingCost`, `t0`.`DiscountAmount`, `t0`.`Total`, `t0`.`Notes`, `t0`.`DeletedAt`, `t0`.`ShippedAt`, `t0`.`DeliveredAt`, `t0`.`CancelledAt`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `p`.`Amount`, `p`.`CreatedAt`, `p`.`CustomerId`, `p`.`DeletedAt`, `p`.`ModifiedAt`, `p`.`OrderId`, `p`.`PaymentDate`, `p`.`PaymentMethodId`, `p`.`PaymentProviderId`, `p`.`ProviderOrderId`, `p`.`RowVersion`, `p`.`Status`, `p`.`TransactionId`, `t1`.`Status`, `t1`.`Amount`, `t1`.`CreatedAt`, `t1`.`Id`, `t1`.`PaymentDate`, `t1`.`PaymentMethodId`, `t1`.`PaymentProviderId`, `t1`.`PaymentMethod`, `t1`.`Id0`, `t0`.`c`, `t0`.`Name`, `t0`.`Email`, `t0`.`PhoneNumber`, `t0`.`AdditionalNotes`, `t0`.`AddressType`, `t0`.`City`, `t0`.`Country`, `t0`.`CreatedAt0`, `t0`.`CustomerId`, `t0`.`StreetAddress`, `t0`.`State`, `t0`.`PhoneNumber0`, `t0`.`IsDefault`, `t0`.`ModifiedAt0`, `t0`.`PostalCode`, `t2`.`Id`, `t2`.`CreatedAt`, `t2`.`ModifiedAt`, `t2`.`Quantity`, `t2`.`UnitPrice`, `t2`.`TotalPrice`, `t2`.`OrderedAt`, `t2`.`Id0`, `t2`.`Name`, `t2`.`Price`, `t2`.`IsActive`, `t2`.`FinalPrice`, `t2`.`DiscountPrecentage`, `t2`.`MainImageUrl`, `t2`.`Id1`, `t2`.`Color`, `t2`.`CreatedAt0`, `t2`.`ModifiedAt0`, `t2`.`Size`, `t2`.`DeletedAt`, `t2`.`Length`, `t2`.`Waist`, `t2`.`Id2`, `t2`.`Id3`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`ModifiedAt`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Subtotal`, `o`.`TaxAmount`, `o`.`ShippingCost`, `o`.`DiscountAmount`, `o`.`Total`, `o`.`Notes`, `o`.`DeletedAt`, `o`.`ShippedAt`, `o`.`DeliveredAt`, `o`.`CancelledAt`, FALSE AS `c`, `t`.`Id` AS `Id0`, `t`.`Name`, `t`.`Email`, `t`.`PhoneNumber`, `c`.`Id` AS `Id1`, `c`.`AdditionalNotes`, `c`.`AddressType`, `c`.`City`, `c`.`Country`, `c`.`CreatedAt` AS `CreatedAt0`, `c`.`CustomerId`, `c`.`StreetAddress`, `c`.`State`, `c`.`PhoneNumber` AS `PhoneNumber0`, `c`.`IsDefault`, `c`.`ModifiedAt` AS `ModifiedAt0`, `c`.`PostalCode`
    FROM `Orders` AS `o`
    INNER JOIN (
        SELECT `a`.`Id`, `a`.`Email`, `a`.`PhoneNumber`, `a`.`Name`
        FROM `AspNetUsers` AS `a`
        WHERE `a`.`Discriminator` = 'Customer'
    ) AS `t` ON `o`.`CustomerId` = `t`.`Id`
    INNER JOIN `CustomerAddresses` AS `c` ON `o`.`CustomerAddressId` = `c`.`Id`
    WHERE `o`.`OrderNumber` = @__8__locals1_orderNumber_0
    LIMIT 1
) AS `t0`
LEFT JOIN `Payments` AS `p` ON `t0`.`Id` = `p`.`OrderId`
LEFT JOIN (
    SELECT `p0`.`Status`, `p0`.`Amount`, `p0`.`CreatedAt`, `p0`.`Id`, `p0`.`PaymentDate`, `p0`.`PaymentMethodId`, `p0`.`PaymentProviderId`, `p1`.`Name` AS `PaymentMethod`, `p1`.`Id` AS `Id0`, `p0`.`OrderId`
    FROM `Payments` AS `p0`
    INNER JOIN `PaymentMethods` AS `p1` ON `p0`.`PaymentMethodId` = `p1`.`Id`
) AS `t1` ON `t0`.`Id` = `t1`.`OrderId`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`CreatedAt`, `o0`.`ModifiedAt`, `o0`.`Quantity`, `o0`.`UnitPrice`, `o0`.`TotalPrice`, `o0`.`OrderedAt`, `p2`.`Id` AS `Id0`, `p2`.`Name`, `p2`.`Price`, `p2`.`IsActive`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN ROUND(`p2`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `p2`.`Price`))
        ELSE `p2`.`Price`
    END AS `FinalPrice`, CASE
        WHEN (`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
        ELSE 0.0
    END AS `DiscountPrecentage`, COALESCE((
        SELECT `i`.`Url`
        FROM `Images` AS `i`
        WHERE (`p2`.`Id` = `i`.`ProductId`) AND `i`.`DeletedAt` IS NULL
        LIMIT 1), '') AS `MainImageUrl`, `o0`.`ProductVariantId` AS `Id1`, `p3`.`Color`, COALESCE(`p3`.`CreatedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `CreatedAt0`, COALESCE(`p3`.`ModifiedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `ModifiedAt0`, `p3`.`Size`, `p3`.`DeletedAt`, COALESCE(`p3`.`Length`, 0) AS `Length`, COALESCE(`p3`.`Waist`, 0) AS `Waist`, `d`.`Id` AS `Id2`, `p3`.`Id` AS `Id3`, `o0`.`OrderId`
    FROM `OrderItem` AS `o0`
    INNER JOIN `Products` AS `p2` ON `o0`.`ProductId` = `p2`.`Id`
    LEFT JOIN `Discount` AS `d` ON `p2`.`DiscountId` = `d`.`Id`
    INNER JOIN `ProductVariants` AS `p3` ON `o0`.`ProductVariantId` = `p3`.`Id`
) AS `t2` ON `t0`.`Id` = `t2`.`OrderId`
ORDER BY `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t2`.`Id`, `t2`.`Id0`, `t2`.`Id2`
2025-09-23 16:39:42.105 +03:00 [INF] Order ORD-20250920060933-5549 retrieved successfully for user ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 16:39:42.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 16:39:42.206 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 1984.1375ms
2025-09-23 16:39:42.217 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 16:39:42.225 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250920060933-5549 - 200 2123 application/json; charset=utf-8 3176.4305ms
2025-09-23 16:39:43.507 +03:00 [INF] Setting cache for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:39:43.779 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 16:50:42.772 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 16:50:42.871 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 16:50:42.999 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:False_search:_page:1_pageSize:10_IsAdmin:False with tags: [collectionlist]
2025-09-23 16:50:43.090 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 16:50:43.452 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 16:50:43.464 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 16:50:43.465 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 16:50:43.692 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 16:50:43.701 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 16:50:43.719 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 16:50:44.223 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 16:50:44.344 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 16:50:44.417 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 16:50:44.519 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:50:44.617 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:50:44.651 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:50:45.821 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 16:50:46.039 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:50:46.220 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 16:50:46.437 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:50:48.002 +03:00 [INF] Setting cache for key: order:number:ORD-20250909232530-5147_user:e682f183-1c61-400b-aa5a-171750f446b5_admin:False
2025-09-23 16:50:48.230 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250909232530-5147_user:e682f183-1c61-400b-aa5a-171750f446b5_admin:False with tags: [order]
2025-09-23 16:52:39.685 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 16:52:39.807 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 16:52:39.904 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 16:52:39.926 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 16:52:40.026 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 16:52:40.146 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True with tags: [collectionlist]
2025-09-23 16:52:40.210 +03:00 [INF] Setting cache for key: collection:6_active:_deleted:_IsAdmin:True
2025-09-23 16:52:40.362 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 16:52:40.430 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 16:52:40.466 +03:00 [INF] Cache set successfully for key: collection:6_active:_deleted:_IsAdmin:True with tags: [CollectionWithProduct]
2025-09-23 16:52:40.579 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 16:52:40.646 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:52:41.958 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 16:52:42.174 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:52:42.258 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 16:52:42.478 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:52:42.787 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:20_status:all
2025-09-23 16:52:42.945 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 16:52:43.017 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:20_status:all with tags: [order]
2025-09-23 16:52:43.165 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 16:52:43.190 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 16:52:43.285 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 16:52:43.408 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:52:43.511 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 16:52:43.616 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 16:52:43.622 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 16:52:43.836 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:52:43.842 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 16:52:44.073 +03:00 [INF] Setting cache for key: order:id:182_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:52:44.215 +03:00 [INF] Setting cache for key: order:id:181_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:52:44.298 +03:00 [INF] Cache set successfully for key: order:id:182_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 16:52:44.437 +03:00 [INF] Cache set successfully for key: order:id:181_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 16:52:44.870 +03:00 [INF] Setting cache for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:52:45.098 +03:00 [INF] Cache set successfully for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 16:52:45.161 +03:00 [INF] Setting cache for key: order:id:170_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:52:45.384 +03:00 [INF] Cache set successfully for key: order:id:170_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 16:52:45.601 +03:00 [INF] Setting cache for key: order:number:ORD-20250916100228-7299_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 16:52:45.838 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250916100228-7299_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 16:56:45.020 +03:00 [WRN] Server mrrobot:3488:413e9777 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 16:56:48.781 +03:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:05:00
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.JobQueue.MySqlJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken)
   at Hangfire.MySql.MySqlStorageConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken)
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 16:56:48.889 +03:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:09
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 407
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 16:56:57.902 +03:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:16
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action)
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 16:57:15.307 +03:00 [INF] Server mrrobot:3488:413e9777 is now able to continue sending heartbeats
2025-09-23 16:57:29.932 +03:00 [INF] Execution RecurringJobScheduler recovered from the Failed state after 00:00:32.0081550 and is in the Running state now
2025-09-23 16:57:30.040 +03:00 [INF] Execution DelayedJobScheduler recovered from the Failed state after 00:00:41.1392087 and is in the Running state now
2025-09-23 17:01:50.687 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:20_status:Processing
2025-09-23 17:01:50.940 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:20_status:Processing with tags: [order]
2025-09-23 17:01:51.964 +03:00 [INF] Setting cache for key: order:id:25_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:01:52.240 +03:00 [INF] Cache set successfully for key: order:id:25_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:01:52.569 +03:00 [INF] Execution Worker recovered from the Failed state after 00:05:03.7761047 and is in the Running state now
2025-09-23 17:01:54.973 +03:00 [INF] Setting cache for key: order:id:7_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:01:55.237 +03:00 [INF] Cache set successfully for key: order:id:7_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:02:19.361 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 17:02:19.442 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 17:02:19.504 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 17:02:19.607 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 17:02:19.695 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True with tags: [collectionlist]
2025-09-23 17:02:19.757 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 17:02:20.008 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 17:02:20.271 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:02:23.160 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 17:02:23.293 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 17:02:23.382 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 17:02:23.420 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 17:02:23.539 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:02:23.639 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:02:23.973 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 17:02:24.228 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:02:25.314 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 17:02:25.577 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 17:02:47.064 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:20_status:CancelledByAdmin
2025-09-23 17:02:47.318 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:20_status:CancelledByAdmin with tags: [order]
2025-09-23 17:05:03.152 +03:00 [INF] Setting cache for key: order:id:162_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:05:03.206 +03:00 [INF] Setting cache for key: order:id:161_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:05:03.420 +03:00 [INF] Cache set successfully for key: order:id:162_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:05:03.460 +03:00 [INF] Cache set successfully for key: order:id:161_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:09:13.274 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 17:09:13.524 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 17:09:13.913 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:13.956 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:14.062 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:14.172 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:14.206 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:14.246 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:14.251 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:14.306 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:14.334 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:14.502 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:14.502 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:14.586 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:15.111 +03:00 [INF] Setting cache for key: subcategory:5_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:15.366 +03:00 [INF] Cache set successfully for key: subcategory:5_active:True_deleted:False_IsAdmin:False with tags: [subcategorywithdata]
2025-09-23 17:09:17.533 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 17:09:17.707 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:17.791 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 17:09:17.955 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:21.812 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 17:09:21.968 +03:00 [INF] Setting cache for key: collection:8_active:_deleted:_IsAdmin:True
2025-09-23 17:09:22.134 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 17:09:22.223 +03:00 [INF] Cache set successfully for key: collection:8_active:_deleted:_IsAdmin:True with tags: [CollectionWithProduct]
2025-09-23 17:09:25.706 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 17:09:25.895 +03:00 [INF] Setting cache for key: variant:18
2025-09-23 17:09:25.895 +03:00 [INF] Setting cache for key: variant:19
2025-09-23 17:09:25.965 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:09:25.982 +03:00 [INF] Setting cache for key: variant:9
2025-09-23 17:09:26.153 +03:00 [INF] Cache set successfully for key: variant:18 with tags: [product:14, variantdata]
2025-09-23 17:09:26.154 +03:00 [INF] Cache set successfully for key: variant:19 with tags: [product:14, variantdata]
2025-09-23 17:09:26.256 +03:00 [INF] Cache set successfully for key: variant:9 with tags: [product:14, variantdata]
2025-09-23 17:09:28.440 +03:00 [INF] Setting cache for key: product:14:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 17:09:28.690 +03:00 [INF] Cache set successfully for key: product:14:variants:search:color::length::waist::size::active:True:deleted:False with tags: [product:14, variantdata]
2025-09-23 17:09:32.364 +03:00 [INF] Setting cache for key: product:3:variants:search:color::length::waist::size::active::deleted:
2025-09-23 17:09:32.687 +03:00 [INF] Cache set successfully for key: product:3:variants:search:color::length::waist::size::active::deleted: with tags: [product:3, variantdata]
2025-09-23 17:09:36.392 +03:00 [INF] Setting cache for key: variant:3
2025-09-23 17:09:36.630 +03:00 [INF] Executing GetByIdAsync for entity Cart with ID: 1
2025-09-23 17:09:36.669 +03:00 [INF] Cache set successfully for key: variant:3 with tags: [product:3, variantdata]
2025-09-23 17:09:36.822 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CheckoutDate`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`UserId`
FROM `Cart` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-09-23 17:09:50.353 +03:00 [INF] Removing cache by tag: CollectionWithProduct
2025-09-23 17:09:50.519 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[@__productid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CreatedAt`, `t`.`DeletedAt`, `t`.`Description`, `t`.`DiscountId`, `t`.`Gender`, `t`.`IsActive`, `t`.`ModifiedAt`, `t`.`Name`, `t`.`Price`, `t`.`Quantity`, `t`.`RowVersion`, `t`.`SubCategoryId`, `t`.`fitType`, `p0`.`Id`, `p0`.`Color`, `p0`.`CreatedAt`, `p0`.`DeletedAt`, `p0`.`IsActive`, `p0`.`Length`, `p0`.`ModifiedAt`, `p0`.`ProductId`, `p0`.`Quantity`, `p0`.`RowVersion`, `p0`.`Size`, `p0`.`Waist`
FROM (
    SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`RowVersion`, `p`.`SubCategoryId`, `p`.`fitType`
    FROM `Products` AS `p`
    WHERE (`p`.`Id` = @__productid_0) AND `p`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN `ProductVariants` AS `p0` ON `t`.`Id` = `p0`.`ProductId`
ORDER BY `t`.`Id`
2025-09-23 17:09:50.590 +03:00 [INF] Removing cache by tags: [variantlist, variantdata]
2025-09-23 17:09:50.599 +03:00 [INF] Removing cache by tags: [Product, Productwithdata, ProductList]
2025-09-23 17:09:50.734 +03:00 [INF] Removing cache by tags: [Product, Productwithdata, ProductList]
2025-09-23 17:09:50.949 +03:00 [INF] Removing cache by tags: [subcategory, subcategorywithdata, subcategorylist]
2025-09-23 17:09:51.053 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (Size = 8) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Products` SET `Quantity` = @p0
WHERE `Id` = @p1 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Products`
WHERE ROW_COUNT() = 1 AND `Id` = @p1;
2025-09-23 17:09:51.091 +03:00 [INF] Removing cache by tags: [collection, CollectionWithProduct, collectionlist]
2025-09-23 17:09:52.124 +03:00 [INF] Removed 2 cache entries for tags: [Product, Productwithdata, ProductList]
2025-09-23 17:09:52.124 +03:00 [INF] Removed 5 cache entries for tag: CollectionWithProduct
2025-09-23 17:09:52.261 +03:00 [INF] Removed 2 cache entries for tags: [Product, Productwithdata, ProductList]
2025-09-23 17:09:52.267 +03:00 [INF] Removed 1 cache entries for tags: [subcategory, subcategorywithdata, subcategorylist]
2025-09-23 17:09:53.875 +03:00 [INF] Removed 7 cache entries for tags: [collection, CollectionWithProduct, collectionlist]
2025-09-23 17:09:55.882 +03:00 [INF] Removing cache by tag: CollectionWithProduct
2025-09-23 17:09:56.050 +03:00 [INF] Removing cache by tag: subcategorywithdata
2025-09-23 17:09:56.174 +03:00 [WRN] No cache entries found for tag: CollectionWithProduct
2025-09-23 17:09:56.292 +03:00 [WRN] No cache entries found for tag: subcategorywithdata
2025-09-23 17:09:56.492 +03:00 [INF] Removed 21 cache entries for tags: [variantlist, variantdata]
2025-09-23 17:09:56.546 +03:00 [INF] Removing cache by tags: [Product, Productwithdata, ProductList]
2025-09-23 17:09:57.266 +03:00 [WRN] No cache entries found for tags: [Product, Productwithdata, ProductList]
2025-09-23 17:10:11.274 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 17:10:11.531 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 17:10:15.158 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 17:10:15.412 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 17:10:19.843 +03:00 [INF] Setting cache for key: order:id:183_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:20.110 +03:00 [INF] Cache set successfully for key: order:id:183_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:20.345 +03:00 [INF] Setting cache for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:20.547 +03:00 [INF] Setting cache for key: order:id:180_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:20.618 +03:00 [INF] Cache set successfully for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:20.749 +03:00 [INF] Setting cache for key: order:id:178_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:20.749 +03:00 [INF] Setting cache for key: order:id:181_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:20.840 +03:00 [INF] Cache set successfully for key: order:id:180_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:20.947 +03:00 [INF] Setting cache for key: order:id:177_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:21.013 +03:00 [INF] Setting cache for key: order:id:182_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:21.019 +03:00 [INF] Cache set successfully for key: order:id:178_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:21.019 +03:00 [INF] Cache set successfully for key: order:id:181_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:21.031 +03:00 [INF] Setting cache for key: order:id:174_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:21.140 +03:00 [INF] Setting cache for key: order:id:179_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:21.380 +03:00 [INF] Cache set successfully for key: order:id:177_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:21.380 +03:00 [INF] Cache set successfully for key: order:id:182_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:21.380 +03:00 [INF] Cache set successfully for key: order:id:174_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:21.407 +03:00 [INF] Cache set successfully for key: order:id:179_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:23.808 +03:00 [INF] Setting cache for key: order:id:176_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:24.080 +03:00 [INF] Cache set successfully for key: order:id:176_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:24.573 +03:00 [INF] Setting cache for key: order:id:173_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:24.671 +03:00 [INF] Setting cache for key: order:id:172_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:24.671 +03:00 [INF] Setting cache for key: order:id:169_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:24.705 +03:00 [INF] Setting cache for key: order:id:171_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:24.842 +03:00 [INF] Cache set successfully for key: order:id:173_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:24.930 +03:00 [INF] Cache set successfully for key: order:id:172_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:24.949 +03:00 [INF] Cache set successfully for key: order:id:169_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:24.960 +03:00 [INF] Cache set successfully for key: order:id:171_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:24.972 +03:00 [INF] Setting cache for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:24.991 +03:00 [INF] Setting cache for key: order:id:170_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:25.015 +03:00 [INF] Setting cache for key: order:id:167_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:25.078 +03:00 [INF] Setting cache for key: order:id:165_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:10:25.229 +03:00 [INF] Cache set successfully for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:25.246 +03:00 [INF] Cache set successfully for key: order:id:170_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:25.279 +03:00 [INF] Cache set successfully for key: order:id:167_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:10:25.368 +03:00 [INF] Cache set successfully for key: order:id:165_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 17:11:42.675 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250923140948-4642 - null null
2025-09-23 17:11:42.696 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 17:11:43.112 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 17:11:43.119 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 17:11:43.124 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 17:11:43.135 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250923140948-4642
2025-09-23 17:11:43.138 +03:00 [INF] Getting order by number: ORD-20250923140948-4642 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 17:11:43.141 +03:00 [INF] Getting cache for key: order:number:ORD-20250923140948-4642_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:11:43.455 +03:00 [INF] Cache hit for key: order:number:ORD-20250923140948-4642_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:11:43.481 +03:00 [INF] Cache hit for order number ORD-20250923140948-4642
2025-09-23 17:11:43.485 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 17:11:43.491 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 360.5061ms
2025-09-23 17:11:43.497 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 17:11:43.501 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250923140948-4642 - 200 2806 application/json; charset=utf-8 825.5229ms
2025-09-23 17:13:54.293 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250916174731-1688 - null null
2025-09-23 17:13:54.301 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 17:13:54.494 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 17:13:54.505 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 17:13:54.508 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 17:13:54.569 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250916174731-1688
2025-09-23 17:13:54.571 +03:00 [INF] Getting order by number: ORD-20250916174731-1688 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 17:13:54.574 +03:00 [INF] Getting cache for key: order:number:ORD-20250916174731-1688_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:13:54.868 +03:00 [INF] Cache hit for key: order:number:ORD-20250916174731-1688_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 17:13:54.873 +03:00 [INF] Cache hit for order number ORD-20250916174731-1688
2025-09-23 17:13:54.877 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 17:13:54.909 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 397.5515ms
2025-09-23 17:13:54.912 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 17:13:54.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250916174731-1688 - 200 2100 application/json; charset=utf-8 622.6308ms
2025-09-23 18:13:10.573 +03:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1046
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 407
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 18:13:10.574 +03:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1046
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action)
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 18:13:14.676 +03:00 [WRN] Server mrrobot:3488:413e9777 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1046
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 42
2025-09-23 18:13:22.038 +03:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:05:00
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
   at MySqlConnector.Core.ServerSession.OpenTcpSocketAsync(ConnectionSettings cs, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 1046
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 425
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.JobQueue.MySqlJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken)
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 104
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 18:13:45.333 +03:00 [INF] Execution RecurringJobScheduler recovered from the Failed state after 00:00:19.7613622 and is in the Running state now
2025-09-23 18:13:52.232 +03:00 [INF] Starting CheckAndUpdatePaymentStatusAsync for payment 138
2025-09-23 18:13:52.625 +03:00 [INF] Executing GetByIdAsync for entity Payment with ID: 138
2025-09-23 18:13:52.829 +03:00 [INF] Executed DbCommand (188ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`Id`, `p`.`Amount`, `p`.`CreatedAt`, `p`.`CustomerId`, `p`.`DeletedAt`, `p`.`ModifiedAt`, `p`.`OrderId`, `p`.`PaymentDate`, `p`.`PaymentMethodId`, `p`.`PaymentProviderId`, `p`.`ProviderOrderId`, `p`.`RowVersion`, `p`.`Status`, `p`.`TransactionId`
FROM `Payments` AS `p`
WHERE `p`.`Id` = @__id_0
LIMIT 1
2025-09-23 18:13:53.029 +03:00 [INF] Executed DbCommand (121ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT Id FROM Payments WHERE Id = @p0 FOR UPDATE
2025-09-23 18:13:53.156 +03:00 [INF] Execute GetAll for entity PaymentProvider
2025-09-23 18:13:53.363 +03:00 [INF] Executed DbCommand (182ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`PublicKey`
FROM `PaymentProviders` AS `p`
WHERE `p`.`Provider` = 1
LIMIT 1
2025-09-23 18:13:53.468 +03:00 [INF] Executing GetTokenAsync
2025-09-23 18:13:53.493 +03:00 [INF] Start processing HTTP request POST https://accept.paymob.com/api/auth/tokens
2025-09-23 18:13:53.541 +03:00 [INF] Sending HTTP request POST https://accept.paymob.com/api/auth/tokens
2025-09-23 18:13:54.412 +03:00 [INF] Received HTTP response headers after 847.2695ms - 201
2025-09-23 18:13:54.418 +03:00 [INF] End processing HTTP request after 926.4781ms - 201
2025-09-23 18:13:54.423 +03:00 [INF] Successfully retrieved PayMob token
2025-09-23 18:13:54.426 +03:00 [INF] Start processing HTTP request GET https://accept.paymob.com/api/ecommerce/orders/390163613
2025-09-23 18:13:54.431 +03:00 [INF] Sending HTTP request GET https://accept.paymob.com/api/ecommerce/orders/390163613
2025-09-23 18:13:54.652 +03:00 [INF] Received HTTP response headers after 219.1988ms - 200
2025-09-23 18:13:54.710 +03:00 [INF] End processing HTTP request after 283.9469ms - 200
2025-09-23 18:13:55.758 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p3='?' (Size = 8) (DbType = Binary), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Payments` SET `ModifiedAt` = @p0, `Status` = @p1
WHERE `Id` = @p2 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Payments`
WHERE ROW_COUNT() = 1 AND `Id` = @p2;
2025-09-23 18:13:56.394 +03:00 [INF] Server mrrobot:3488:413e9777 is now able to continue sending heartbeats
2025-09-23 18:13:58.964 +03:00 [INF] Execution DelayedJobScheduler recovered from the Failed state after 00:00:38.3929581 and is in the Running state now
2025-09-23 18:14:01.385 +03:00 [INF] Payment 138 updated to "Failed"
2025-09-23 18:14:02.628 +03:00 [INF] Execution Worker recovered from the Failed state after 00:00:36.4413720 and is in the Running state now
2025-09-23 18:14:04.088 +03:00 [INF] Execute UpdateOrderAfterPaid_id:183_to status:"PaymentExpired"
2025-09-23 18:14:04.309 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 18:14:04.403 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__orderId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CancelledAt`, `t`.`CreatedAt`, `t`.`CustomerAddressId`, `t`.`CustomerId`, `t`.`DeletedAt`, `t`.`DeliveredAt`, `t`.`DiscountAmount`, `t`.`ModifiedAt`, `t`.`Notes`, `t`.`OrderNumber`, `t`.`RestockedAt`, `t`.`RowVersion`, `t`.`ShippedAt`, `t`.`ShippingCost`, `t`.`Status`, `t`.`Subtotal`, `t`.`TaxAmount`, `t`.`Total`, `o0`.`Id`, `o0`.`CreatedAt`, `o0`.`DeletedAt`, `o0`.`ModifiedAt`, `o0`.`OrderId`, `o0`.`OrderedAt`, `o0`.`ProductId`, `o0`.`ProductVariantId`, `o0`.`Quantity`, `o0`.`TotalPrice`, `o0`.`UnitPrice`
FROM (
    SELECT `o`.`Id`, `o`.`CancelledAt`, `o`.`CreatedAt`, `o`.`CustomerAddressId`, `o`.`CustomerId`, `o`.`DeletedAt`, `o`.`DeliveredAt`, `o`.`DiscountAmount`, `o`.`ModifiedAt`, `o`.`Notes`, `o`.`OrderNumber`, `o`.`RestockedAt`, `o`.`RowVersion`, `o`.`ShippedAt`, `o`.`ShippingCost`, `o`.`Status`, `o`.`Subtotal`, `o`.`TaxAmount`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Id` = @__orderId_0
    LIMIT 1
) AS `t`
LEFT JOIN `OrderItem` AS `o0` ON `t`.`Id` = `o0`.`OrderId`
ORDER BY `t`.`Id`
2025-09-23 18:14:04.536 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT Id FROM Orders WHERE Id = @p0 FOR UPDATE
2025-09-23 18:14:04.710 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 8) (DbType = Binary), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Orders` SET `Status` = @p0
WHERE `Id` = @p1 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `Orders`
WHERE ROW_COUNT() = 1 AND `Id` = @p1;
2025-09-23 18:14:08.979 +03:00 [INF] Updated order 183 to "PaymentExpired" after payment
2025-09-23 18:14:11.673 +03:00 [INF] Removing cache by tags: [order]
2025-09-23 18:14:12.321 +03:00 [INF] Removing cache by tags: [variantlist, variantdata]
2025-09-23 18:14:12.793 +03:00 [WRN] No cache entries found for tags: [variantlist, variantdata]
2025-09-23 18:14:15.479 +03:00 [INF] Removing cache by tags: [Product, Productwithdata, ProductList]
2025-09-23 18:14:16.762 +03:00 [INF] Removed 2 cache entries for tags: [Product, Productwithdata, ProductList]
2025-09-23 18:14:17.089 +03:00 [INF] Removed 23 cache entries for tags: [order]
2025-09-23 18:14:19.697 +03:00 [INF] Removing cache by tags: [collection, CollectionWithProduct, collectionlist]
2025-09-23 18:14:20.725 +03:00 [INF] Removing cache by tags: [subcategory, subcategorywithdata, subcategorylist]
2025-09-23 18:14:21.328 +03:00 [INF] Removed 2 cache entries for tags: [collection, CollectionWithProduct, collectionlist]
2025-09-23 18:14:21.882 +03:00 [INF] Removed 1 cache entries for tags: [subcategory, subcategorywithdata, subcategorylist]
2025-09-23 18:14:22.087 +03:00 [INF] Removing cache by tags: [order]
2025-09-23 18:14:22.303 +03:00 [WRN] No cache entries found for tags: [order]
2025-09-23 18:14:24.305 +03:00 [INF] Removing cache by tags: [variantlist, variantdata]
2025-09-23 18:14:24.732 +03:00 [WRN] No cache entries found for tags: [variantlist, variantdata]
2025-09-23 18:14:24.947 +03:00 [INF] Removing cache by tags: [Product, Productwithdata, ProductList]
2025-09-23 18:14:25.349 +03:00 [INF] Removing cache by tags: [collection, CollectionWithProduct, collectionlist]
2025-09-23 18:14:25.590 +03:00 [WRN] No cache entries found for tags: [Product, Productwithdata, ProductList]
2025-09-23 18:14:25.987 +03:00 [WRN] No cache entries found for tags: [collection, CollectionWithProduct, collectionlist]
2025-09-23 18:14:27.999 +03:00 [INF] Removing cache by tags: [subcategory, subcategorywithdata, subcategorylist]
2025-09-23 18:14:29.688 +03:00 [WRN] No cache entries found for tags: [subcategory, subcategorywithdata, subcategorylist]
2025-09-23 18:16:48.911 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:16:49.141 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:16:49.472 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 18:16:49.693 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 18:16:52.456 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:16:52.678 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:16:53.381 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 18:16:53.604 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:16:53.801 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:16:54.022 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:16:55.779 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:16:55.986 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:16:55.995 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:16:56.208 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:16:56.800 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 18:16:56.961 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:16:57.022 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:16:57.109 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 18:16:57.179 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:16:57.246 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:16:57.328 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 18:16:57.469 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:16:57.661 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:16:57.881 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:17:49.403 +03:00 [INF] Setting cache for key: collection:6_active:_deleted:_IsAdmin:True
2025-09-23 18:17:49.623 +03:00 [INF] Cache set successfully for key: collection:6_active:_deleted:_IsAdmin:True with tags: [CollectionWithProduct]
2025-09-23 18:17:50.490 +03:00 [INF] Setting cache for key: collection:6_active:_deleted:_IsAdmin:True
2025-09-23 18:17:50.722 +03:00 [INF] Cache set successfully for key: collection:6_active:_deleted:_IsAdmin:True with tags: [CollectionWithProduct]
2025-09-23 18:17:50.743 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 18:17:50.966 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True with tags: [collectionlist]
2025-09-23 18:18:27.660 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:18:27.891 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:18:33.249 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:18:33.404 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:18:33.404 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:18:33.406 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 18:18:33.467 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:18:33.496 +03:00 [INF] Setting cache for key: collection:3_active:_deleted:_IsAdmin:True
2025-09-23 18:18:33.625 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:18:33.627 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:18:33.640 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:18:33.731 +03:00 [INF] Cache set successfully for key: collection:3_active:_deleted:_IsAdmin:True with tags: [CollectionWithProduct]
2025-09-23 18:18:34.667 +03:00 [INF] Setting cache for key: collection:3_active:_deleted:_IsAdmin:True
2025-09-23 18:18:34.845 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 18:18:34.893 +03:00 [INF] Cache set successfully for key: collection:3_active:_deleted:_IsAdmin:True with tags: [CollectionWithProduct]
2025-09-23 18:18:35.067 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True with tags: [collectionlist]
2025-09-23 18:18:36.159 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 18:18:36.345 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:18:36.361 +03:00 [INF] Setting cache for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 18:18:36.380 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 18:18:36.398 +03:00 [INF] Setting cache for key: collection:6_active:_deleted:_IsAdmin:True
2025-09-23 18:18:36.565 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:18:36.573 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:18:36.583 +03:00 [INF] Cache set successfully for key: collection:list_active:True_deleted:_search:_page:1_pageSize:10_IsAdmin:True with tags: [collectionlist]
2025-09-23 18:18:36.640 +03:00 [INF] Cache set successfully for key: collection:6_active:_deleted:_IsAdmin:True with tags: [CollectionWithProduct]
2025-09-23 18:18:36.802 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:18:37.831 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:18:38.054 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:18:39.147 +03:00 [INF] Setting cache for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:18:39.345 +03:00 [INF] Setting cache for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:18:39.347 +03:00 [INF] Setting cache for key: order:id:165_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:18:39.374 +03:00 [INF] Cache set successfully for key: order:id:175_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:18:39.415 +03:00 [INF] Setting cache for key: order:id:168_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:18:39.557 +03:00 [INF] Setting cache for key: order:id:164_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:18:39.572 +03:00 [INF] Cache set successfully for key: order:id:166_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:18:39.579 +03:00 [INF] Cache set successfully for key: order:id:165_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:18:39.646 +03:00 [INF] Cache set successfully for key: order:id:168_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:18:39.782 +03:00 [INF] Cache set successfully for key: order:id:164_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:18:40.745 +03:00 [INF] Setting cache for key: order:id:164_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:18:40.971 +03:00 [INF] Cache set successfully for key: order:id:164_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:28:49.911 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:28:50.035 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:28:50.139 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:28:50.278 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:28:50.302 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 18:28:50.521 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 18:28:50.701 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:28:50.705 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 18:28:51.038 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:28:51.047 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:29:01.871 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:29:02.089 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:29:02.238 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:29:02.596 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:29:02.695 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:29:02.902 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 18:29:02.923 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:29:03.215 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:29:16.350 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:29:16.574 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:29:33.373 +03:00 [INF] Setting cache for key: order:number:ORD-20250916100246-9509_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:29:33.678 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250916100246-9509_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:31:09.036 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:20_status:CancelledByAdmin
2025-09-23 18:31:09.260 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:20_status:CancelledByAdmin with tags: [order]
2025-09-23 18:31:09.395 +03:00 [INF] Setting cache for key: order:id:39_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 18:31:09.646 +03:00 [INF] Cache set successfully for key: order:id:39_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 18:31:36.355 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:31:36.423 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:31:36.573 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:31:36.643 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:31:36.779 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:31:36.783 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 18:31:36.995 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:31:36.999 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:31:38.743 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 18:31:38.991 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 18:32:00.309 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:32:00.531 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:32:00.834 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:32:01.053 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:32:03.345 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 18:32:03.577 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 18:33:40.543 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 18:33:40.765 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 18:33:40.772 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 18:33:40.843 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 18:33:40.975 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 18:33:41.017 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:33:41.072 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:33:41.193 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 18:33:43.596 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 18:33:43.825 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 18:37:59.725 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=1 - null null
2025-09-23 18:37:59.733 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 18:37:59.875 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 18:37:59.881 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 18:37:59.899 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 18:37:59.925 +03:00 [INF] Executing GetOrders: role: Admin, userId: , deleted: , page: 1, size: 5, status: Confirmed
2025-09-23 18:37:59.931 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "Confirmed"
2025-09-23 18:37:59.938 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:Confirmed
2025-09-23 18:38:00.152 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:Confirmed
2025-09-23 18:38:00.156 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 18:38:00.315 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 18:38:00.324 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 18:38:00.337 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 433.268ms
2025-09-23 18:38:00.346 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 18:38:00.374 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=1 - 200 138 application/json; charset=utf-8 649.1322ms
2025-09-23 18:38:23.738 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - null null
2025-09-23 18:38:23.750 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 18:38:23.892 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 18:38:23.898 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 18:38:23.902 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 18:38:23.910 +03:00 [INF] Executing GetOrders: role: Admin, userId: , deleted: , page: 1, size: 5, status: CancelledByUser
2025-09-23 18:38:23.913 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "CancelledByUser"
2025-09-23 18:38:23.921 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser
2025-09-23 18:38:24.134 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser
2025-09-23 18:38:24.137 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 18:38:24.293 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 18:38:24.305 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 18:38:24.317 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 410.2253ms
2025-09-23 18:38:24.342 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 18:38:24.351 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - 200 138 application/json; charset=utf-8 612.6197ms
2025-09-23 18:39:07.542 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 18:39:09.671 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 18:39:10.338 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 18:39:10.515 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 18:39:10.545 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:39:10.558 +03:00 [INF] Starting data seeding...
2025-09-23 18:39:10.594 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 18:39:11.599 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 18:39:12.081 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 18:39:12.168 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 18:39:12.311 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 18:39:12.333 +03:00 [INF] Role 'User' already exists.
2025-09-23 18:39:12.537 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 18:39:12.712 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 18:39:12.723 +03:00 [INF] Data seeding completed successfully.
2025-09-23 18:39:15.186 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 18:39:15.466 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 18:39:16.345 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 18:39:16.451 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 18:39:16.586 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 18:39:16.677 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 18:39:16.758 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:39:16.823 +03:00 [INF] Hosting environment: Development
2025-09-23 18:39:16.838 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 18:39:16.914 +03:00 [INF] Server mrrobot:28904:ee50335d successfully announced in 146.2947 ms
2025-09-23 18:39:16.962 +03:00 [INF] Server mrrobot:28904:ee50335d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 18:39:17.092 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 640.023ms
2025-09-23 18:39:17.200 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 18:39:17.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 18:39:17.687 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:39:17.709 +03:00 [INF] Server mrrobot:28904:ee50335d all the dispatchers started
2025-09-23 18:39:17.734 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 534.0832ms
2025-09-23 18:39:18.003 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 316.2779ms
2025-09-23 18:39:18.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 883.4114ms
2025-09-23 18:39:18.282 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 18:39:18.592 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 310.0943ms
2025-09-23 18:39:24.753 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - null null
2025-09-23 18:39:24.780 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 18:39:30.025 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 18:39:30.237 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 18:39:30.264 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 18:39:30.306 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 18:39:30.802 +03:00 [INF] Executing GetOrders: role: Admin, userId: , deleted: , page: 1, size: 5, status: CancelledByUser
2025-09-23 18:39:30.829 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "CancelledByUser"
2025-09-23 18:39:30.841 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser
2025-09-23 18:39:31.103 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser
2025-09-23 18:39:31.139 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 18:39:31.453 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 18:39:31.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 18:39:31.586 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 1260.4147ms
2025-09-23 18:39:31.596 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 18:39:31.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - 200 138 application/json; charset=utf-8 6859.2504ms
2025-09-23 19:39:12.539 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 19:39:14.412 +03:00 [INF] Executed DbCommand (139ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:39:15.200 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:39:15.412 +03:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 19:39:15.437 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 19:39:15.448 +03:00 [INF] Starting data seeding...
2025-09-23 19:39:15.478 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 19:39:15.706 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 19:39:16.207 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:39:16.291 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 19:39:16.443 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:39:16.452 +03:00 [INF] Role 'User' already exists.
2025-09-23 19:39:16.647 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 19:39:16.738 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 19:39:16.742 +03:00 [INF] Data seeding completed successfully.
2025-09-23 19:39:18.031 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 19:39:18.168 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 19:39:18.189 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 19:39:18.192 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 19:39:18.210 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 19:39:18.229 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 19:39:18.243 +03:00 [INF] Hosting environment: Development
2025-09-23 19:39:18.247 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 19:39:18.412 +03:00 [INF] Server mrrobot:21940:4c2393da successfully announced in 174.3854 ms
2025-09-23 19:39:18.421 +03:00 [INF] Server mrrobot:21940:4c2393da is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 19:39:18.469 +03:00 [INF] Server mrrobot:21940:4c2393da all the dispatchers started
2025-09-23 19:39:18.860 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 19:39:19.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 329.8187ms
2025-09-23 19:39:19.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 19:39:19.289 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 19:39:19.655 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 19:39:19.663 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 386.8852ms
2025-09-23 19:39:19.680 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 25.6015ms
2025-09-23 19:39:19.827 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 538.1725ms
2025-09-23 19:39:19.880 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 19:39:20.097 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 216.1662ms
2025-09-23 19:39:31.878 +03:00 [INF] Executing GetByIdAsync for entity Order with ID: 183
2025-09-23 19:39:32.191 +03:00 [INF] Executed DbCommand (287ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`Id`, `o`.`CancelledAt`, `o`.`CreatedAt`, `o`.`CustomerAddressId`, `o`.`CustomerId`, `o`.`DeletedAt`, `o`.`DeliveredAt`, `o`.`DiscountAmount`, `o`.`ModifiedAt`, `o`.`Notes`, `o`.`OrderNumber`, `o`.`RestockedAt`, `o`.`RowVersion`, `o`.`ShippedAt`, `o`.`ShippingCost`, `o`.`Status`, `o`.`Subtotal`, `o`.`TaxAmount`, `o`.`Total`
FROM `Orders` AS `o`
WHERE `o`.`Id` = @__id_0
LIMIT 1
2025-09-23 19:39:32.296 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - null null
2025-09-23 19:39:32.309 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 19:39:32.448 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT Id FROM Orders WHERE Id = @p0 FOR UPDATE
2025-09-23 19:39:32.458 +03:00 [INF] Expire skipped: order 183 status is "PaymentExpired"
2025-09-23 19:39:32.465 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:39:32.732 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:39:32.756 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:39:32.788 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:39:32.828 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: CancelledByUser
2025-09-23 19:39:32.855 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "CancelledByUser"
2025-09-23 19:39:32.861 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser_IsAdmin:False
2025-09-23 19:39:33.089 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser_IsAdmin:False
2025-09-23 19:39:33.092 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:39:33.353 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:39:33.374 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:39:33.402 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 601.6275ms
2025-09-23 19:39:33.408 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:39:33.420 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - 200 138 application/json; charset=utf-8 1122.2902ms
2025-09-23 19:40:58.313 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 19:41:00.483 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:41:02.167 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:41:02.336 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 19:41:02.361 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 19:41:02.393 +03:00 [INF] Starting data seeding...
2025-09-23 19:41:02.457 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 19:41:02.692 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 19:41:03.271 +03:00 [INF] Executed DbCommand (127ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:41:03.342 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 19:41:03.491 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:41:03.502 +03:00 [INF] Role 'User' already exists.
2025-09-23 19:41:03.671 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 19:41:03.790 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 19:41:03.795 +03:00 [INF] Data seeding completed successfully.
2025-09-23 19:41:05.279 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 19:41:05.425 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 19:41:05.625 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 19:41:05.664 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 19:41:05.671 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 19:41:05.916 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 19:41:06.043 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 19:41:06.075 +03:00 [INF] Hosting environment: Development
2025-09-23 19:41:06.149 +03:00 [INF] Server mrrobot:8080:2ee86f4b successfully announced in 204.002 ms
2025-09-23 19:41:06.161 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 19:41:06.181 +03:00 [INF] Server mrrobot:8080:2ee86f4b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 19:41:06.454 +03:00 [INF] Server mrrobot:8080:2ee86f4b all the dispatchers started
2025-09-23 19:41:06.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 19:41:06.730 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 19:41:06.736 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 690.9035ms
2025-09-23 19:41:06.737 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 19:41:06.763 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 33.9ms
2025-09-23 19:41:06.789 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 51.8125ms
2025-09-23 19:41:06.832 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.2821ms
2025-09-23 19:41:06.890 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 19:41:07.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.8503ms
2025-09-23 19:41:10.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - null null
2025-09-23 19:41:10.276 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 19:41:10.663 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:41:10.911 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:41:10.947 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:41:10.981 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:41:11.358 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: CancelledByUser
2025-09-23 19:41:20.706 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "CancelledByUser"
2025-09-23 19:41:20.732 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser_IsAdmin:False
2025-09-23 19:41:21.214 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser_IsAdmin:False
2025-09-23 19:41:21.220 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:41:21.487 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:41:21.510 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:41:21.547 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 10544.1134ms
2025-09-23 19:41:21.557 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:41:21.570 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - 200 138 application/json; charset=utf-8 11306.5446ms
2025-09-23 19:41:36.697 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - null null
2025-09-23 19:41:36.709 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:41:36.858 +03:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:41:36.864 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:41:36.868 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:42:31.117 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: CancelledByUser
2025-09-23 19:42:34.387 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "CancelledByUser"
2025-09-23 19:42:46.895 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser_IsAdmin:False
2025-09-23 19:42:48.026 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByUser_IsAdmin:False
2025-09-23 19:43:02.092 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:43:31.741 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:43:48.141 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:43:48.155 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 131282.6656ms
2025-09-23 19:43:48.158 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:43:48.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=5 - 200 138 application/json; charset=utf-8 131466.6534ms
2025-09-23 19:46:23.607 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 19:46:25.188 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:46:25.862 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:46:26.031 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 19:46:26.052 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 19:46:26.065 +03:00 [INF] Starting data seeding...
2025-09-23 19:46:26.092 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 19:46:26.278 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 19:46:26.780 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:46:26.865 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 19:46:27.017 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:46:27.037 +03:00 [INF] Role 'User' already exists.
2025-09-23 19:46:27.200 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 19:46:27.329 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 19:46:27.332 +03:00 [INF] Data seeding completed successfully.
2025-09-23 19:46:28.608 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 19:46:28.733 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 19:46:28.766 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 19:46:28.806 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 19:46:28.808 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 19:46:28.834 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 19:46:28.837 +03:00 [INF] Hosting environment: Development
2025-09-23 19:46:28.838 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 19:46:28.996 +03:00 [INF] Server mrrobot:18200:73fb8e0e successfully announced in 161.5608 ms
2025-09-23 19:46:29.117 +03:00 [INF] Server mrrobot:18200:73fb8e0e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 19:46:29.349 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 19:46:29.467 +03:00 [INF] Server mrrobot:18200:73fb8e0e all the dispatchers started
2025-09-23 19:46:29.509 +03:00 [INF] 1 servers were removed due to timeout
2025-09-23 19:46:29.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 271.0632ms
2025-09-23 19:46:29.687 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 19:46:29.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 19:46:29.920 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 19:46:29.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 241.8935ms
2025-09-23 19:46:30.111 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 190.7095ms
2025-09-23 19:46:30.130 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 441.4618ms
2025-09-23 19:46:30.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 19:46:30.471 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 218.6631ms
2025-09-23 19:46:33.632 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=1 - null null
2025-09-23 19:46:33.641 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 19:46:33.770 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:46:33.960 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:46:33.974 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:46:33.998 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:46:34.308 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: Confirmed
2025-09-23 19:46:34.338 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "Confirmed"
2025-09-23 19:46:34.359 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:Confirmed_IsAdmin:False
2025-09-23 19:46:34.587 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:Confirmed_IsAdmin:False
2025-09-23 19:46:34.592 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:46:34.822 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:46:34.840 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:46:34.869 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 858.8718ms
2025-09-23 19:46:34.875 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:46:34.885 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=1 - 200 138 application/json; charset=utf-8 1253.2134ms
2025-09-23 19:46:41.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=6 - null null
2025-09-23 19:46:41.237 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:46:41.380 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:46:41.388 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:46:41.392 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:46:41.404 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: Refunded
2025-09-23 19:46:41.408 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "Refunded"
2025-09-23 19:46:41.412 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:Refunded_IsAdmin:False
2025-09-23 19:46:41.630 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:Refunded_IsAdmin:False
2025-09-23 19:46:41.635 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:46:41.778 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:46:41.785 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:46:41.788 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 391.4605ms
2025-09-23 19:46:41.791 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:46:41.795 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=6 - 200 138 application/json; charset=utf-8 569.9399ms
2025-09-23 19:48:09.311 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=4 - null null
2025-09-23 19:48:09.326 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:48:09.475 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:48:09.479 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:48:09.483 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:48:09.526 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: Delivered
2025-09-23 19:48:09.528 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "Delivered"
2025-09-23 19:48:09.536 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:Delivered_IsAdmin:False
2025-09-23 19:48:09.752 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:Delivered_IsAdmin:False
2025-09-23 19:48:09.757 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:48:09.901 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:48:09.910 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:48:09.916 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 428.5446ms
2025-09-23 19:48:09.921 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:48:09.925 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=4 - 200 138 application/json; charset=utf-8 613.85ms
2025-09-23 19:51:12.350 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=4 - null null
2025-09-23 19:51:12.366 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:51:12.515 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:51:12.523 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:51:12.525 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:51:12.549 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: Delivered
2025-09-23 19:51:12.551 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "Delivered"
2025-09-23 19:51:12.560 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:Delivered_IsAdmin:False
2025-09-23 19:51:12.775 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:Delivered_IsAdmin:False
2025-09-23 19:51:12.780 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:51:12.925 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:51:12.932 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:51:12.939 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 390.8412ms
2025-09-23 19:51:12.943 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:51:12.946 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=4 - 200 138 application/json; charset=utf-8 596.3615ms
2025-09-23 19:51:29.744 +03:00 [INF] 1 servers were removed due to timeout
2025-09-23 19:51:59.102 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 19:52:00.695 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:52:01.361 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 19:52:01.524 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 19:52:01.545 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 19:52:01.571 +03:00 [INF] Starting data seeding...
2025-09-23 19:52:01.618 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 19:52:01.833 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 19:52:02.330 +03:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:52:02.404 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 19:52:02.546 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 19:52:02.555 +03:00 [INF] Role 'User' already exists.
2025-09-23 19:52:02.720 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 19:52:02.856 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 19:52:02.875 +03:00 [INF] Data seeding completed successfully.
2025-09-23 19:52:04.260 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 19:52:04.366 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 19:52:04.368 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 19:52:04.369 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 19:52:04.372 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 19:52:04.400 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 19:52:04.401 +03:00 [INF] Hosting environment: Development
2025-09-23 19:52:04.402 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 19:52:04.563 +03:00 [INF] Server mrrobot:23168:1d4a89e2 successfully announced in 148.2062 ms
2025-09-23 19:52:04.582 +03:00 [INF] Server mrrobot:23168:1d4a89e2 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 19:52:04.802 +03:00 [INF] Server mrrobot:23168:1d4a89e2 all the dispatchers started
2025-09-23 19:52:05.227 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 19:52:05.663 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 19:52:05.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 439.7062ms
2025-09-23 19:52:05.666 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 19:52:05.679 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 19:52:05.762 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 98.4801ms
2025-09-23 19:52:05.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 114.2801ms
2025-09-23 19:52:05.842 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 163.1452ms
2025-09-23 19:52:05.893 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 19:52:06.100 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.7908ms
2025-09-23 19:52:10.373 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=4 - null null
2025-09-23 19:52:10.381 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 19:52:10.637 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:52:10.831 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:52:10.858 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:52:10.902 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:52:17.483 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: Delivered
2025-09-23 19:52:31.408 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "Delivered", IsAdmin: true
2025-09-23 19:52:38.785 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:Delivered_IsAdmin:False
2025-09-23 19:52:39.009 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:Delivered_IsAdmin:False
2025-09-23 19:52:39.015 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:53:09.288 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:53:27.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:53:27.856 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 76934.7886ms
2025-09-23 19:53:27.863 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:53:27.876 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=4 - 200 138 application/json; charset=utf-8 77502.6594ms
2025-09-23 19:53:54.900 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=9 - null null
2025-09-23 19:53:54.920 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:53:55.065 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:53:55.077 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:53:55.082 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:53:55.087 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: CancelledByAdmin
2025-09-23 19:53:59.657 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "CancelledByAdmin", IsAdmin: true
2025-09-23 19:53:59.667 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByAdmin_IsAdmin:False
2025-09-23 19:53:59.881 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByAdmin_IsAdmin:False
2025-09-23 19:53:59.883 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:54:22.020 +03:00 [INF] Executed DbCommand (83ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:54:27.568 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:54:27.576 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 32490.9633ms
2025-09-23 19:54:27.583 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:54:27.586 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=9 - 200 790 application/json; charset=utf-8 32685.9849ms
2025-09-23 19:54:37.286 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByAdmin_IsAdmin:True
2025-09-23 19:54:37.560 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:5_status:CancelledByAdmin_IsAdmin:True with tags: [order]
2025-09-23 19:54:54.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=8 - null null
2025-09-23 19:54:54.438 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 19:54:54.588 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 19:54:54.595 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:54:54.598 +03:00 [INF] Route matched with {action = "GetOrders", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.OrderDtos.OrderListDto]]]] GetOrders(System.String, System.Nullable`1[System.Boolean], Int32, Int32, System.Nullable`1[E_Commerce.Enums.OrderStatus]) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 19:54:54.651 +03:00 [INF] Executing GetOrders: role: True, userId: , deleted: , page: 1, size: 5, status: PaymentExpired
2025-09-23 19:54:54.652 +03:00 [INF] Filtering orders - UserId: null, Deleted: null, Page: 1, PageSize: 5, Status: "PaymentExpired", IsAdmin: true
2025-09-23 19:54:54.657 +03:00 [INF] Getting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:PaymentExpired_IsAdmin:False
2025-09-23 19:54:54.873 +03:00 [WRN] Cache miss for key: order:filter:user:all_deleted:all_page:1_size:5_status:PaymentExpired_IsAdmin:False
2025-09-23 19:54:54.876 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 19:54:56.212 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[@__8__locals1_status_Value_0='?' (DbType = Int32), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`OrderNumber`, `t0`.`Name`, `t`.`Status`, `t`.`Total`, `t`.`CreatedAt`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`CustomerId`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Total`
    FROM `Orders` AS `o`
    WHERE `o`.`Status` = @__8__locals1_status_Value_0
    ORDER BY `o`.`CreatedAt` DESC
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
INNER JOIN (
    SELECT `a`.`Id`, `a`.`Name`
    FROM `AspNetUsers` AS `a`
    WHERE `a`.`Discriminator` = 'Customer'
) AS `t0` ON `t`.`CustomerId` = `t0`.`Id`
ORDER BY `t`.`CreatedAt` DESC
2025-09-23 19:54:59.223 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.OrderDtos.OrderListDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:54:59.229 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrders (E-Commerce) in 4627.5452ms
2025-09-23 19:54:59.231 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrders (E-Commerce)'
2025-09-23 19:54:59.235 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order?page=1&pageSize=5&status=8 - 200 934 application/json; charset=utf-8 4807.0362ms
2025-09-23 19:55:04.451 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:5_status:PaymentExpired_IsAdmin:True
2025-09-23 19:55:04.681 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:5_status:PaymentExpired_IsAdmin:True with tags: [order]
2025-09-23 19:57:11.400 +03:00 [INF] 1 servers were removed due to timeout
2025-09-23 19:58:05.475 +03:00 [WRN] Failed to process the job '14892': an exception occurred. Retry attempt 1 of 10 will be performed in 00:00:41.
System.InvalidOperationException: The type `E_Commerce.Services.Order.OrderCacheHelper` does not contain a method with signature `SetOrderFilterCacheAsync(String, Nullable`1, Int32, Int32, Nullable`1, List`1, Nullable`1)`
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 350
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-09-23 19:58:06.086 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 19:58:06.086 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 19:58:06.091 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 19:58:06.338 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 19:58:06.348 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 19:58:06.350 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:06:34.505 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 20:06:36.051 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 20:06:36.709 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 20:06:36.872 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 20:06:36.890 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 20:06:36.901 +03:00 [INF] Starting data seeding...
2025-09-23 20:06:36.926 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 20:06:37.127 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 20:06:37.611 +03:00 [INF] Executed DbCommand (112ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 20:06:37.687 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 20:06:37.832 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 20:06:37.857 +03:00 [INF] Role 'User' already exists.
2025-09-23 20:06:38.036 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 20:06:38.146 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 20:06:38.150 +03:00 [INF] Data seeding completed successfully.
2025-09-23 20:06:39.350 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 20:06:39.443 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 20:06:39.521 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 20:06:39.524 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 20:06:39.526 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 20:06:39.581 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 20:06:39.661 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 20:06:39.708 +03:00 [INF] Hosting environment: Development
2025-09-23 20:06:39.758 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 20:06:39.776 +03:00 [INF] Server mrrobot:13912:75e21812 successfully announced in 147.8551 ms
2025-09-23 20:06:40.037 +03:00 [INF] Server mrrobot:13912:75e21812 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 20:06:40.053 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 390.8319ms
2025-09-23 20:06:40.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 20:06:40.088 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 20:06:40.157 +03:00 [INF] Server mrrobot:13912:75e21812 all the dispatchers started
2025-09-23 20:06:40.158 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:06:40.166 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 78.7351ms
2025-09-23 20:06:40.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 21.1672ms
2025-09-23 20:06:40.214 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 125.9881ms
2025-09-23 20:06:40.276 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 20:06:40.726 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 450.2523ms
2025-09-23 20:07:14.173 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250916174731-1688 - null null
2025-09-23 20:07:14.230 +03:00 [WRN] Failed to determine the https port for redirect.
2025-09-23 20:07:14.358 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 20:07:14.557 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 20:07:14.577 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 20:07:14.607 +03:00 [INF] Route matched with {action = "GetOrderByNumber", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.OrderDtos.OrderDto]]] GetOrderByNumber(System.String) on controller E_Commerce.Controllers.OrderController (E-Commerce).
2025-09-23 20:07:14.910 +03:00 [INF] Executing GetOrderByNumber for number: ORD-20250916174731-1688
2025-09-23 20:07:14.918 +03:00 [INF] Getting order by number: ORD-20250916174731-1688 for user: ac03a6c3-9450-420a-9e6e-ea8902c018c5, IsAdmin: true
2025-09-23 20:07:14.925 +03:00 [INF] Getting cache for key: order:number:ORD-20250916174731-1688_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:07:15.147 +03:00 [WRN] Cache miss for key: order:number:ORD-20250916174731-1688_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:07:15.161 +03:00 [INF] Checking if order ORD-20250916174731-1688 exists for user
2025-09-23 20:07:15.321 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__ordernumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `Orders` AS `o`
    WHERE (`o`.`OrderNumber` = @__ordernumber_0) AND `o`.`DeletedAt` IS NULL)
2025-09-23 20:07:15.332 +03:00 [INF] Execute GetAll for entity Order
2025-09-23 20:07:15.534 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-23 20:07:15.723 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__8__locals1_orderNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`Id`, `t0`.`CreatedAt`, `t0`.`ModifiedAt`, `t0`.`OrderNumber`, `t0`.`Status`, `t0`.`Subtotal`, `t0`.`TaxAmount`, `t0`.`ShippingCost`, `t0`.`DiscountAmount`, `t0`.`Total`, `t0`.`Notes`, `t0`.`DeletedAt`, `t0`.`ShippedAt`, `t0`.`DeliveredAt`, `t0`.`CancelledAt`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `p`.`Amount`, `p`.`CreatedAt`, `p`.`CustomerId`, `p`.`DeletedAt`, `p`.`ModifiedAt`, `p`.`OrderId`, `p`.`PaymentDate`, `p`.`PaymentMethodId`, `p`.`PaymentProviderId`, `p`.`ProviderOrderId`, `p`.`RowVersion`, `p`.`Status`, `p`.`TransactionId`, `t1`.`Status`, `t1`.`Amount`, `t1`.`CreatedAt`, `t1`.`Id`, `t1`.`PaymentDate`, `t1`.`PaymentMethodId`, `t1`.`PaymentProviderId`, `t1`.`Name`, `t1`.`Id0`, `t0`.`c`, `t0`.`Name`, `t0`.`Email`, `t0`.`PhoneNumber`, `t0`.`AdditionalNotes`, `t0`.`AddressType`, `t0`.`City`, `t0`.`Country`, `t0`.`CreatedAt0`, `t0`.`CustomerId`, `t0`.`StreetAddress`, `t0`.`State`, `t0`.`PhoneNumber0`, `t0`.`IsDefault`, `t0`.`ModifiedAt0`, `t0`.`PostalCode`, `t2`.`Id`, `t2`.`CreatedAt`, `t2`.`ModifiedAt`, `t2`.`Quantity`, `t2`.`UnitPrice`, `t2`.`TotalPrice`, `t2`.`OrderedAt`, `t2`.`Id0`, `t2`.`Name`, `t2`.`Price`, `t2`.`IsActive`, `t2`.`FinalPrice`, `t2`.`DiscountPrecentage`, `t2`.`MainImageUrl`, `t2`.`Id1`, `t2`.`Color`, `t2`.`CreatedAt0`, `t2`.`ModifiedAt0`, `t2`.`Size`, `t2`.`DeletedAt`, `t2`.`Length`, `t2`.`Waist`, `t2`.`Id2`, `t2`.`Id3`
FROM (
    SELECT `o`.`Id`, `o`.`CreatedAt`, `o`.`ModifiedAt`, `o`.`OrderNumber`, `o`.`Status`, `o`.`Subtotal`, `o`.`TaxAmount`, `o`.`ShippingCost`, `o`.`DiscountAmount`, `o`.`Total`, `o`.`Notes`, `o`.`DeletedAt`, `o`.`ShippedAt`, `o`.`DeliveredAt`, `o`.`CancelledAt`, FALSE AS `c`, `t`.`Id` AS `Id0`, `t`.`Name`, `t`.`Email`, `t`.`PhoneNumber`, `c`.`Id` AS `Id1`, `c`.`AdditionalNotes`, `c`.`AddressType`, `c`.`City`, `c`.`Country`, `c`.`CreatedAt` AS `CreatedAt0`, `c`.`CustomerId`, `c`.`StreetAddress`, `c`.`State`, `c`.`PhoneNumber` AS `PhoneNumber0`, `c`.`IsDefault`, `c`.`ModifiedAt` AS `ModifiedAt0`, `c`.`PostalCode`
    FROM `Orders` AS `o`
    INNER JOIN (
        SELECT `a`.`Id`, `a`.`Email`, `a`.`PhoneNumber`, `a`.`Name`
        FROM `AspNetUsers` AS `a`
        WHERE `a`.`Discriminator` = 'Customer'
    ) AS `t` ON `o`.`CustomerId` = `t`.`Id`
    INNER JOIN `CustomerAddresses` AS `c` ON `o`.`CustomerAddressId` = `c`.`Id`
    WHERE `o`.`OrderNumber` = @__8__locals1_orderNumber_0
    LIMIT 1
) AS `t0`
LEFT JOIN `Payments` AS `p` ON `t0`.`Id` = `p`.`OrderId`
LEFT JOIN (
    SELECT `p0`.`Status`, `p0`.`Amount`, `p0`.`CreatedAt`, `p0`.`Id`, `p0`.`PaymentDate`, `p0`.`PaymentMethodId`, `p0`.`PaymentProviderId`, `p1`.`Name`, `p1`.`Id` AS `Id0`, `p0`.`OrderId`
    FROM `Payments` AS `p0`
    INNER JOIN `PaymentMethods` AS `p1` ON `p0`.`PaymentMethodId` = `p1`.`Id`
) AS `t1` ON `t0`.`Id` = `t1`.`OrderId`
LEFT JOIN (
    SELECT `o0`.`Id`, `o0`.`CreatedAt`, `o0`.`ModifiedAt`, `o0`.`Quantity`, `o0`.`UnitPrice`, `o0`.`TotalPrice`, `o0`.`OrderedAt`, `p2`.`Id` AS `Id0`, `p2`.`Name`, `p2`.`Price`, `p2`.`IsActive`, CASE
        WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN ROUND(`p2`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `p2`.`Price`))
        ELSE `p2`.`Price`
    END AS `FinalPrice`, CASE
        WHEN (`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
        ELSE 0.0
    END AS `DiscountPrecentage`, COALESCE((
        SELECT `i`.`Url`
        FROM `Images` AS `i`
        WHERE (`p2`.`Id` = `i`.`ProductId`) AND `i`.`DeletedAt` IS NULL
        LIMIT 1), '') AS `MainImageUrl`, `o0`.`ProductVariantId` AS `Id1`, `p3`.`Color`, COALESCE(`p3`.`CreatedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `CreatedAt0`, COALESCE(`p3`.`ModifiedAt`, TIMESTAMP '0001-01-01 00:00:00') AS `ModifiedAt0`, `p3`.`Size`, `p3`.`DeletedAt`, COALESCE(`p3`.`Length`, 0) AS `Length`, COALESCE(`p3`.`Waist`, 0) AS `Waist`, `d`.`Id` AS `Id2`, `p3`.`Id` AS `Id3`, `o0`.`OrderId`
    FROM `OrderItem` AS `o0`
    INNER JOIN `Products` AS `p2` ON `o0`.`ProductId` = `p2`.`Id`
    LEFT JOIN `Discount` AS `d` ON `p2`.`DiscountId` = `d`.`Id`
    INNER JOIN `ProductVariants` AS `p3` ON `o0`.`ProductVariantId` = `p3`.`Id`
) AS `t2` ON `t0`.`Id` = `t2`.`OrderId`
ORDER BY `t0`.`Id`, `t0`.`Id0`, `t0`.`Id1`, `p`.`Id`, `t1`.`Id`, `t1`.`Id0`, `t2`.`Id`, `t2`.`Id0`, `t2`.`Id2`
2025-09-23 20:07:16.745 +03:00 [INF] Order ORD-20250916174731-1688 retrieved successfully for user ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 20:07:16.763 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.OrderDtos.OrderDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:07:16.810 +03:00 [INF] Executed action E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce) in 2192.7374ms
2025-09-23 20:07:16.817 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.OrderController.GetOrderByNumber (E-Commerce)'
2025-09-23 20:07:16.823 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Order/number/ORD-20250916174731-1688 - 200 2109 application/json; charset=utf-8 2649.6031ms
2025-09-23 20:07:23.213 +03:00 [INF] Setting cache for key: order:number:ORD-20250916174731-1688_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:07:23.490 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250916174731-1688_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:10:32.796 +03:00 [WRN] Failed to process the job '14892': an exception occurred. Retry attempt 6 of 10 will be performed in 00:13:34.
System.InvalidOperationException: The type `E_Commerce.Services.Order.OrderCacheHelper` does not contain a method with signature `SetOrderFilterCacheAsync(String, Nullable`1, Int32, Int32, Nullable`1, List`1, Nullable`1)`
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 350
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-09-23 20:14:53.901 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:20_status:all_IsAdmin:True
2025-09-23 20:14:54.139 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:20_status:all_IsAdmin:True with tags: [order]
2025-09-23 20:16:21.274 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:20_status:all_IsAdmin:True
2025-09-23 20:16:21.511 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:20_status:all_IsAdmin:True with tags: [order]
2025-09-23 20:16:22.241 +03:00 [INF] Setting cache for key: order:number:ORD-20250923140948-4642_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:16:22.471 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250923140948-4642_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:16:34.829 +03:00 [INF] Setting cache for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:16:35.079 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250920060933-5549_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:16:35.722 +03:00 [INF] Setting cache for key: order:number:ORD-20250916100246-9509_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:16:35.949 +03:00 [INF] Cache set successfully for key: order:number:ORD-20250916100246-9509_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:16:42.925 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:20_status:all_IsAdmin:True
2025-09-23 20:16:43.154 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:20_status:all_IsAdmin:True with tags: [order]
2025-09-23 20:17:06.414 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:17:06.639 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:17:07.694 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 20:17:07.914 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 20:17:08.627 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:17:08.856 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:17:09.318 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:17:09.538 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:17:19.777 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:17:20.000 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:17:22.788 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:17:23.004 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 20:17:23.008 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:17:23.215 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:17:23.223 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 20:17:23.436 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:18:42.775 +03:00 [INF] Setting cache for key: order:id:142_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:43.000 +03:00 [INF] Cache set successfully for key: order:id:142_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:43.255 +03:00 [INF] Setting cache for key: order:id:158_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:43.279 +03:00 [INF] Setting cache for key: order:id:137_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:43.294 +03:00 [INF] Setting cache for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 20:18:43.464 +03:00 [INF] Setting cache for key: order:id:134_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:43.483 +03:00 [INF] Cache set successfully for key: order:id:158_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:43.507 +03:00 [INF] Cache set successfully for key: order:id:137_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:43.516 +03:00 [INF] Cache set successfully for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True with tags: [subcategorylist]
2025-09-23 20:18:43.626 +03:00 [INF] Setting cache for key: order:id:148_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:43.782 +03:00 [INF] Cache set successfully for key: order:id:134_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:43.851 +03:00 [INF] Cache set successfully for key: order:id:148_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:43.941 +03:00 [INF] Setting cache for key: order:id:147_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:44.025 +03:00 [INF] Setting cache for key: order:id:139_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:44.079 +03:00 [INF] Setting cache for key: order:id:140_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True
2025-09-23 20:18:44.169 +03:00 [INF] Cache set successfully for key: order:id:147_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:44.246 +03:00 [INF] Cache set successfully for key: order:id:139_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:44.303 +03:00 [INF] Cache set successfully for key: order:id:140_user:ac03a6c3-9450-420a-9e6e-ea8902c018c5_admin:True with tags: [order]
2025-09-23 20:18:45.766 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:18:45.995 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:18:48.920 +03:00 [INF] Setting cache for key: product:18:variants:search:color::length::waist::size::active::deleted:
2025-09-23 20:18:49.146 +03:00 [INF] Cache set successfully for key: product:18:variants:search:color::length::waist::size::active::deleted: with tags: [product:18, variantdata]
2025-09-23 20:18:56.506 +03:00 [INF] Setting cache for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 20:18:56.726 +03:00 [INF] Cache set successfully for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True with tags: [subcategorylist]
2025-09-23 20:18:59.548 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:18:59.841 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:19:05.181 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:19:05.410 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:19:13.825 +03:00 [INF] Setting cache for key: Product:18_active:_deleted:_IsAdmin:True
2025-09-23 20:19:14.049 +03:00 [INF] Cache set successfully for key: Product:18_active:_deleted:_IsAdmin:True with tags: [Productwithdata]
2025-09-23 20:19:18.316 +03:00 [INF] Executing GetByIdAsync for entity Cart with ID: 3
2025-09-23 20:19:18.467 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CheckoutDate`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`UserId`
FROM `Cart` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-09-23 20:19:18.746 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `Cart` SET `CheckoutDate` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();
2025-09-23 20:19:20.835 +03:00 [INF] Removing cache by tag: cart
2025-09-23 20:19:21.698 +03:00 [INF] Removed 2 cache entries for tag: cart
2025-09-23 20:20:15.650 +03:00 [INF] Execute GetAll for entity CartItem
2025-09-23 20:20:15.776 +03:00 [INF] Removing cache by tags: [product_search, categorywithdata, productwithvariantdata]
2025-09-23 20:20:15.854 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`AddedAt`, `c`.`CartId`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`ProductId`, `c`.`ProductVariantId`, `c`.`Quantity`, `c`.`RowVersion`, `c`.`UnitPrice`, `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`RowVersion`, `p`.`SubCategoryId`, `p`.`fitType`
FROM `CartItems` AS `c`
INNER JOIN `Products` AS `p` ON `c`.`ProductId` = `p`.`Id`
WHERE `c`.`ProductId` IN (4, 6, 7, 15, 16)
2025-09-23 20:20:15.965 +03:00 [INF] Execute Update for entity CartItem
2025-09-23 20:20:15.969 +03:00 [INF] CartItem marked for update (pending save)
2025-09-23 20:20:15.975 +03:00 [INF] Executing GetByIdAsync for entity Cart with ID: 4
2025-09-23 20:20:16.115 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CheckoutDate`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`UserId`
FROM `Cart` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-09-23 20:20:16.475 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p11='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p12='?' (Size = 8) (DbType = Binary), @p10='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `Cart` SET `ModifiedAt` = @p0
WHERE `Id` = @p1;
SELECT ROW_COUNT();

UPDATE `CartItems` SET `AddedAt` = @p2, `CartId` = @p3, `CreatedAt` = @p4, `DeletedAt` = @p5, `ModifiedAt` = @p6, `ProductId` = @p7, `ProductVariantId` = @p8, `Quantity` = @p9, `UnitPrice` = @p10
WHERE `Id` = @p11 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `CartItems`
WHERE ROW_COUNT() = 1 AND `Id` = @p11;
2025-09-23 20:20:17.959 +03:00 [INF] Removed 6 cache entries for tags: [product_search, categorywithdata, productwithvariantdata]
2025-09-23 20:20:18.677 +03:00 [INF] Removing cache by tag: cart
2025-09-23 20:20:18.894 +03:00 [WRN] No cache entries found for tag: cart
2025-09-23 20:20:21.342 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:20:21.568 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:20:24.018 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:20:24.238 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:20:27.464 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:20:27.701 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:20:47.562 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:20:47.782 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:20:49.522 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:20:49.765 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:20:52.463 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:20:52.723 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:20:53.442 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 20:20:53.634 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:20:53.663 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:20:53.896 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:21:17.348 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Products?search=joggers2&page=1&pageSize=10 - null null
2025-09-23 20:21:17.365 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 20:21:17.511 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 20:21:17.526 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Products?search=joggers2&page=1&pageSize=10 - 401 null application/json 178.0173ms
2025-09-23 20:21:23.383 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Products?search=joggers2&page=1&pageSize=10 - null null
2025-09-23 20:21:23.412 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 20:21:23.437 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 20:21:23.452 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ProductDtos.ProductDto]]]] GetProducts(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-09-23 20:21:23.479 +03:00 [INF] Executing GetProducts
2025-09-23 20:21:23.499 +03:00 [INF] Getting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":"joggers2","Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 20:21:23.714 +03:00 [WRN] Cache miss for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":"joggers2","Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 20:21:23.717 +03:00 [INF] Execute GetAll for entity Product
2025-09-23 20:21:23.909 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__8__locals1_searchCriteria_SearchTerm_0_contains='?' (Size = 20), @__8__locals1_searchCriteria_SearchTerm_0_contains_1='?' (Size = 50), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`Quantity`, `t`.`Gender`, `t`.`SubCategoryId`, `t`.`Price`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t`.`fitType`, `t`.`IsActive`, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `t`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `t`.`Price`)
    ELSE `t`.`Price`
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`EndDate`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`Name`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
    ELSE 0.0
END, `d`.`Id`, `t0`.`Id`, `t0`.`Url`
FROM (
    SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`
    FROM `Products` AS `p`
    WHERE (`p`.`IsActive` AND (`p`.`DeletedAt` IS NULL)) AND ((`p`.`Name` LIKE @__8__locals1_searchCriteria_SearchTerm_0_contains) OR (`p`.`Description` LIKE @__8__locals1_searchCriteria_SearchTerm_0_contains_1))
    ORDER BY `p`.`Name`
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
LEFT JOIN `Discount` AS `d` ON `t`.`DiscountId` = `d`.`Id`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`ProductId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`ProductId`
ORDER BY `t`.`Name`, `t`.`Id`, `d`.`Id`
2025-09-23 20:21:24.772 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ProductDtos.ProductDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 20:21:24.783 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.GetProducts (E-Commerce) in 1322.3685ms
2025-09-23 20:21:24.796 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 20:21:24.807 +03:00 [INF] The response could not be cached for this request.
2025-09-23 20:21:24.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Products?search=joggers2&page=1&pageSize=10 - 200 1107 application/json; charset=utf-8 1426.6853ms
2025-09-23 20:22:01.996 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:22:02.242 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:22:02.425 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 20:22:02.445 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:22:02.524 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:22:02.581 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:22:02.650 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:22:02.666 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:22:02.743 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:22:02.808 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:22:04.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Products?search=joggers2&page=1&pageSize=10 - null null
2025-09-23 20:22:04.480 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 20:22:04.481 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 20:22:04.483 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ProductDtos.ProductDto]]]] GetProducts(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-09-23 20:22:04.494 +03:00 [INF] Executing GetProducts
2025-09-23 20:22:04.496 +03:00 [INF] Getting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":"joggers2","Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 20:22:04.711 +03:00 [WRN] Cache miss for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":"joggers2","Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 20:22:04.715 +03:00 [INF] Execute GetAll for entity Product
2025-09-23 20:22:04.867 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__8__locals1_searchCriteria_SearchTerm_0_contains='?' (Size = 20), @__8__locals1_searchCriteria_SearchTerm_0_contains_1='?' (Size = 50), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`Quantity`, `t`.`Gender`, `t`.`SubCategoryId`, `t`.`Price`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t`.`fitType`, `t`.`IsActive`, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `t`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `t`.`Price`)
    ELSE `t`.`Price`
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`EndDate`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`Name`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
    ELSE 0.0
END, `d`.`Id`, `t0`.`Id`, `t0`.`Url`
FROM (
    SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`
    FROM `Products` AS `p`
    WHERE (`p`.`IsActive` AND (`p`.`DeletedAt` IS NULL)) AND ((`p`.`Name` LIKE @__8__locals1_searchCriteria_SearchTerm_0_contains) OR (`p`.`Description` LIKE @__8__locals1_searchCriteria_SearchTerm_0_contains_1))
    ORDER BY `p`.`Name`
    LIMIT @__p_2 OFFSET @__p_1
) AS `t`
LEFT JOIN `Discount` AS `d` ON `t`.`DiscountId` = `d`.`Id`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`ProductId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`ProductId`
ORDER BY `t`.`Name`, `t`.`Id`, `d`.`Id`
2025-09-23 20:22:05.266 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:22:05.497 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:22:05.724 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ProductDtos.ProductDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 20:22:05.731 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.GetProducts (E-Commerce) in 1239.2893ms
2025-09-23 20:22:05.734 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 20:22:05.736 +03:00 [INF] The response could not be cached for this request.
2025-09-23 20:22:05.742 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Products?search=joggers2&page=1&pageSize=10 - 200 1107 application/json; charset=utf-8 1268.5525ms
2025-09-23 20:22:19.635 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Products?page=1&pageSize=10 - null null
2025-09-23 20:22:19.648 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 20:22:19.651 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 20:22:19.652 +03:00 [INF] Route matched with {action = "GetProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.ProductDtos.ProductDto]]]] GetProducts(System.String, System.Nullable`1[System.Boolean], System.Nullable`1[System.Boolean], Int32, Int32) on controller E_Commerce.Controllers.ProductController (E-Commerce).
2025-09-23 20:22:19.727 +03:00 [INF] Executing GetProducts
2025-09-23 20:22:19.734 +03:00 [INF] Getting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 20:22:19.952 +03:00 [WRN] Cache miss for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10_True_False_pageSize:10_page:1_tag:AdvancedSearch_IsAdmin:False
2025-09-23 20:22:19.957 +03:00 [INF] Execute GetAll for entity Product
2025-09-23 20:22:20.126 +03:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`Name`, `t`.`Description`, `t`.`Quantity`, `t`.`Gender`, `t`.`SubCategoryId`, `t`.`Price`, `t`.`CreatedAt`, `t`.`ModifiedAt`, `t`.`DeletedAt`, `t`.`fitType`, `t`.`IsActive`, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `t`.`Price` - ((`d`.`DiscountPercent` / 100.0) * `t`.`Price`)
    ELSE `t`.`Price`
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`EndDate`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`Name`
    ELSE NULL
END, CASE
    WHEN ((`d`.`Id` IS NOT NULL AND `d`.`IsActive`) AND `d`.`DeletedAt` IS NULL) AND (`d`.`EndDate` > UTC_TIMESTAMP()) THEN `d`.`DiscountPercent`
    ELSE 0.0
END, `d`.`Id`, `t0`.`Id`, `t0`.`Url`
FROM (
    SELECT `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`SubCategoryId`, `p`.`fitType`
    FROM `Products` AS `p`
    WHERE `p`.`IsActive` AND (`p`.`DeletedAt` IS NULL)
    ORDER BY `p`.`Name`
    LIMIT @__p_1 OFFSET @__p_0
) AS `t`
LEFT JOIN `Discount` AS `d` ON `t`.`DiscountId` = `d`.`Id`
LEFT JOIN (
    SELECT `i`.`Id`, `i`.`Url`, `i`.`ProductId`
    FROM `Images` AS `i`
    WHERE `i`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`ProductId`
ORDER BY `t`.`Name`, `t`.`Id`, `d`.`Id`
2025-09-23 20:22:21.050 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.ProductDtos.ProductDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 20:22:21.060 +03:00 [INF] Executed action E_Commerce.Controllers.ProductController.GetProducts (E-Commerce) in 1397.7369ms
2025-09-23 20:22:21.082 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.ProductController.GetProducts (E-Commerce)'
2025-09-23 20:22:21.093 +03:00 [INF] The response could not be cached for this request.
2025-09-23 20:22:21.100 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Products?page=1&pageSize=10 - 200 8058 application/json; charset=utf-8 1464.2734ms
2025-09-23 20:23:07.715 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Discount?page=1&pageSize=10 - null null
2025-09-23 20:23:07.728 +03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-09-23 20:23:07.743 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-09-23 20:23:07.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Discount?page=1&pageSize=10 - 401 0 null 32.8819ms
2025-09-23 20:23:20.900 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5069/api/Account/login - application/json 70
2025-09-23 20:23:20.909 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 20:23:20.912 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 20:23:20.928 +03:00 [INF] Route matched with {action = "LoginAsync", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[E_Commerce.DtoModels.TokenDtos.TokensDto]]] LoginAsync(E_Commerce.DtoModels.AccountDtos.LoginDTo) on controller E_Commerce.Controllers.AccountController (E-Commerce).
2025-09-23 20:23:20.951 +03:00 [INF] In LoginAsync Method 
2025-09-23 20:23:21.100 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 20:23:21.271 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 20:23:21.277 +03:00 [INF] üîê Generating Access Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 20:23:21.433 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedUserName` = @__normalizedUserName_0)
LIMIT 1
2025-09-23 20:23:21.593 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 20:23:21.780 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[@p22='?' (Size = 255), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p23='?' (Size = 4000), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (Size = 256), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET AUTOCOMMIT = 1;
UPDATE `AspNetUsers` SET `AccessFailedCount` = @p0, `Age` = @p1, `ConcurrencyStamp` = @p2, `CreateAt` = @p3, `DeletedAt` = @p4, `Email` = @p5, `EmailConfirmed` = @p6, `Gender` = @p7, `ImageId` = @p8, `ImageId1` = @p9, `LastVisit` = @p10, `LockoutEnabled` = @p11, `LockoutEnd` = @p12, `Name` = @p13, `NormalizedEmail` = @p14, `NormalizedUserName` = @p15, `PasswordHash` = @p16, `PhoneNumber` = @p17, `PhoneNumberConfirmed` = @p18, `SecurityStamp` = @p19, `TwoFactorEnabled` = @p20, `UserName` = @p21
WHERE `Id` = @p22 AND `ConcurrencyStamp` = @p23;
SELECT ROW_COUNT();
2025-09-23 20:23:21.954 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT `a0`.`Name`
FROM `AspNetUserRoles` AS `a`
INNER JOIN `AspNetRoles` AS `a0` ON `a`.`RoleId` = `a0`.`Id`
WHERE `a`.`UserId` = @__userId_0
2025-09-23 20:23:21.980 +03:00 [INF] ‚úÖ Access Token generated successfully for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 20:23:21.985 +03:00 [INF] üîë Generating Refresh Token for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 20:23:22.198 +03:00 [INF] ‚úÖ RefreshToken generated and stored for User ID: ac03a6c3-9450-420a-9e6e-ea8902c018c5
2025-09-23 20:23:22.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[E_Commerce.DtoModels.TokenDtos.TokensDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:23:22.241 +03:00 [INF] Executed action E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce) in 1306.0354ms
2025-09-23 20:23:22.249 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.AccountController.LoginAsync (E-Commerce)'
2025-09-23 20:23:22.254 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5069/api/Account/login - 200 1251 application/json; charset=utf-8 1353.1015ms
2025-09-23 20:23:43.299 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/api/Discount?page=1&pageSize=10 - null null
2025-09-23 20:23:43.311 +03:00 [INF] Executing UserAuthenticationMiddleware
2025-09-23 20:23:43.454 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 255), @__tokenSecurityStamp_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `AspNetUsers` AS `a`
    WHERE (`a`.`Discriminator` = 'Customer') AND ((`a`.`Id` = @__userId_0) AND (`a`.`SecurityStamp` = @__tokenSecurityStamp_1)))
2025-09-23 20:23:43.463 +03:00 [INF] Executing endpoint 'E_Commerce.Controllers.DiscountController.FilterAsync (E-Commerce)'
2025-09-23 20:23:43.470 +03:00 [INF] Route matched with {action = "FilterAsync", controller = "Discount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[E_Commerce.DtoModels.Responses.ApiResponse`1[System.Collections.Generic.List`1[E_Commerce.DtoModels.DiscoutDtos.DiscountDto]]]] FilterAsync(System.String, System.Nullable`1[System.Boolean], Boolean, Int32, Int32) on controller E_Commerce.Controllers.DiscountController (E-Commerce).
2025-09-23 20:23:43.480 +03:00 [INF] Executing FilterAsync with filters
2025-09-23 20:23:43.486 +03:00 [INF] Execute GetAll for entity Discount
2025-09-23 20:23:43.641 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM `Discount` AS `d`
WHERE `d`.`DeletedAt` IS NULL
2025-09-23 20:23:43.792 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `d`.`Id`, `d`.`Name`, `d`.`Description`, `d`.`DiscountPercent`, `d`.`StartDate`, `d`.`EndDate`, `d`.`IsActive`, `d`.`CreatedAt`, `d`.`ModifiedAt`, `d`.`DeletedAt`
FROM `Discount` AS `d`
WHERE `d`.`DeletedAt` IS NULL
ORDER BY `d`.`CreatedAt`
LIMIT @__p_1 OFFSET @__p_0
2025-09-23 20:23:43.802 +03:00 [INF] Executing OkObjectResult, writing value of type 'E_Commerce.DtoModels.Responses.ApiResponse`1[[System.Collections.Generic.List`1[[E_Commerce.DtoModels.DiscoutDtos.DiscountDto, E-Commerce, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 20:23:43.812 +03:00 [INF] Executed action E_Commerce.Controllers.DiscountController.FilterAsync (E-Commerce) in 335.6227ms
2025-09-23 20:23:43.817 +03:00 [INF] Executed endpoint 'E_Commerce.Controllers.DiscountController.FilterAsync (E-Commerce)'
2025-09-23 20:23:43.821 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/api/Discount?page=1&pageSize=10 - 200 1243 application/json; charset=utf-8 521.6975ms
2025-09-23 20:27:02.076 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:27:02.155 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 20:27:02.294 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:27:02.373 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:27:02.771 +03:00 [INF] Setting cache for key: collection:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:27:02.810 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:27:02.992 +03:00 [INF] Cache set successfully for key: collection:6_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:27:03.030 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:27:04.084 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:27:04.305 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:27:04.798 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:27:04.877 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:27:04.934 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:27:04.935 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:27:05.039 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:27:05.071 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 20:27:05.098 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:27:05.150 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:27:05.160 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:27:05.166 +03:00 [INF] Setting cache for key: product:15:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 20:27:05.291 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:27:05.384 +03:00 [INF] Cache set successfully for key: product:15:variants:search:color::length::waist::size::active:True:deleted:False with tags: [product:15, variantdata]
2025-09-23 20:27:05.456 +03:00 [INF] Setting cache for key: variant:10
2025-09-23 20:27:05.508 +03:00 [INF] Setting cache for key: variant:20
2025-09-23 20:27:05.692 +03:00 [INF] Cache set successfully for key: variant:10 with tags: [product:15, variantdata]
2025-09-23 20:27:05.724 +03:00 [INF] Cache set successfully for key: variant:20 with tags: [product:15, variantdata]
2025-09-23 20:27:16.490 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_500_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:27:16.719 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_500_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:27:18.321 +03:00 [INF] Setting cache for key: order:filter:user:all_deleted:all_page:1_size:200_status:all_IsAdmin:True
2025-09-23 20:27:18.588 +03:00 [INF] Cache set successfully for key: order:filter:user:all_deleted:all_page:1_size:200_status:all_IsAdmin:True with tags: [order]
2025-09-23 20:27:19.498 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:27:19.840 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:27:25.313 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:27:25.555 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:28:04.938 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:28:05.169 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:28:09.395 +03:00 [INF] Setting cache for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False
2025-09-23 20:28:09.612 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:09.613 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:09.619 +03:00 [INF] Cache set successfully for key: subcategory:list_active:True_deleted:False_Search:_page:1_pageSize:10_IsAdmin:False with tags: [subcategorylist]
2025-09-23 20:28:09.627 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:09.832 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:09.835 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:09.846 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:12.565 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:28:12.608 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:28:12.704 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:12.788 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:28:12.838 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_50_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:28:12.923 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:28:13.112 +03:00 [INF] Setting cache for key: product:13:variants:search:color::length::waist::size::active:True:deleted:False
2025-09-23 20:28:13.334 +03:00 [INF] Cache set successfully for key: product:13:variants:search:color::length::waist::size::active:True:deleted:False with tags: [product:13, variantdata]
2025-09-23 20:28:13.577 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:13.796 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:15.637 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:15.637 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:15.661 +03:00 [INF] Setting cache for key: variant:23
2025-09-23 20:28:15.859 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:15.861 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:15.885 +03:00 [INF] Cache set successfully for key: variant:23 with tags: [product:13, variantdata]
2025-09-23 20:28:20.154 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:28:20.381 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:28:39.120 +03:00 [INF] Execute GetAll for entity CartItem
2025-09-23 20:28:39.203 +03:00 [INF] Removing cache by tag: CollectionWithProduct
2025-09-23 20:28:39.263 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`AddedAt`, `c`.`CartId`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`ProductId`, `c`.`ProductVariantId`, `c`.`Quantity`, `c`.`RowVersion`, `c`.`UnitPrice`, `p`.`Id`, `p`.`CreatedAt`, `p`.`DeletedAt`, `p`.`Description`, `p`.`DiscountId`, `p`.`Gender`, `p`.`IsActive`, `p`.`ModifiedAt`, `p`.`Name`, `p`.`Price`, `p`.`Quantity`, `p`.`RowVersion`, `p`.`SubCategoryId`, `p`.`fitType`
FROM `CartItems` AS `c`
INNER JOIN `Products` AS `p` ON `c`.`ProductId` = `p`.`Id`
WHERE `c`.`ProductId` = 13
2025-09-23 20:28:39.288 +03:00 [INF] Execute Update for entity CartItem
2025-09-23 20:28:39.291 +03:00 [INF] CartItem marked for update (pending save)
2025-09-23 20:28:39.386 +03:00 [INF] Removing cache by tag: subcategorywithdata
2025-09-23 20:28:39.414 +03:00 [INF] Removing cache by tags: [Product, Productwithdata, ProductList]
2025-09-23 20:28:39.603 +03:00 [WRN] No cache entries found for tag: subcategorywithdata
2025-09-23 20:28:40.061 +03:00 [INF] Removed 2 cache entries for tag: CollectionWithProduct
2025-09-23 20:28:41.643 +03:00 [INF] Removing cache by tag: cart
2025-09-23 20:28:42.223 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:28:42.293 +03:00 [INF] Removed 1 cache entries for tag: cart
2025-09-23 20:28:42.424 +03:00 [INF] Removed 10 cache entries for tags: [Product, Productwithdata, ProductList]
2025-09-23 20:28:42.454 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:28:51.188 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:28:51.411 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:28:52.587 +03:00 [INF] Setting cache for key: category:4_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:52.656 +03:00 [INF] Setting cache for key: category:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:52.804 +03:00 [INF] Cache set successfully for key: category:4_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:52.873 +03:00 [INF] Cache set successfully for key: category:8_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:53.196 +03:00 [INF] Setting cache for key: category:6_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:53.257 +03:00 [INF] Setting cache for key: collection:8_active:True_deleted:False_IsAdmin:False
2025-09-23 20:28:53.417 +03:00 [INF] Cache set successfully for key: category:6_active:True_deleted:False_IsAdmin:False with tags: [categorywithdata]
2025-09-23 20:28:53.482 +03:00 [INF] Cache set successfully for key: collection:8_active:True_deleted:False_IsAdmin:False with tags: [CollectionWithProduct]
2025-09-23 20:28:54.053 +03:00 [INF] Setting cache for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:28:54.279 +03:00 [INF] Cache set successfully for key: Product:list_active:True_deleted:False_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100_True_False_pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:28:59.218 +03:00 [INF] Executing GetByIdAsync for entity Cart with ID: 3
2025-09-23 20:28:59.395 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`CheckoutDate`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`UserId`
FROM `Cart` AS `c`
WHERE `c`.`Id` = @__id_0
LIMIT 1
2025-09-23 20:29:02.926 +03:00 [INF] Removing cache by tag: cart
2025-09-23 20:29:03.570 +03:00 [INF] Removed 1 cache entries for tag: cart
2025-09-23 20:29:14.847 +03:00 [INF] Setting cache for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 20:29:15.072 +03:00 [INF] Cache set successfully for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True with tags: [subcategorylist]
2025-09-23 20:29:18.321 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:29:18.552 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:29:26.279 +03:00 [INF] Setting cache for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 20:29:26.501 +03:00 [INF] Cache set successfully for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True with tags: [subcategorylist]
2025-09-23 20:29:27.309 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:29:27.537 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_10___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:29:28.743 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:29:28.973 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:29:29.460 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:29:29.693 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:29:31.713 +03:00 [INF] Setting cache for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 20:29:31.936 +03:00 [INF] Cache set successfully for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True with tags: [subcategorylist]
2025-09-23 20:29:36.247 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:29:36.475 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:29:36.693 +03:00 [INF] Setting cache for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True
2025-09-23 20:29:36.912 +03:00 [INF] Cache set successfully for key: subcategory:list_active:_deleted:_Search:_page:1_pageSize:10_IsAdmin:True with tags: [subcategorylist]
2025-09-23 20:29:39.305 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:29:39.536 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:29:45.414 +03:00 [INF] Setting cache for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False
2025-09-23 20:29:45.651 +03:00 [INF] Cache set successfully for key: Product:list_active:_deleted:_search:advsearch_{"SearchTerm":null,"Subcategoryid":null,"Gender":null,"FitType":null,"MinPrice":null,"MaxPrice":null,"InStock":null,"OnSale":null,"SortBy":null,"SortDescending":false,"Color":null,"MinSize":null,"MaxSize":null}_1_100___pageSize:10_page:1_tag:_IsAdmin:False with tags: [ProductList]
2025-09-23 20:29:52.125 +03:00 [INF] Setting cache for key: Product:13_active:_deleted:_IsAdmin:True
2025-09-23 20:29:52.344 +03:00 [INF] Cache set successfully for key: Product:13_active:_deleted:_IsAdmin:True with tags: [Productwithdata]
2025-09-23 20:30:05.313 +03:00 [INF] Removing cache by tag: CollectionWithProduct
2025-09-23 20:30:05.955 +03:00 [INF] Removed 1 cache entries for tag: CollectionWithProduct
2025-09-23 20:30:13.145 +03:00 [INF] Setting cache for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False
2025-09-23 20:30:13.372 +03:00 [INF] Cache set successfully for key: category:list_active:True_deleted:False_search:_page:1_pageSize:50_IsAdmin:False with tags: [categorylist]
2025-09-23 20:30:16.456 +03:00 [INF] Execute GetAll for entity CartItem
2025-09-23 20:30:16.466 +03:00 [INF] Retrieving cart for user: e682f183-1c61-400b-aa5a-171750f446b5
2025-09-23 20:30:16.609 +03:00 [INF] Executed DbCommand (68ms) [Parameters=[@__cartItemId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`Id`, `c`.`AddedAt`, `c`.`CartId`, `c`.`CreatedAt`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`ProductId`, `c`.`ProductVariantId`, `c`.`Quantity`, `c`.`RowVersion`, `c`.`UnitPrice`
FROM `CartItems` AS `c`
WHERE (`c`.`Id` = @__cartItemId_0) AND `c`.`DeletedAt` IS NULL
LIMIT 1
2025-09-23 20:30:16.615 +03:00 [INF] CartItem 143 price updated to 1000.00000000
2025-09-23 20:30:16.635 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`Id`, `t`.`CheckoutDate`, `t`.`CreatedAt`, `t`.`CustomerId`, `t`.`DeletedAt`, `t`.`ModifiedAt`, `t`.`UserId`, `t0`.`Id`, `t0`.`AddedAt`, `t0`.`CartId`, `t0`.`CreatedAt`, `t0`.`DeletedAt`, `t0`.`ModifiedAt`, `t0`.`ProductId`, `t0`.`ProductVariantId`, `t0`.`Quantity`, `t0`.`RowVersion`, `t0`.`UnitPrice`
FROM (
    SELECT `c`.`Id`, `c`.`CheckoutDate`, `c`.`CreatedAt`, `c`.`CustomerId`, `c`.`DeletedAt`, `c`.`ModifiedAt`, `c`.`UserId`
    FROM `Cart` AS `c`
    WHERE (`c`.`UserId` = @__userId_0) AND `c`.`DeletedAt` IS NULL
    LIMIT 1
) AS `t`
LEFT JOIN (
    SELECT `c0`.`Id`, `c0`.`AddedAt`, `c0`.`CartId`, `c0`.`CreatedAt`, `c0`.`DeletedAt`, `c0`.`ModifiedAt`, `c0`.`ProductId`, `c0`.`ProductVariantId`, `c0`.`Quantity`, `c0`.`RowVersion`, `c0`.`UnitPrice`
    FROM `CartItems` AS `c0`
    WHERE `c0`.`DeletedAt` IS NULL
) AS `t0` ON `t`.`Id` = `t0`.`CartId`
ORDER BY `t`.`Id`
2025-09-23 20:30:16.894 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (Size = 8) (DbType = Binary), @p0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `CartItems` SET `UnitPrice` = @p0
WHERE `Id` = @p1 AND `RowVersion` IS NULL;
SELECT `RowVersion`
FROM `CartItems`
WHERE ROW_COUNT() = 1 AND `Id` = @p1;
2025-09-23 20:39:19.196 +03:00 [WRN] Stopping the server due to DomainUnload or ProcessExit event...
2025-09-23 20:39:19.197 +03:00 [INF] Server mrrobot:13912:75e21812 caught stopping signal...
2025-09-23 20:39:19.199 +03:00 [INF] Server mrrobot:13912:75e21812 caught stopped signal...
2025-09-23 20:39:19.204 +03:00 [WRN] Server mrrobot:13912:75e21812 caught shutdown signal...
2025-09-23 20:39:19.204 +03:00 [INF] Server mrrobot:13912:75e21812 All dispatchers stopped
2025-09-23 20:39:19.789 +03:00 [INF] Server mrrobot:13912:75e21812 successfully reported itself as stopped in 580.3071 ms
2025-09-23 20:39:19.793 +03:00 [INF] Server mrrobot:13912:75e21812 has been stopped in total 594.0955 ms
2025-09-23 23:54:35.366 +03:00 [WRN] The foreign key property 'Customer.ImageId1' was created in shadow state because a conflicting property with the simple name 'ImageId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-09-23 23:54:38.669 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 23:54:39.369 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='Fashion_Site' AND TABLE_NAME='__EFMigrationsHistory';
2025-09-23 23:54:39.602 +03:00 [INF] Executed DbCommand (119ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-09-23 23:54:39.673 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 23:54:39.738 +03:00 [INF] Starting data seeding...
2025-09-23 23:54:39.910 +03:00 [INF] User profile is available. Using 'C:\Users\DELL\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-23 23:54:40.337 +03:00 [INF] DB tables already exist. Exit install
2025-09-23 23:54:41.566 +03:00 [INF] Executed DbCommand (217ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 23:54:41.782 +03:00 [INF] Role 'Admin' already exists.
2025-09-23 23:54:41.950 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`ConcurrencyStamp`, `a`.`Name`, `a`.`NormalizedName`
FROM `AspNetRoles` AS `a`
WHERE `a`.`NormalizedName` = @__normalizedName_0
LIMIT 1
2025-09-23 23:54:41.980 +03:00 [INF] Role 'User' already exists.
2025-09-23 23:54:42.205 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`Id`, `a`.`AccessFailedCount`, `a`.`ConcurrencyStamp`, `a`.`Discriminator`, `a`.`Email`, `a`.`EmailConfirmed`, `a`.`LockoutEnabled`, `a`.`LockoutEnd`, `a`.`NormalizedEmail`, `a`.`NormalizedUserName`, `a`.`PasswordHash`, `a`.`PhoneNumber`, `a`.`PhoneNumberConfirmed`, `a`.`SecurityStamp`, `a`.`TwoFactorEnabled`, `a`.`UserName`, `a`.`Age`, `a`.`CreateAt`, `a`.`DeletedAt`, `a`.`Gender`, `a`.`ImageId`, `a`.`ImageId1`, `a`.`LastVisit`, `a`.`Name`
FROM `AspNetUsers` AS `a`
WHERE (`a`.`Discriminator` = 'Customer') AND (`a`.`NormalizedEmail` = @__normalizedEmail_0)
LIMIT 2
2025-09-23 23:54:42.487 +03:00 [INF] Admin user already exists. Skipping provider/method creation.
2025-09-23 23:54:42.495 +03:00 [INF] Data seeding completed successfully.
2025-09-23 23:54:45.501 +03:00 [INF] Now listening on: http://localhost:5069
2025-09-23 23:54:45.843 +03:00 [INF] Starting Hangfire Server using job storage: 'Server: mysql-3581f657-omargamal1132004-b0c1.b.aivencloud.com@Fashion_Site'
2025-09-23 23:54:45.990 +03:00 [INF] Using the following options for SQL Server job storage:
2025-09-23 23:54:46.220 +03:00 [INF]     Queue poll interval: 00:00:10.
2025-09-23 23:54:46.459 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-09-23 23:54:46.873 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 23:54:47.163 +03:00 [INF] Server mrrobot:8484:6888ec80 successfully announced in 214.4542 ms
2025-09-23 23:54:47.281 +03:00 [INF] Hosting environment: Development
2025-09-23 23:54:47.729 +03:00 [INF] Server mrrobot:8484:6888ec80 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-09-23 23:54:48.946 +03:00 [INF] Content root path: D:\project_fashion\E-Commerce-API-main
2025-09-23 23:54:48.960 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.html - null null
2025-09-23 23:54:50.288 +03:00 [INF] Server mrrobot:8484:6888ec80 all the dispatchers started
2025-09-23 23:54:51.978 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/index.js - null null
2025-09-23 23:54:51.992 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 23:54:52.029 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/_vs/browserLink - null null
2025-09-23 23:54:52.291 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.js - 200 null application/javascript;charset=utf-8 313.6317ms
2025-09-23 23:54:52.332 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 452.2925ms
2025-09-23 23:54:52.231 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/index.html - 200 null text/html;charset=utf-8 3258.1442ms
2025-09-23 23:54:52.667 +03:00 [WRN] Failed to process the job '14892': an exception occurred. Retry attempt 9 of 10 will be performed in 01:12:52.
System.InvalidOperationException: The type `E_Commerce.Services.Order.OrderCacheHelper` does not contain a method with signature `SetOrderFilterCacheAsync(String, Nullable`1, Int32, Int32, Nullable`1, List`1, Nullable`1)`
   at Hangfire.Storage.InvocationData.<>c.<CachedDeserializeMethod>b__33_0(MethodDeserializerCacheKey key) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 350
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Storage.InvocationData.CachedDeserializeMethod(Func`2 typeResolver, String typeName, String methodName, String parameterTypes, Type& type, MethodInfo& methodInfo) in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 335
   at Hangfire.Storage.InvocationData.DeserializeJob() in C:\projects\hangfire-525\src\Hangfire.Core\Storage\InvocationData.cs:line 100
2025-09-23 23:54:52.846 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/_vs/browserLink - 200 null text/javascript; charset=UTF-8 812.2307ms
2025-09-23 23:54:53.412 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - null null
2025-09-23 23:54:54.988 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5069/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 1576.0219ms
2025-09-23 23:55:34.309 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond..
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Span`1 buffer)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesSync|6_0(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 34
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:55:38.165 +03:00 [ERR] Execution RecurringJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond..
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Span`1 buffer)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesSync|6_0(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 34
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlDistributedLock..ctor(MySqlStorage storage, String resource, TimeSpan timeout, MySqlStorageOptions storageOptions)
   at Hangfire.MySql.MySqlStorageConnection.AcquireDistributedLock(String resource, TimeSpan timeout)
   at Hangfire.Server.RecurringJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 423
   at Hangfire.Server.RecurringJobScheduler.EnqueueNextRecurringJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 203
   at Hangfire.Server.RecurringJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\RecurringJobScheduler.cs:line 176
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 23:55:41.912 +03:00 [ERR] Execution DelayedJobScheduler is in the Failed state now due to an exception, execution will be retried in no more than 00:00:04
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond..
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Span`1 buffer)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesSync|6_0(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 34
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlDistributedLock..ctor(MySqlStorage storage, String resource, TimeSpan timeout, MySqlStorageOptions storageOptions)
   at Hangfire.MySql.MySqlStorageConnection.AcquireDistributedLock(String resource, TimeSpan timeout)
   at Hangfire.Server.DelayedJobScheduler.UseConnectionDistributedLock[T](JobStorage storage, Func`2 action) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 411
   at Hangfire.Server.DelayedJobScheduler.EnqueueNextScheduledJobs(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 167
   at Hangfire.Server.DelayedJobScheduler.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\DelayedJobScheduler.cs:line 148
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 23:55:42.484 +03:00 [ERR] Execution Worker is in the Failed state now due to an exception, execution will be retried in no more than 00:05:00
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond..
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Span`1 buffer)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesSync|6_0(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 34
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.JobQueue.MySqlJobQueue.Dequeue(String[] queues, CancellationToken cancellationToken)
   at Hangfire.MySql.MySqlStorageConnection.FetchNextJob(String[] queues, CancellationToken cancellationToken)
   at Hangfire.Server.Worker.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\Worker.cs:line 107
   at Hangfire.Server.BackgroundProcessDispatcherBuilder.ExecuteProcess(Guid executionId, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Server\BackgroundProcessDispatcherBuilder.cs:line 82
   at Hangfire.Processing.BackgroundExecution.Run(Action`2 callback, Object state) in C:\projects\hangfire-525\src\Hangfire.Core\Processing\BackgroundExecution.cs:line 118
2025-09-23 23:56:19.703 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Connect Timeout expired.
 ---> MySqlConnector.MySqlException (0x80004005): The Command Timeout expired before the operation completed.
 ---> System.IO.IOException: Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond..
 ---> System.Net.Sockets.SocketException (10060): A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   --- End of inner exception stack trace ---
   at System.Net.Sockets.NetworkStream.Read(Span`1 buffer)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.Read(Span`1 buffer)
   at MySqlConnector.Protocol.Serialization.StreamByteHandler.<ReadBytesAsync>g__DoReadBytesSync|6_0(Memory`1 buffer) in /_/src/MySqlConnector/Protocol/Serialization/StreamByteHandler.cs:line 34
   at MySqlConnector.Protocol.Serialization.BufferedByteReader.ReadBytesAsync(IByteHandler byteHandler, ArraySegment`1 buffer, Int32 totalBytesToRead, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/BufferedByteReader.cs:line 34
   at MySqlConnector.Protocol.Serialization.ProtocolUtility.ReadPayloadAsync(BufferedByteReader bufferedByteReader, IByteHandler byteHandler, Func`1 getNextSequenceNumber, ArraySegmentHolder`1 previousPayloads, ProtocolErrorBehavior protocolErrorBehavior, IOBehavior ioBehavior) in /_/src/MySqlConnector/Protocol/Serialization/ProtocolUtility.cs:line 421
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 882
   at MySqlConnector.Core.ServerSession.TryResetConnectionAsync(ConnectionSettings cs, MySqlConnection connection, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 593
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 74
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 951
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:56:52.579 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:57:22.966 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:57:53.140 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:58:23.346 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:58:53.569 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:59:23.796 +03:00 [WRN] Server mrrobot:8484:6888ec80 encountered an exception while sending heartbeat
MySqlConnector.MySqlException (0x80004005): Unable to connect to any of the specified MySQL hosts.
   at MySqlConnector.Core.ServerSession.ConnectAsync(ConnectionSettings cs, MySqlConnection connection, Int64 startingTimestamp, ILoadBalancer loadBalancer, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ServerSession.cs:line 437
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 428
   at MySqlConnector.Core.ConnectionPool.ConnectSessionAsync(MySqlConnection connection, Action`4 logMessage, Int64 startingTimestamp, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 433
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 111
   at MySqlConnector.Core.ConnectionPool.GetSessionAsync(MySqlConnection connection, Int64 startingTimestamp, Int32 timeoutMilliseconds, Activity activity, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/ConnectionPool.cs:line 144
   at MySqlConnector.MySqlConnection.CreateSessionAsync(ConnectionPool pool, Int64 startingTimestamp, Activity activity, Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 919
   at MySqlConnector.MySqlConnection.OpenAsync(Nullable`1 ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlConnection.cs:line 419
   at Hangfire.MySql.MySqlStorage.CreateAndOpenConnection()
   at Hangfire.MySql.MySqlStorage.UseConnection[T](Func`2 func)
   at Hangfire.MySql.MySqlStorage.UseConnection(Action`1 action)
   at Hangfire.MySql.MySqlStorageConnection.Heartbeat(String serverId)
   at Hangfire.Server.ServerHeartbeatProcess.Execute(BackgroundProcessContext context) in C:\projects\hangfire-525\src\Hangfire.Core\Server\ServerHeartbeatProcess.cs:line 50
2025-09-23 23:59:55.078 +03:00 [INF] Server mrrobot:8484:6888ec80 is now able to continue sending heartbeats
